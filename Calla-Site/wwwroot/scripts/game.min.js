/**
 * https://github.com/csnover/TraceKit
 * @license MIT
 * @namespace TraceKit
 */
var e;!function(e,t){if(e){var i={},n=e.TraceKit,s=[].slice,a=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;i.noConflict=function(){return e.TraceKit=n,i},i.wrap=function(e){return function(){try{return e.apply(this,arguments)}catch(e){throw i.report(e),e}}},i.report=function(){var t,n,s=[],r=null,l=null;function c(e,t,n){var a=null;if(!t||i.collectWindowErrors){for(var r in s)if(o(s,r))try{s[r](e,t,n)}catch(e){a=e}if(a)throw a}}function u(e,n,s,o,r){if(l)i.computeStackTrace.augmentStackTraceWithInitialElement(l,n,s,e),h();else if(r)c(i.computeStackTrace(r),!0,r);else{var u,A={url:n,line:s,column:o},d=e;if("[object String]"==={}.toString.call(e)){var p=e.match(a);p&&(u=p[1],d=p[2])}A.func=i.computeStackTrace.guessFunctionName(A.url,A.line),A.context=i.computeStackTrace.gatherContext(A.url,A.line),c({name:u,message:d,mode:"onerror",stack:[A]},!0,null)}return!!t&&t.apply(this,arguments)}function h(){var e=l,t=r;l=null,r=null,c(e,!1,t)}function A(e){if(l){if(r===e)return;h()}var t=i.computeStackTrace(e);throw l=t,r=e,setTimeout((function(){r===e&&h()}),t.incomplete?2e3:0),e}return A.subscribe=function(i){!function(){if(!0===n)return;t=e.onerror,e.onerror=u,n=!0}(),s.push(i)},A.unsubscribe=function(i){for(var a=s.length-1;a>=0;--a)s[a]===i&&s.splice(a,1);0===s.length&&(e.onerror=t,n=!1)},A}(),i.computeStackTrace=function(){var t={};function n(n){if("string"!=typeof n)return[];if(!o(t,n)){var s="",a="";try{a=e.document.domain}catch(e){}var r=/(.*)\:\/\/([^:\/]+)([:\d]*)\/{0,1}([\s\S]*)/.exec(n);r&&r[2]===a&&(s=function(t){if(!i.remoteFetching)return"";try{var n=function(){try{return new e.XMLHttpRequest}catch(t){return new e.ActiveXObject("Microsoft.XMLHTTP")}}();return n.open("GET",t,!1),n.send(""),n.responseText}catch(e){return""}}(n)),t[n]=s?s.split("\n"):[]}return t[n]}function s(e,t){var i,s=/function ([^(]*)\(([^)]*)\)/,a=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,o="",l=n(e);if(!l.length)return"?";for(var c=0;c<10;++c)if(!r(o=l[t-c]+o)){if(i=a.exec(o))return i[1];if(i=s.exec(o))return i[1]}return"?"}function a(e,t){var s=n(e);if(!s.length)return null;var a=[],o=Math.floor(i.linesOfContext/2),l=o+i.linesOfContext%2,c=Math.max(0,t-o-1),u=Math.min(s.length,t+l-1);t-=1;for(var h=c;h<u;++h)r(s[h])||a.push(s[h]);return a.length>0?a:null}function l(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function c(e){return l(e).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function u(e,t){for(var i,s,a=0,o=t.length;a<o;++a)if((i=n(t[a])).length&&(i=i.join("\n"),s=e.exec(i)))return{url:t[a],line:i.substring(0,s.index).split("\n").length,column:s.index-i.lastIndexOf("\n",s.index)-1};return null}function h(e,t,i){var s,a=n(t),o=new RegExp("\\b"+l(e)+"\\b");return i-=1,a&&a.length>i&&(s=o.exec(a[i]))?s.index:null}function A(t){if(!r(e&&e.document)){for(var i,n,s,a,o=[e.location.href],h=e.document.getElementsByTagName("script"),A=""+t,d=0;d<h.length;++d){var p=h[d];p.src&&o.push(p.src)}if(s=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/.exec(A)){var g=s[1]?"\\s+"+s[1]:"",f=s[2].split(",").join("\\s*,\\s*");i=l(s[3]).replace(/;$/,";?"),n=new RegExp("function"+g+"\\s*\\(\\s*"+f+"\\s*\\)\\s*{\\s*"+i+"\\s*}")}else n=new RegExp(l(A).replace(/\s+/g,"\\s+"));if(a=u(n,o))return a;if(s=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/.exec(A)){var m=s[1];if(i=c(s[2]),a=u(n=new RegExp("on"+m+"=[\\'\"]\\s*"+i+"\\s*[\\'\"]","i"),o[0]))return a;if(a=u(n=new RegExp(i),o))return a}return null}}function d(e){if(!e.stack)return null;for(var t,i,n,o=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,l=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,c=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,u=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,A=/\((\S*)(?::(\d+))(?::(\d+))\)/,d=e.stack.split("\n"),p=[],g=/^(.*) is undefined$/.exec(e.message),f=0,m=d.length;f<m;++f){if(i=o.exec(d[f])){var v=i[2]&&0===i[2].indexOf("native");i[2]&&0===i[2].indexOf("eval")&&(t=A.exec(i[2]))&&(i[2]=t[1],i[3]=t[2],i[4]=t[3]),n={url:v?null:i[2],func:i[1]||"?",args:v?[i[2]]:[],line:i[3]?+i[3]:null,column:i[4]?+i[4]:null}}else if(i=c.exec(d[f]))n={url:i[2],func:i[1]||"?",args:[],line:+i[3],column:i[4]?+i[4]:null};else{if(!(i=l.exec(d[f])))continue;i[3]&&i[3].indexOf(" > eval")>-1&&(t=u.exec(i[3]))?(i[3]=t[1],i[4]=t[2],i[5]=null):0!==f||i[5]||r(e.columnNumber)||(p[0].column=e.columnNumber+1),n={url:i[3],func:i[1]||"?",args:i[2]?i[2].split(","):[],line:i[4]?+i[4]:null,column:i[5]?+i[5]:null}}!n.func&&n.line&&(n.func=s(n.url,n.line)),n.context=n.line?a(n.url,n.line):null,p.push(n)}return p.length?(p[0]&&p[0].line&&!p[0].column&&g&&(p[0].column=h(g[1],p[0].url,p[0].line)),{mode:"stack",name:e.name,message:e.message,stack:p}):null}function p(e,t,i,n){var o={url:t,line:i};if(o.url&&o.line){e.incomplete=!1,o.func||(o.func=s(o.url,o.line)),o.context||(o.context=a(o.url,o.line));var r=/ '([^']+)' /.exec(n);if(r&&(o.column=h(r[1],o.url,o.line)),e.stack.length>0&&e.stack[0].url===o.url){if(e.stack[0].line===o.line)return!1;if(!e.stack[0].line&&e.stack[0].func===o.func)return e.stack[0].line=o.line,e.stack[0].context=o.context,!1}return e.stack.unshift(o),e.partial=!0,!0}return e.incomplete=!0,!1}function g(e,t){for(var n,a,o,r=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,l=[],c={},u=!1,d=g.caller;d&&!u;d=d.caller)if(d!==f&&d!==i.report){if(a={url:null,func:"?",args:[],line:null,column:null},d.name?a.func=d.name:(n=r.exec(d.toString()))&&(a.func=n[1]),void 0===a.func)try{a.func=n.input.substring(0,n.input.indexOf("{"))}catch(e){}if(o=A(d)){a.url=o.url,a.line=o.line,"?"===a.func&&(a.func=s(a.url,a.line));var m=/ '([^']+)' /.exec(e.message||e.description);m&&(a.column=h(m[1],o.url,o.line))}c[""+d]?u=!0:c[""+d]=!0,l.push(a)}t&&l.splice(0,t);var v={mode:"callers",name:e.name,message:e.message,stack:l};return p(v,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),v}function f(t,i){var r=null;i=null==i?0:+i;try{if(r=function(e){var t=e.stacktrace;if(t){for(var i,n=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,o=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,r=t.split("\n"),l=[],c=0;c<r.length;c+=2){var u=null;if((i=n.exec(r[c]))?u={url:i[2],line:+i[1],column:null,func:i[3],args:[]}:(i=o.exec(r[c]))&&(u={url:i[6],line:+i[1],column:+i[2],func:i[3]||i[4],args:i[5]?i[5].split(","):[]}),u){if(!u.func&&u.line&&(u.func=s(u.url,u.line)),u.line)try{u.context=a(u.url,u.line)}catch(e){}u.context||(u.context=[r[c+1]]),l.push(u)}}return l.length?{mode:"stacktrace",name:e.name,message:e.message,stack:l}:null}}(t))return r}catch(e){false}try{if(r=d(t))return r}catch(e){false}try{if(r=function(t){var i=t.message.split("\n");if(i.length<4)return null;var r,l=/^\s*Line (\d+) of linked script ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,h=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,A=/^\s*Line (\d+) of function script\s*$/i,d=[],p=e&&e.document&&e.document.getElementsByTagName("script"),g=[];for(var f in p)o(p,f)&&!p[f].src&&g.push(p[f]);for(var m=2;m<i.length;m+=2){var v=null;if(r=l.exec(i[m]))v={url:r[2],func:r[3],args:[],line:+r[1],column:null};else if(r=h.exec(i[m])){v={url:r[3],func:r[4],args:[],line:+r[1],column:null};var w=+r[1],y=g[r[2]-1];if(y){var D=n(v.url);if(D){var b=(D=D.join("\n")).indexOf(y.innerText);b>=0&&(v.line=w+D.substring(0,b).split("\n").length)}}}else if(r=A.exec(i[m])){var x=e.location.href.replace(/#.*$/,""),C=u(new RegExp(c(i[m+1])),[x]);v={url:x,func:"",args:[],line:C?C.line:r[1],column:null}}if(v){v.func||(v.func=s(v.url,v.line));var B=a(v.url,v.line),P=B?B[Math.floor(B.length/2)]:null;B&&P.replace(/^\s*/,"")===i[m+1].replace(/^\s*/,"")?v.context=B:v.context=[i[m+1]],d.push(v)}}return d.length?{mode:"multiline",name:t.name,message:i[0],stack:d}:null}(t))return r}catch(e){false}try{if(r=g(t,i+1))return r}catch(e){false}return{name:t.name,message:t.message,mode:"failed"}}return f.augmentStackTraceWithInitialElement=p,f.computeStackTraceFromStackProp=d,f.guessFunctionName=s,f.gatherContext=a,f.ofCaller=function(e){e=1+(null==e?0:+e);try{throw new Error}catch(t){return f(t,e+1)}},f.getSource=n,f}(),i.extendToAsynchronousCallbacks=function(){var t=function(t){var n=e[t];e[t]=function(){var e=s.call(arguments),t=e[0];return"function"==typeof t&&(e[0]=i.wrap(t)),n.apply?n.apply(this,e):n(e[0],e[1])}};t("setTimeout"),t("setInterval")},i.remoteFetching||(i.remoteFetching=!0),i.collectWindowErrors||(i.collectWindowErrors=!0),(!i.linesOfContext||i.linesOfContext<1)&&(i.linesOfContext=11),"function"==typeof define&&define.amd?define("TraceKit",[],i):"undefined"!=typeof module&&module.exports&&e.module!==module?module.exports=i:e.TraceKit=i}function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function r(e){return void 0===e}}("undefined"!=typeof window?window:global),e=!0,TraceKit.report.subscribe(t=>{if(e)try{t.userAgent=navigator.userAgent;const i=new XMLHttpRequest;i.onerror=function(){e=!1},i.open("POST","/ErrorLog"),i.setRequestHeader("Content-Type","application/json"),i.send(JSON.stringify(t))}catch(t){e=!1}});try{function t(e){if(!(e instanceof Array))throw new Error("Must provide an array as the first parameter.");return e.splice(0)}function i(e,...t){if(!e||void 0===e.length)throw new Error("Must provide an array as the first parameter.");for(let i of t)for(let t of e)if(i(t))return t;return null}class e extends Event{constructor(){super("audioActivity"),this.id=null,this.isActive=!1,Object.seal(this)}set(e,t){this.id=e,this.isActive=t}}function n(e,t,i){return typeof e===t||e instanceof i}function s(e){return n(e,"function",Function)}function a(e){return n(e,"string",String)}function o(e){return n(e,"number",Number)}function r(e){return o(e)&&!Number.isNaN(e)}function l(e){return n(e,"boolean",Boolean)}const wt=function(){try{return new window.EventTarget,class extends EventTarget{constructor(){super()}}}catch(e){const t=new WeakMap;return class{constructor(){t.set(this,new Map)}addEventListener(e,i,n){if(s(i)){const s=t.get(this);s.has(e)||s.set(e,[]);const a=s.get(e);a.find(e=>e.callback===i)||a.push({target:this,callback:i,options:n})}}removeEventListener(e,i){if(s(i)){const n=t.get(this);if(n.has(e)){const t=n.get(e),s=t.findIndex(e=>e.callback===i);s>=0&&function(e,t){if(!(e instanceof Array))throw new Error("Must provide an array as the first parameter.");e.splice(t,1)}(t,s)}}}dispatchEvent(e){const i=t.get(this);if(i.has(e.type)){const t=i.get(e.type);for(let i of t)i.options&&i.options.once&&this.removeEventListener(e.type,i.callback),i.callback.call(i.target,e);return!e.defaultPrevented}return!0}}}}(),yt=["change","click","contextmenu","dblclick","mouseup","pointerup","reset","submit","touchend"];async function c(e){const t=fetch(e),i=await t;if(!i.ok)throw new Error(`[${i.status}] - ${i.statusText}`);return i}async function u(e,t){const{buffer:i,contentType:n}=await async function(e,t){if(!s(t))throw new Error("progress callback is required");t(0,1,e);const i=await c(e),n=parseInt(i.headers.get("Content-Length"),10);if(!n)throw new Error("Server did not provide a content length header.");const a=i.headers.get("Content-Type");if(!a)throw new Error("Server did not provide a content type");const o=i.body.getReader(),r=new Uint8Array(n);let l=0;for(;;){const{done:i,value:s}=await o.read();if(i)break;if(l+s.length>n)throw new Error("Whoa! Recieved content exceeded expected amount");r.set(s,l),l+=s.length,t(l,n,e)}return t(1,1,e),{buffer:r,contentType:a}}(e,t);return new Blob([i],{type:n})}const Dt=new Map;async function h(e,t=null){if(s(t))return await async function(e,t){const i=e;if(Dt.has(i)){t(0,1,e);const n=Dt.get(i);return t(1,1,e),n}{const n=await u(e,t),s=URL.createObjectURL(n);return Dt.set(i,s),s}}(e,t);const i=await async function(e,t=null){if(s(t))return await u(e,t);const i=await c(e);return await i.blob()}(e);return URL.createObjectURL(i)}function A(e,t,i){return Math.min(i,Math.max(t,e))}const bt=new e,xt=0,Ct=60,Bt=5;function d(e,t,i){const n=t/2;return A(Math.round(e/n*i),0,i)}class Pt extends wt{constructor(e,t,i){if(super(),!r(i)||i<=0)throw new Error("Buffer size must be greater than 0");this.id=e.id,this.bufferSize=i,this.buffer=new Float32Array(this.bufferSize),this.wasActive=!1,this.lastAudible=!0,this.activityCounter=0,this.analyser=null;const n=()=>{e.spatializer.source?(this.analyser=t.createAnalyser(),this.analyser.fftSize=2*this.bufferSize,this.analyser.smoothingTimeConstant=.2,e.spatializer.source.connect(this.analyser)):setTimeout(n,0)};n()}dispose(){this.analyser&&(this.analyser.disconnect(),this.analyser=null),this.buffer=null}update(){if(this.analyser){this.analyser.getFloatFrequencyData(this.buffer);const e=1.1+function(e,t,i,n,s){const a=e.context.sampleRate,o=d(i,a,s),r=d(n,a,s),l=r-o;let c=0;for(let e=o;e<r;++e)c+=t[e];return 0===l?0:c/l}(this.analyser,this.buffer,85,255,this.bufferSize)/100;e>=.5&&this.activityCounter<Ct?this.activityCounter++:e<.5&&this.activityCounter>xt&&this.activityCounter--;const t=this.activityCounter>Bt;this.wasActive!==t&&(this.wasActive=t,bt.id=this.id,bt.isActive=t,this.dispatchEvent(bt))}}}function p(e,t,i){const n=i-t;return 0===n?0:(e-t)/n}function g(e,t,i,n){const s=t.dot(i),a=Math.acos(s);if(0!==a){const s=Math.sin(a),o=Math.sin((1-n)*a)/s,r=Math.sin(n*a)/s;e.x=o*t.x+r*i.x,e.y=o*t.y+r*i.y,e.x=o*t.z+r*i.z}}class Et{constructor(){this.x=0,this.y=0,this.z=0,Object.seal(this)}set(e,t,i){this.x=e,this.y=t,this.z=i}copy(e){this.x=e.x,this.y=e.y,this.z=e.z}}class _t{constructor(){this.t=0,this.p=new Et,this.f=new Et,this.f.set(0,0,-1),this.u=new Et,this.u.set(0,1,0),Object.seal(this)}set(e,t,i,n,s,a,o,r,l){this.p.set(e,t,i),this.f.set(n,s,a),this.u.set(o,r,l)}copy(e){this.p.copy(e.p),this.f.copy(e.f),this.u.copy(e.u)}interpolate(e,t,i){if(i<=e.t)this.copy(e);else if(t.t<=i)this.copy(t);else if(e.t<i){const n=p(i,e.t,t.t);this.p.copy(e.p),this.p.lerp(t.p,n),g(this.f,e.f,t.f,n),g(this.u,e.u,t.u,n),this.t=i}}}class Mt{constructor(){this.start=new _t,this.current=new _t,this.end=new _t,Object.seal(this)}setTarget(e,t,i,n,s,a,o,r,l,c,u){this.end.set(e,t,i,n,s,a,o,r,l),this.end.t=c+u,u<=0?(this.start.copy(this.end),this.start.t=c,this.current.copy(this.end),this.current.t=c):(this.start.copy(this.current),this.start.t=c)}setTargetPosition(e,t,i,n,s){this.setTarget(e,t,i,this.end.f.x,this.end.f.y,this.end.f.z,this.end.u.x,this.end.u.y,this.end.u.z,n,s)}setTargetOrientation(e,t,i,n,s,a,o,r){this.setTarget(this.end.p.x,this.end.p.y,this.end.p.z,e,t,i,n,s,a,o,r)}update(e){this.current.interpolate(this.start,this.end,e)}}class St{constructor(){this.pose=new Mt,this.tracks=new Map,this._spatializer=null}get spatializer(){return this._spatializer}set spatializer(e){this.spatializer!==e&&(this._spatializer&&this._spatializer.dispose(),this._spatializer=e)}dispose(){this.spatializer=null}update(e){this.pose.update(e),this.spatializer&&this.spatializer.update(this.pose.current)}}class Ft{constructor(){this._t=performance.now()/1e3,Object.seal(this)}get currentTime(){return performance.now()/1e3-this._t}get destination(){return null}}const Tt=HTMLAudioElement.prototype.setSinkId instanceof Function;class kt extends wt{constructor(){super(),this.minDistance=1,this.minDistanceSq=1,this.maxDistance=10,this.maxDistanceSq=100,this.rolloff=1,this.transitionTime=.5}setAudioProperties(e,t,i,n){this.minDistance=e,this.maxDistance=t,this.transitionTime=n,this.rolloff=i}dispose(){}update(e){}}class It extends kt{constructor(e,t,i,n){if(super(),this.id=e,this.audio=null,this.stream=null,this.source=null,this.volume=1,t instanceof HTMLAudioElement)this.audio=t,this.source=i.createMediaElementSource(this.audio),this.source.connect(n);else if(t instanceof MediaStream){this.stream=t,this.audio=document.createElement("audio"),this.audio.srcObject=this.stream;const e=()=>{this.stream.active?(this.source=i.createMediaStreamSource(this.stream),this.source.connect(n)):setTimeout(e,0)};setTimeout(e,0)}else if(null!==t)throw new Error("Can't create a node from the given stream. Expected type HTMLAudioElement or MediaStream.");this.audio.playsInline=!0}async play(){this.audio&&await this.audio.play()}stop(){this.audio&&this.audio.pause()}dispose(){this.source&&(this.source.disconnect(),this.source=null),this.audio&&(this.audio.pause(),this.audio=null),this.stream=null,super.dispose()}setAudioOutputDevice(e){this.audio&&Tt&&this.audio.setSinkId(e)}}class Lt extends It{constructor(e,t,i,n){super(e,t,i,n),this.inNode=n,this.inNode.connect(i.destination)}dispose(){this.inNode&&(this.inNode.disconnect(),this.inNode=null),super.dispose()}}class Ot extends Lt{constructor(e,t,i){const n=i.createPanner();super(e,t,i,n),this.inNode.panningModel="HRTF",this.inNode.distanceModel="inverse",this.inNode.coneInnerAngle=360,this.inNode.coneOuterAngle=0,this.inNode.coneOuterGain=0}update(e){super.update(e),this.inNode.refDistance=this.minDistance,this.inNode.rolloffFactor=this.rolloff}}class Rt extends Ot{constructor(e,t,i){super(e,t,i),Object.seal(this)}update(e){super.update(e);const{p:t,f:i}=e;this.inNode.positionX.setValueAtTime(t.x,0),this.inNode.positionY.setValueAtTime(t.y,0),this.inNode.positionZ.setValueAtTime(t.z,0),this.inNode.orientationX.setValueAtTime(i.x,0),this.inNode.orientationY.setValueAtTime(i.y,0),this.inNode.orientationZ.setValueAtTime(i.z,0)}}class Nt extends It{constructor(e,t,i){super(e,t,i,i.destination)}}class Ht extends kt{constructor(){super()}createSource(e,t,i,n){if(i)throw new Error("Calla no longer supports manual volume scaling");return new Nt(e,t,n)}}class Qt extends Ht{constructor(e){super(),this.node=e}dispose(){this.node=null,super.dispose()}}class jt extends Qt{constructor(e){super(e),Object.seal(this)}update(e){super.update(e);const{p:t,f:i,u:n}=e;this.node.positionX.setValueAtTime(t.x,0),this.node.positionY.setValueAtTime(t.y,0),this.node.positionZ.setValueAtTime(t.z,0),this.node.forwardX.setValueAtTime(i.x,0),this.node.forwardY.setValueAtTime(i.y,0),this.node.forwardZ.setValueAtTime(i.z,0),this.node.upX.setValueAtTime(n.x,0),this.node.upY.setValueAtTime(n.y,0),this.node.upZ.setValueAtTime(n.z,0)}createSource(e,t,i,n){return i?new Rt(e,t,n):super.createSource(e,t,i,n)}}class zt extends Ot{constructor(e,t,i){super(e,t,i),Object.seal(this)}update(e){super.update(e);const{p:t,f:i}=e;this.inNode.setPosition(t.x,t.y,t.z),this.inNode.setOrientation(i.x,i.y,i.z)}}class Ut extends Qt{constructor(e){super(e),Object.seal(this)}update(e){super.update(e);const{p:t,f:i,u:n}=e;this.node.setPosition(t.x,t.y,t.z),this.node.setOrientation(i.x,i.y,i.z,n.x,n.y,n.z)}createSource(e,t,i,n){return i?new zt(e,t,n):super.createSource(e,t,i,n)}}
/**
 * @license
 * Copyright 2016 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f(){const e=`[Omnitone] ${Array.prototype.slice.call(arguments).join(" ")} (${performance.now().toFixed(2)}ms)`;window.console.log(e)}function m(){const e=`[Omnitone] ${Array.prototype.slice.call(arguments).join(" ")} (${performance.now().toFixed(2)}ms)`;throw window.console.error(e),new Error(e)}function v(e){return e instanceof AudioContext||e instanceof OfflineAudioContext}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Wt={BASE64:"base64",URL:"url"};class Gt{constructor(e,t,i){v(e)||m("BufferList: Invalid BaseAudioContext."),this._context=e,this._options={dataType:Wt.BASE64,verbose:!1},i&&(i.dataType&&function(e,t){for(let i in e)if(t===e[i])return!0;return!1}(Wt,i.dataType)&&(this._options.dataType=i.dataType),i.verbose&&(this._options.verbose=Boolean(i.verbose))),this._bufferData=this._options.dataType===Wt.BASE64?t:t.slice(0)}async load(){try{const e=this._bufferData.map(async(e,t)=>{try{return await this._launchAsyncLoadTask(e,t)}catch(t){m('BufferList: error while loading "'+e+'". ('+t.message+")")}}),t=await Promise.all(e);return f("BufferList: "+(this._options.dataType===Wt.BASE64?this._bufferData.length+" AudioBuffers from Base64-encoded HRIRs":this._bufferData.length+" files via XHR")+" loaded successfully."),t}catch(e){m('BufferList: error while loading ". ('+e.message+")")}}async _launchAsyncLoadTask(e,t){const i=await this._fetch(e),n=await this._context.decodeAudioData(i);return f("BufferList: "+(this._options.dataType===Wt.BASE64?"ArrayBuffer("+t+") from Base64-encoded HRIR":'"'+e+'"')+" successfully loaded."),n}async _fetch(e){if(this._options.dataType===Wt.BASE64)return function(e){const t=window.atob(e),i=new Uint8Array(t.length);return i.forEach((e,n)=>i[n]=t.charCodeAt(n)),i.buffer}(e);{const t=await fetch(e);return await t.arrayBuffer()}}}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,t){this._context=e,this._active=!1,this._isBufferLoaded=!1,this._buildAudioGraph(),t&&this.setHRIRBufferList(t),this.enable()}_buildAudioGraph(){this._splitterWYZX=this._context.createChannelSplitter(4),this._mergerWY=this._context.createChannelMerger(2),this._mergerZX=this._context.createChannelMerger(2),this._convolverWY=this._context.createConvolver(),this._convolverZX=this._context.createConvolver(),this._splitterWY=this._context.createChannelSplitter(2),this._splitterZX=this._context.createChannelSplitter(2),this._inverter=this._context.createGain(),this._mergerBinaural=this._context.createChannelMerger(2),this._summingBus=this._context.createGain(),this._splitterWYZX.connect(this._mergerWY,0,0),this._splitterWYZX.connect(this._mergerWY,1,1),this._splitterWYZX.connect(this._mergerZX,2,0),this._splitterWYZX.connect(this._mergerZX,3,1),this._mergerWY.connect(this._convolverWY),this._mergerZX.connect(this._convolverZX),this._convolverWY.connect(this._splitterWY),this._convolverZX.connect(this._splitterZX),this._splitterWY.connect(this._mergerBinaural,0,0),this._splitterWY.connect(this._mergerBinaural,0,1),this._splitterWY.connect(this._mergerBinaural,1,0),this._splitterWY.connect(this._inverter,1,0),this._inverter.connect(this._mergerBinaural,0,1),this._splitterZX.connect(this._mergerBinaural,0,0),this._splitterZX.connect(this._mergerBinaural,0,1),this._splitterZX.connect(this._mergerBinaural,1,0),this._splitterZX.connect(this._mergerBinaural,1,1),this._convolverWY.normalize=!1,this._convolverZX.normalize=!1,this._inverter.gain.value=-1,this.input=this._splitterWYZX,this.output=this._summingBus}dispose(){this._active&&this.disable(),this._splitterWYZX.disconnect(this._mergerWY,0,0),this._splitterWYZX.disconnect(this._mergerWY,1,1),this._splitterWYZX.disconnect(this._mergerZX,2,0),this._splitterWYZX.disconnect(this._mergerZX,3,1),this._mergerWY.disconnect(this._convolverWY),this._mergerZX.disconnect(this._convolverZX),this._convolverWY.disconnect(this._splitterWY),this._convolverZX.disconnect(this._splitterZX),this._splitterWY.disconnect(this._mergerBinaural,0,0),this._splitterWY.disconnect(this._mergerBinaural,0,1),this._splitterWY.disconnect(this._mergerBinaural,1,0),this._splitterWY.disconnect(this._inverter,1,0),this._inverter.disconnect(this._mergerBinaural,0,1),this._splitterZX.disconnect(this._mergerBinaural,0,0),this._splitterZX.disconnect(this._mergerBinaural,0,1),this._splitterZX.disconnect(this._mergerBinaural,1,0),this._splitterZX.disconnect(this._mergerBinaural,1,1)}setHRIRBufferList(e){this._isBufferLoaded||(this._convolverWY.buffer=e[0],this._convolverZX.buffer=e[1],this._isBufferLoaded=!0)}enable(){this._mergerBinaural.connect(this._summingBus),this._active=!0}disable(){this._mergerBinaural.disconnect(),this._active=!1}}const qt=["UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAD+/wIA9v8QAPv/CwD+/wcA/v8MAP//AQD7/wEACAAEAPj/+v8YABAA7v/n//v/9P/M/8D//f34/R38EvzxAfEBtA2lDTcBJQFJ9T71FP0D/cD1tfVo/Wv9uPTO9PPmOufc/U/+agL3Aisc/RxuGKEZBv3j/iYMzQ2gAzsEQQUABiQFrASzA5cB2QmyCy0AtgR4AeYGtfgAA2j5OQHP+scArPsMBJgEggIEBtz6+QVq/pj/aPg8BPP3gQEi+jEAof0fA1v9+/7S+8IBjvwd/xD4IADL/Pf9zvs+/l3+wgB7/+L+7fzFADH9kf6A+n3+DP6+/TP9xP68/pn+w/26/i39YgA0/u790Pt9/kD+7v1s/Wb+8f4C/1P+pf/x/cT+6/3p/Xz9ff5F/0f9G/4r/6v/4P5L/sL+ff7c/pj+Ov7X/UT+9P5G/oz+6v6A/2D+9/6P/8r/bP7m/ij+C//e/tj/Gf4e/9v+FwDP/lz/sP7F/2H+rv/G/s7/Hf7y/4P+NAD9/k0AK/6w/zP/hACh/sX/gf44AOP+dgCm/iUAk/5qAOD+PwC+/jEAWP4CAAr/bQBw/vv/zf5iACD/OgCS/uD/Cv9oAAb/CgDK/kwA//5tACH/TgCg/h4AHP9aABP/JADP/hEAYv9gAAj/3f8m/ysAYv8gACX/8/8k/ysAXv8bABH//v8j/ygAa/8qAAD/9f9g/1YAWf8JACH/AgB2/z4AXP/w/z3/FgB2/ykAX//9/z//EwCV/zUAS//n/1T/GACK/x4ATv/0/4P/QQB4//v/WP/2/3X/HAB8//P/V//3/2f/AQBh/9v/Tf/x/5P/IwCI/wMAf/8hAKP/JACZ/xUAiv8nAK//HgCr/yMAm/8uAMz/OACi/yQAqf87AMT/MwCY/yUAtP9FAMH/KgCu/ycAyP85AMv/IwCz/xoA1f8qAMn/FgC8/xQA4/8nAMX/CwDJ/xQA4f8ZAMH/BgDO/xQA4f8WAMP/BwDU/xQA4P8QAMH/AQDb/xQA3P8JAMP/AgDh/xIA2v8EAMj/AgDk/w0A1f/+/8v/AwDm/wwA0v/+/9H/BgDl/wkAzv/8/9T/BwDk/wcAzv/8/9r/CQDi/wQAzf/8/9//CADf////0P/9/+L/BwDd//7/0////+T/BgDb//z/1f8AAOf/BQDZ//v/2v8CAOb/AwDY//v/3v8EAOb/AgDY//3/4f8FAOX/AQDZ//7/5P8GAOP/AADb/wAA5/8GAOH////d/wIA5/8FAOD////f/wMA6P8FAOD////h/wQA6P8EAN7////h/wUA4v8DANv/AQDd/wQA3P8CANn/AgDb/wMA2/8CANv/AgDd/wIA3v8CAOH/AQDj/wEA","UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAAAAAAA/f8CAP//AQD//wEA//8BAP3/AAACAP7/+f8AAAIA/P8FAAQA8/8AABoA+f/V/wQAHQDO/xoAQQBO/ocA0Px1/ucHW/4UCm8HLO6kAjv8/fCRDdAAYfPiBIgFXveUCM0GBvh6/nz7rf0J/QcQSRVdBgoBSgFR62r9NP8m+LoEAvriBVAAiAPmABEGMf2l+SwBjva6/G4A//8P/CYDMgXm/R0CKAE6/fcBBwAtAND+kQA0A5UDhwFs/8IB8fydAEP/A/8v/e7/mP8j/2YBIwE3Av0AYv+uAOD8lgAg/wwAIf/L/n0Ae//OAJMB3P/XAF//XwCM/08AB/8NAEf/rf4jAT3/lgAJAP4AHgDpAO8AUf9L/07/Qf8KAOD/x/+D/3sATQCDAMoA0f79/+L/EQDt/7EAqv+S/7IAuv/o/wgAc//X//H/SwCm/+3/Yf/B/yoAAADI/7X/AwBg/5EATgCX/xYA/P+q/00AVACY/6v/BADD/zwALQCN/8z/KQDu/ygAEgCZ/6f/VQDC//T/KQCs/7P/UgAfAO7/NgC8/57/awAZAPP/+P/V/8z/bQBBAL//DgD0/+T/TABBAMz/CwAxAPz/SQBqALn/BgALAPz/EAA7AIz/3/8iAAUA//8kALf/y/9VABQA+v81AOj/0P9cAB4A+f8WAOr/vv83ABgAw/8JAOj/4f8nACIAsf/y/w4A3v8gACQAxP/n/ycA7P8WAC0Ayf/U/ycA9v/7/yUA0P/P/zUABADc/xUA5P/J/zcACwDS/xUA9P/m/zAACQDX/+3/9v/2/yQACgDZ/+P/AwAKABYA///b/9j/EQALABkADgD6/+7/GwD4/w4A8P/w//j/EgAEAAUA9f/1/wQAGgD4/wAA5////wAAGQD1////7f8FAAUAFQDv/wAA6v8LAAcAFQDs/wEA9P8SAAYACwDr//7/AQASAAYABQDv/wIAAwAWAAIAAgDv/wAABgATAAEA/f/u/wQABgAQAPr/+P/z/wUACQALAPj/9//4/wgABwAKAPT/+f/5/w4ABwAIAPT/+//9/w4AAwADAPH//f///w8A//8BAPP///8BAA0A/f/+//X/AgACAA0A+//8//b/BAADAAoA+f/7//n/BgADAAcA+P/7//v/BwABAAQA+P/8//3/CQABAAIA9//9////CQD/////+P///wAACAD9//7/+f8AAAAABwD8//3/+v8CAAAABgD7//z//P8EAAAABAD6//3//P8FAP//AgD6//7//v8FAP7/AQD7//////8GAP7/AAD7/wEA//8EAP3/AAD9/wEA/v8DAP3/AAD9/wIA/v8CAP3/AQD9/wIA/v8CAP7/AQD+/wEA"];
/**
 * @license
 * Copyright 2016 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this._context=e,this._splitter=this._context.createChannelSplitter(4),this._inX=this._context.createGain(),this._inY=this._context.createGain(),this._inZ=this._context.createGain(),this._m0=this._context.createGain(),this._m1=this._context.createGain(),this._m2=this._context.createGain(),this._m3=this._context.createGain(),this._m4=this._context.createGain(),this._m5=this._context.createGain(),this._m6=this._context.createGain(),this._m7=this._context.createGain(),this._m8=this._context.createGain(),this._outX=this._context.createGain(),this._outY=this._context.createGain(),this._outZ=this._context.createGain(),this._merger=this._context.createChannelMerger(4),this._splitter.connect(this._inX,1),this._splitter.connect(this._inY,2),this._splitter.connect(this._inZ,3),this._inX.gain.value=-1,this._inY.gain.value=-1,this._inZ.gain.value=-1,this._inX.connect(this._m0),this._inX.connect(this._m1),this._inX.connect(this._m2),this._inY.connect(this._m3),this._inY.connect(this._m4),this._inY.connect(this._m5),this._inZ.connect(this._m6),this._inZ.connect(this._m7),this._inZ.connect(this._m8),this._m0.connect(this._outX),this._m1.connect(this._outY),this._m2.connect(this._outZ),this._m3.connect(this._outX),this._m4.connect(this._outY),this._m5.connect(this._outZ),this._m6.connect(this._outX),this._m7.connect(this._outY),this._m8.connect(this._outZ),this._splitter.connect(this._merger,0,0),this._outX.connect(this._merger,0,1),this._outY.connect(this._merger,0,2),this._outZ.connect(this._merger,0,3),this._outX.gain.value=-1,this._outY.gain.value=-1,this._outZ.gain.value=-1,this.setRotationMatrix3(new Float32Array([1,0,0,0,1,0,0,0,1])),this.input=this._splitter,this.output=this._merger}dispose(){this._splitter.disconnect(this._inX,1),this._splitter.disconnect(this._inY,2),this._splitter.disconnect(this._inZ,3),this._inX.disconnect(this._m0),this._inX.disconnect(this._m1),this._inX.disconnect(this._m2),this._inY.disconnect(this._m3),this._inY.disconnect(this._m4),this._inY.disconnect(this._m5),this._inZ.disconnect(this._m6),this._inZ.disconnect(this._m7),this._inZ.disconnect(this._m8),this._m0.disconnect(this._outX),this._m1.disconnect(this._outY),this._m2.disconnect(this._outZ),this._m3.disconnect(this._outX),this._m4.disconnect(this._outY),this._m5.disconnect(this._outZ),this._m6.disconnect(this._outX),this._m7.disconnect(this._outY),this._m8.disconnect(this._outZ),this._splitter.disconnect(this._merger,0,0),this._outX.disconnect(this._merger,0,1),this._outY.disconnect(this._merger,0,2),this._outZ.disconnect(this._merger,0,3)}setRotationMatrix3(e){this._m0.gain.value=e[0],this._m1.gain.value=e[1],this._m2.gain.value=e[2],this._m3.gain.value=e[3],this._m4.gain.value=e[4],this._m5.gain.value=e[5],this._m6.gain.value=e[6],this._m7.gain.value=e[7],this._m8.gain.value=e[8]}setRotationMatrix4(e){this._m0.gain.value=e[0],this._m1.gain.value=e[1],this._m2.gain.value=e[2],this._m3.gain.value=e[4],this._m4.gain.value=e[5],this._m5.gain.value=e[6],this._m6.gain.value=e[8],this._m7.gain.value=e[9],this._m8.gain.value=e[10]}getRotationMatrix3(){const e=new Float32Array(9);return e[0]=this._m0.gain.value,e[1]=this._m1.gain.value,e[2]=this._m2.gain.value,e[3]=this._m3.gain.value,e[4]=this._m4.gain.value,e[5]=this._m5.gain.value,e[6]=this._m6.gain.value,e[7]=this._m7.gain.value,e[8]=this._m8.gain.value,e}getRotationMatrix4(){const e=new Float32Array(16);return e[0]=this._m0.gain.value,e[1]=this._m1.gain.value,e[2]=this._m2.gain.value,e[4]=this._m3.gain.value,e[5]=this._m4.gain.value,e[6]=this._m5.gain.value,e[8]=this._m6.gain.value,e[9]=this._m7.gain.value,e[10]=this._m8.gain.value,e}}
/**
 * @license
 * Copyright 2016 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt={DEFAULT:[0,1,2,3],SAFARI:[2,0,1,3],FUMA:[0,3,1,2]};class Zt{constructor(e,t){this._context=e,this._splitter=this._context.createChannelSplitter(4),this._merger=this._context.createChannelMerger(4),this.input=this._splitter,this.output=this._merger,this.setChannelMap(t||Xt.DEFAULT)}setChannelMap(e){Array.isArray(e)&&(this._channelMap=e,this._splitter.disconnect(),this._splitter.connect(this._merger,0,this._channelMap[0]),this._splitter.connect(this._merger,1,this._channelMap[1]),this._splitter.connect(this._merger,2,this._channelMap[2]),this._splitter.connect(this._merger,3,this._channelMap[3]))}dipose(){this._splitter.disconnect(this._merger,0,this._channelMap[0]),this._splitter.disconnect(this._merger,1,this._channelMap[1]),this._splitter.disconnect(this._merger,2,this._channelMap[2]),this._splitter.disconnect(this._merger,3,this._channelMap[3])}}Zt.ChannelMap=Xt;var w=Object.freeze({AMBISONIC:"ambisonic",BYPASS:"bypass",OFF:"off"});
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,t){v(e)||m("FOARenderer: Invalid BaseAudioContext."),this._context=e,this._config={channelMap:Zt.ChannelMap.DEFAULT,renderingMode:w.AMBISONIC},t&&(t.channelMap&&(Array.isArray(t.channelMap)&&4===t.channelMap.length?this._config.channelMap=t.channelMap:m("FOARenderer: Invalid channel map. (got "+t.channelMap+")")),t.hrirPathList&&(Array.isArray(t.hrirPathList)&&2===t.hrirPathList.length?this._config.pathList=t.hrirPathList:m("FOARenderer: Invalid HRIR URLs. It must be an array with 2 URLs to HRIR files. (got "+t.hrirPathList+")")),t.renderingMode&&(Object.values(w).includes(t.renderingMode)?this._config.renderingMode=t.renderingMode:f("FOARenderer: Invalid rendering mode order. (got"+t.renderingMode+') Fallbacks to the mode "ambisonic".'))),this._buildAudioGraph(),this._tempMatrix4=new Float32Array(16)}_buildAudioGraph(){this.input=this._context.createGain(),this.output=this._context.createGain(),this._bypass=this._context.createGain(),this._foaRouter=new Zt(this._context,this._config.channelMap),this._foaRotator=new Vt(this._context),this._foaConvolver=new Yt(this._context),this.input.connect(this._foaRouter.input),this.input.connect(this._bypass),this._foaRouter.output.connect(this._foaRotator.input),this._foaRotator.output.connect(this._foaConvolver.input),this._foaConvolver.output.connect(this.output),this.input.channelCount=4,this.input.channelCountMode="explicit",this.input.channelInterpretation="discrete"}dipose(){this.getRenderingMode()===w.BYPASS&&this._bypass.connect(this.output),this.input.disconnect(this._foaRouter.input),this.input.disconnect(this._bypass),this._foaRouter.output.disconnect(this._foaRotator.input),this._foaRotator.output.disconnect(this._foaConvolver.input),this._foaConvolver.output.disconnect(this.output),this._foaConvolver.dispose(),this._foaRotator.dispose(),this._foaRouter.dipose()}async initialize(){f("FOARenderer: Initializing... (mode: "+this._config.renderingMode+")");const e=this._config.pathList?new Gt(this._context,this._config.pathList,{dataType:"url"}):new Gt(this._context,qt);try{const t=await e.load();this._foaConvolver.setHRIRBufferList(t),this.setRenderingMode(this._config.renderingMode),f("FOARenderer: HRIRs loaded successfully. Ready.")}catch(e){m("FOARenderer: HRIR loading/decoding failed. Reason: "+e.message)}}setChannelMap(e){e.toString()!==this._config.channelMap.toString()&&(f("Remapping channels (["+this._config.channelMap.toString()+"] -> ["+e.toString()+"])."),this._config.channelMap=e.slice(),this._foaRouter.setChannelMap(this._config.channelMap))}setRotationMatrix3(e){this._foaRotator.setRotationMatrix3(e)}setRotationMatrix4(e){this._foaRotator.setRotationMatrix4(e)}getRenderingMode(){return this._config.renderingMode}setRenderingMode(e){if(e!==this._config.renderingMode){switch(e){case w.AMBISONIC:this._foaConvolver.enable(),this._bypass.disconnect();break;case w.BYPASS:this._foaConvolver.disable(),this._bypass.connect(this.output);break;case w.OFF:this._foaConvolver.disable(),this._bypass.disconnect();break;default:return void f('FOARenderer: Rendering mode "'+e+'" is not supported.')}this._config.renderingMode=e,f("FOARenderer: Rendering mode changed. ("+e+")")}}}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,t,i){this._context=e,this._active=!1,this._isBufferLoaded=!1,this._ambisonicOrder=t,this._numberOfChannels=(this._ambisonicOrder+1)*(this._ambisonicOrder+1),this._buildAudioGraph(),i&&this.setHRIRBufferList(i),this.enable()}_buildAudioGraph(){const e=Math.ceil(this._numberOfChannels/2);this._inputSplitter=this._context.createChannelSplitter(this._numberOfChannels),this._stereoMergers=[],this._convolvers=[],this._stereoSplitters=[],this._positiveIndexSphericalHarmonics=this._context.createGain(),this._negativeIndexSphericalHarmonics=this._context.createGain(),this._inverter=this._context.createGain(),this._binauralMerger=this._context.createChannelMerger(2),this._outputGain=this._context.createGain();for(let t=0;t<e;++t)this._stereoMergers[t]=this._context.createChannelMerger(2),this._convolvers[t]=this._context.createConvolver(),this._stereoSplitters[t]=this._context.createChannelSplitter(2),this._convolvers[t].normalize=!1;for(let e=0;e<=this._ambisonicOrder;++e)for(let t=-e;t<=e;t++){const i=e*e+e+t,n=Math.floor(i/2);this._inputSplitter.connect(this._stereoMergers[n],i,i%2),this._stereoMergers[n].connect(this._convolvers[n]),this._convolvers[n].connect(this._stereoSplitters[n]),t>=0?this._stereoSplitters[n].connect(this._positiveIndexSphericalHarmonics,i%2):this._stereoSplitters[n].connect(this._negativeIndexSphericalHarmonics,i%2)}this._positiveIndexSphericalHarmonics.connect(this._binauralMerger,0,0),this._positiveIndexSphericalHarmonics.connect(this._binauralMerger,0,1),this._negativeIndexSphericalHarmonics.connect(this._binauralMerger,0,0),this._negativeIndexSphericalHarmonics.connect(this._inverter),this._inverter.connect(this._binauralMerger,0,1),this._inverter.gain.value=-1,this.input=this._inputSplitter,this.output=this._outputGain}dispose(){this._active&&this.disable();for(let e=0;e<=this._ambisonicOrder;++e)for(let t=-e;t<=e;t++){const i=e*e+e+t,n=Math.floor(i/2);this._inputSplitter.disconnect(this._stereoMergers[n],i,i%2),this._stereoMergers[n].disconnect(this._convolvers[n]),this._convolvers[n].disconnect(this._stereoSplitters[n]),t>=0?this._stereoSplitters[n].disconnect(this._positiveIndexSphericalHarmonics,i%2):this._stereoSplitters[n].disconnect(this._negativeIndexSphericalHarmonics,i%2)}this._positiveIndexSphericalHarmonics.disconnect(this._binauralMerger,0,0),this._positiveIndexSphericalHarmonics.disconnect(this._binauralMerger,0,1),this._negativeIndexSphericalHarmonics.disconnect(this._binauralMerger,0,0),this._negativeIndexSphericalHarmonics.disconnect(this._inverter),this._inverter.disconnect(this._binauralMerger,0,1)}setHRIRBufferList(e){if(!this._isBufferLoaded){for(let t=0;t<e.length;++t)this._convolvers[t].buffer=e[t];this._isBufferLoaded=!0}}enable(){this._binauralMerger.connect(this._outputGain),this._active=!0}disable(){this._binauralMerger.disconnect(),this._active=!1}}
/**
 * @license
 * Copyright 2016 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y(e,t){return e===t?1:0}function D(e,t,i){return(i+e)*(2*e+1)+(t+e)}function b(e,t,i,n,s){const a=D(t,i,n);e[t-1][a].gain.value=s}function x(e,t,i,n){const s=D(t,i,n);return e[t-1][s].gain.value}function C(e,t,i,n,s){return n===s?x(e,1,t,1)*x(e,s-1,i,s-1)-x(e,1,t,-1)*x(e,s-1,i,1-s):n===-s?x(e,1,t,1)*x(e,s-1,i,1-s)+x(e,1,t,-1)*x(e,s-1,i,s-1):x(e,1,t,0)*x(e,s-1,i,n)}function B(e,t,i,n){return C(e,0,t,i,n)}function P(e,t,i,n){if(0===t)return C(e,1,1,i,n)+C(e,-1,-1,i,n);if(t>0){const s=y(t,1);return C(e,1,t-1,i,n)*Math.sqrt(1+s)-C(e,-1,1-t,i,n)*(1-s)}{const s=y(t,-1);return C(e,1,t+1,i,n)*(1-s)+C(e,-1,-t-1,i,n)*Math.sqrt(1+s)}}function E(e,t,i,n){return 0===t?0:t>0?C(e,1,t+1,i,n)+C(e,-1,-t-1,i,n):C(e,1,t-1,i,n)-C(e,-1,1-t,i,n)}function _(e,t,i){const n=y(e,0),s=Math.abs(t)===i?1/(2*i*(2*i-1)):1/((i+t)*(i-t));return[Math.sqrt((i+e)*(i-e)*s),.5*(1-2*n)*Math.sqrt((1+n)*(i+Math.abs(e)-1)*(i+Math.abs(e))*s),-.5*(1-n)*Math.sqrt((i-Math.abs(e)-1)*(i-Math.abs(e)))*s]}function M(e,t){for(let i=-t;i<=t;i++)for(let n=-t;n<=t;n++){const s=_(i,n,t);Math.abs(s[0])>0&&(s[0]*=B(e,i,n,t)),Math.abs(s[1])>0&&(s[1]*=P(e,i,n,t)),Math.abs(s[2])>0&&(s[2]*=E(e,i,n,t)),b(e,t,i,n,s[0]+s[1]+s[2])}}function S(e){for(let t=2;t<=e.length;t++)M(e,t)}class $t{constructor(e,t){this._context=e,this._ambisonicOrder=t;const i=(t+1)*(t+1);this._splitter=this._context.createChannelSplitter(i),this._merger=this._context.createChannelMerger(i),this._gainNodeMatrix=[];for(let e=1;e<=t;e++){const t=e*e,i=2*e+1;this._gainNodeMatrix[e-1]=[];for(let n=0;n<i;n++){const s=t+n;for(let a=0;a<i;a++){const o=t+a,r=n*i+a;this._gainNodeMatrix[e-1][r]=this._context.createGain(),this._splitter.connect(this._gainNodeMatrix[e-1][r],s),this._gainNodeMatrix[e-1][r].connect(this._merger,0,o)}}}this._splitter.connect(this._merger,0,0),this.setRotationMatrix3(new Float32Array([1,0,0,0,1,0,0,0,1])),this.input=this._splitter,this.output=this._merger}dispose(){for(let e=1;e<=this._ambisonicOrder;e++){const t=e*e,i=2*e+1;for(let n=0;n<i;n++){const s=t+n;for(let a=0;a<i;a++){const o=t+a,r=n*i+a;this._splitter.disconnect(this._gainNodeMatrix[e-1][r],s),this._gainNodeMatrix[e-1][r].disconnect(this._merger,0,o)}}}this._splitter.disconnect(this._merger,0,0)}setRotationMatrix3(e){this._gainNodeMatrix[0][0].gain.value=e[0],this._gainNodeMatrix[0][1].gain.value=e[1],this._gainNodeMatrix[0][2].gain.value=e[2],this._gainNodeMatrix[0][3].gain.value=e[3],this._gainNodeMatrix[0][4].gain.value=e[4],this._gainNodeMatrix[0][5].gain.value=e[5],this._gainNodeMatrix[0][6].gain.value=e[6],this._gainNodeMatrix[0][7].gain.value=e[7],this._gainNodeMatrix[0][8].gain.value=e[8],S(this._gainNodeMatrix)}setRotationMatrix4(e){this._gainNodeMatrix[0][0].gain.value=e[0],this._gainNodeMatrix[0][1].gain.value=e[1],this._gainNodeMatrix[0][2].gain.value=e[2],this._gainNodeMatrix[0][3].gain.value=e[4],this._gainNodeMatrix[0][4].gain.value=e[5],this._gainNodeMatrix[0][5].gain.value=e[6],this._gainNodeMatrix[0][6].gain.value=e[8],this._gainNodeMatrix[0][7].gain.value=e[9],this._gainNodeMatrix[0][8].gain.value=e[10],S(this._gainNodeMatrix)}getRotationMatrix3(){const e=new Float32Array(9);return e[0]=this._gainNodeMatrix[0][0].gain.value,e[1]=this._gainNodeMatrix[0][1].gain.value,e[2]=this._gainNodeMatrix[0][2].gain.value,e[3]=this._gainNodeMatrix[0][3].gain.value,e[4]=this._gainNodeMatrix[0][4].gain.value,e[5]=this._gainNodeMatrix[0][5].gain.value,e[6]=this._gainNodeMatrix[0][6].gain.value,e[7]=this._gainNodeMatrix[0][7].gain.value,e[8]=this._gainNodeMatrix[0][8].gain.value,e}getRotationMatrix4(){const e=new Float32Array(16);return e[0]=this._gainNodeMatrix[0][0].gain.value,e[1]=this._gainNodeMatrix[0][1].gain.value,e[2]=this._gainNodeMatrix[0][2].gain.value,e[4]=this._gainNodeMatrix[0][3].gain.value,e[5]=this._gainNodeMatrix[0][4].gain.value,e[6]=this._gainNodeMatrix[0][5].gain.value,e[8]=this._gainNodeMatrix[0][6].gain.value,e[9]=this._gainNodeMatrix[0][7].gain.value,e[10]=this._gainNodeMatrix[0][8].gain.value,e}getAmbisonicOrder(){return this._ambisonicOrder}}const ei=["UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAD+/wQA8/8YAP3/CgACAAAA//8CAAYA8/8AAPH/CgDv/97/e/+y/9P+UQDwAHUBEwV7/pP8P/y09bsDwAfNBGYIFf/Y+736+fP890Hv8AGcC3T/vwYy+S70AAICA3AD4AagBw0R4w3ZEAcN8RVYAV8Q8P2z+kECHwdK/jIG0QNKAYUElf8IClj7BgjX+/f8j/l3/5f/6fkK+xz8FP0v/nj/Mf/n/FcBPfvH/1H3+gBP/Hf8cfiCAR/54QBh+UQAcvkzAWL8TP13+iD/V/73+wv9Kv+Y/hv+xPz7/UL83//a/z/9AP6R/5L+jf26/P3+rP26/tD8nP7B/Pv+WP1V/sP9gv91/3P9xP3J/nv/GP5S/sb+IP8v/9j/dv7U/pr+6v+u/Z3/sv5cAOr9Q/83/+n/zP5x/57+2//k/nwA/v01//L+SACB/sD/Ff81AJT+TgDp/ocAm/5dAFT+MgD+/pMAW/7o/yH/xQDA/kkA9P6LAL3+pAC0/iQAz/5UALD+UwAt/3UAhf4UAA//pwC+/joAz/5aAAv/fwDY/iMAIf+uAPP+ZAAc/0QAy/4xAB7/TgDs/goADP8wAEL/NwDo/ub/Uf9BAC3/+v9F/y4ARP9HAFP/EQA3/xMATP81AG3/HQAu/wgAaP9FACb/9f9B/y0AUP8rAED/CwBV/z4AW/8TAGH/BQBK/xsAfv8eAFn/AgB3/zwAff8RAGj//v+E/yAAb//0/3n/FwBz/xcAiv8PAHn/FQCJ/xgAg//x/3j/EQCa/ycAff/w/47/HwCI//X/iv/7/43/JQCM/+n/kP8AAJb/JACj//7/oP8ZAML/SwCo/w4Atv8tAMb/PACr/xcAwP9HAMP/OADF/y4A0f9IANL/NwC//zEA0f9LAMb/MAC8/y4A3f9GAMH/FQDQ/yYA2/8sAMT/AwDX/xkA3v8SAM3/9v/c/w8A4f8LAMj/8f/h/xQA2P8CAMn/8//j/xQA0v/7/9H//P/i/xEA0v/1/9L//f/j/w0A0f/x/9f//v/k/wgAz//u/9z/AwDg/wMA0P/v/9//BQDf////0v/y/+D/CADc//3/0v/2/+L/CgDa//r/1v/5/+T/CgDY//j/2f/9/+T/CADY//f/3P8AAOT/BwDY//f/4P8EAOP/BADZ//j/4v8GAOL/AwDa//r/5f8IAOH/AQDc//3/5v8JAOD//v/f////5v8IAOD//v/h/wIA5/8HAOD//f/j/wMA5/8GAOD//f/l/wYA5v8EAOD//v/m/wYA5f8CAOL////n/wYA5P8BAOH/AADl/wUA4f///+H/AQDk/wMA4f///+T/AQDm/wEA5////+r/AADt/wAA7/////P/AAD1////","UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAD//////v///wAAAAAAAAAAAQAAAAAA///9/wAABAD+//n/AgAJAAAA+v/+//f/DAAdAPv/+v+l/8L+jf/4/vgAdwVPAQACLQBo+Qj/Ev7o/N3/VgCbA08Bxf+L+yn9J/2HCU8FmgBvDe30Rv5h/LT09gi5CxkA5gOi8/30kwEM+4YJMf2nBmkJJAQQBLoFtvvv+m4A7PF6/R0Bif3qAuf8WARAAf4GyABG/BIAwvr4Acv8U//c/yIC8AEn/B8Daf2CAgMBAf3MAN38vgLK/UT/QwCyAPYClPyvAW/+pQAoASD+zP+R/IYC1f7C/nEBQP96AZb+1QAIAM//yQE7/tkAZ/7TAXL/w/8+AIsAtwB7/24A4v9a/z4A7v4iADb/dwCj/23/kgBOANUAIv8lAKEAxP9gAK7/BwCP/5kA7/9v/0wAzv9DAGT/3/9vAHv/6P+q/xUA7P8XAO//uv/g/2UAEgCV/wEATADM/+7/+//j/+D/9v/i//j/IgD+/xoAxf/6/z4A5/+8/9D/QwDq/+3/OQDT/zUAIgA/APP/PgAjAPD/BwAGACAADAC3//b/HAA3AN//RgDN/w8AIAACAN//GQBDACEAIwA+ACoAJQAeAPz/KgAYAPr/DgAEABYAIgAcAMT/7f8OAOL/5P/2//L/9P8GAPT/7v/8/+7/6v/t//z/AgAUAOL//P8VAAMA4/8IAPb/+P8MAAoA5v8NAAsA9v///wEAAAD9//n/9/8JAAYA7v/6/wMA+f8GAAEA7f/7/xgACAD4/w8A///3/w0A+f8BAAIA/P/5/xIA///9//r/7v/+/xYACQD///H/CwDz/wEADgAHAPP/FADn/+3/AQD5//f/AgD7/wEABwAMAAEADQD8//n/8f8OAPX/BAD+//X/+v8WAAQA+f8CAAEA7/8QAAEA/P8DAAUA9f8KAAwA9v8DAAUA+f8OAAoA9f/7/w0A+v8EAAgA8P/6/woA+//8/wkA+P/3/woA+//8/wcA9//1/woAAwD5/wcA/P/3/w0AAwD3/wEABAD2/wkABgD3/wEABQD3/wUABQD3//v/BwD3/wMABQD3//r/CQD7////BQD6//n/CQD9//3/BAD9//j/BwAAAPv/AwD///j/BwABAPn/AQABAPn/BQACAPn///8DAPr/AwADAPr//v8EAPv/AQADAPv//P8FAP3///8DAPz/+/8FAP7//f8CAP7/+/8EAP///P8BAP//+/8DAAEA+/8AAAEA+/8CAAIA+////wIA/f8AAAIA/P/+/wIA/f8AAAIA/f/9/wMA/////wEA///+/wIA/////wAAAAD+/wAAAAD/////AAD//wAA//8AAP//AAD//wAA","UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAD////////+//////8AAP////8AAP//AAAAAPz//f8IAAMA9////w4AAQD6/wwA8//+/y8Afv/0/2H/UP5gAbH+2QG1B2cAVAIh/l32FPyM/nACPQDV/+UEo/Q6AQwCu/oLD9kF8QJA/Uz+Wf2KCOcC+wUKBsL5aQBQ97rwOPiPAvn5CAl8AHEDkQPcAA8Bn/lIAdz7HQF1+xz9cAM4/94E4gDKAun+cgPYAYr9JgJr/bf+ivxz/MoBgv5UA8EBSgAQAJ7/UgEk/cQB7f63/sD/vf4XAhT/BQFCADYAnQGI/9EBtv3hALD/vP+c/3H/TgIN/1sBpf8yAP3/4f8qABr+1f8OAJ3/dwAGADEBnv9JAPz/IQBwAIH/jgAS/4wAsACTAOn/DQDCALn/ZQCSAAIAAwD1/9//jv9aADQA/v9EAB0AfgA8AAQACgB9APr/IAARAPT/5v9xACAABAAHAGUAt/89AC4ACgAjAMP/+v/9/xYA7f/1/+D/7P87AC0Auv8RAAcA9/8FAC8A2//y/xIAEwAaADQAJADp/zoAAgAfABIA2f/e/zUA+P/6/w4A9//A/zcA4//P//T/5f/R////EwDb/w4A8/8BABkANADh/xEA+f/0/wIAHADc//j/GwD1//f/GADs/+v/EAAAAPz/EgD3/+r/FgAMAAkAGAD9/+z/IQAQAPH/GQD3//z/CgAfAOX/AgD8//H/BAATAOv/+v///wIABAAdAOj/BQAPAAcAAQATAOz/8/8JAAkA6f8VAOv/+f8QABUA/v8OAO3/+P8KABUA9f8FAPv/5/8TAA0A7f8XAAkAAQAJABYA4/8WAAcACgANABEA7v8EAP7/AAD+/wMA9//7/xAAAQD8/wQA+f/7/wMABgDq/wAA+v/3/wYACQD1//3/BAD9/wgADgDw//r/AgD6/wEACADv//j/BQD///X/BwDu//j/AgACAPP/BAD2//n/BAAGAPb/BAD8//3/BQAJAPL/AwD+//3/BAAIAPP//f8DAPz/AAAGAPP/+/8CAP7//f8FAPX/+f8DAAAA/P8EAPf/+v8GAAMA+/8EAPv/+/8GAAQA+v8CAP///P8EAAUA+f8AAP///f8CAAUA+P///wEA/v8BAAUA+f/+/wIAAAD//wUA+v/9/wMAAQD9/wQA+//9/wMAAgD8/wMA/P/9/wMAAwD7/wEA/v/+/wIAAwD6/wEA///+/wAABAD6/wAAAQD//wAAAwD7////AQAAAP//AwD8//7/AgABAP3/AgD9//7/AQABAP3/AQD+//7/AAACAPz/AAD+//////8BAP3/AAD//wAA//8BAP7/AAD//wAA/v8AAP7/AAD//wAA//8AAP//","UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAD//////P/9//3//////wAAAAAAAAIAAgACAP//CAAEAEEA//+cAAUAb/8HAAH9+P9eARkAogQUAJn8BwCd/gX/+QQNAKoC9gFdAtb/b/vd/936TP/6AsD/nfqn/un1W/0dA8IEsQLvAJv2bP72+WMAkP8dAcX+nQO2AIr6bP/EABX+NgK/Bdj2IQv2AE4EUAiD/xQAnwIm/B0B/wGNAoH7sQaP/b8CiQakAqD+R/9xA477KQL//6r75v/O/pcCgQCtAiMCBQAkANAARwHf//39hgBl/kUAJgEtAUEATgA/AgoASADK/zUAJv29/vL+l/9c/0cAUwBBAE8A6QE5/87/Wv9NAOf+5v7P/5P/4/9BAKYAQwDD/zYB5v+r/zYATwAp/1v/WQAEAB0AhwA0AA0AIAA3AAEAzv/u/+//5v9m/zwAIADQ/8T/SABiANb/SwAbAFf/MQDX/7L/hP8TAPr/AgAMAAsAHwAZAI3/VgDC/9v/5//x/6P/AwBlAMv/yf82AB4A+P9WAPj/NwDi/1EA0v9JANj/JwAcAAEADABYANj/4f8MAEwAmP82AN//3P8UADYA7//6/wIACADU/ygAyv82AN7/9v/2/ygAxv/9/+3/5//n/zUA6//g/y4ADgD5/wsABwDv/xIADwAGACoAJQD3/zIA+/8FABsAFgDO/zAAHAAIABQALADp/xcACAAAAPH/GADs/wkACQAFAAgAFQDp/wIAHAD1//P/EQDw/+3/GAD9/+f/HAD8//T/DAAQAPH/HwD4//r/DwAPAOj/EQACAOn/DAAXAOX/BAAOANH/9/8MAO//9f8LANT/9f8EAO//6f8NANb/+P8KAOz/5v8MAOD/7f8UAO//7//+//7/9v8YAPj/9f/z/wsA+v8SAPD/+v/x/xYA+f8SAPb/9//3/xEABQACAPn/9//y/xQACQD///b//v/7/xIACQD9//H/AAD7/xEAAgD5//P/AwD9/w8AAgD3//D/BAD//wUA/v/0//D/BgADAAMA/P/2//f/BwAGAP7/+//2//j/CAAFAPv/+f/5//v/BwAHAPn/9//7//7/BQAFAPf/9//+/wEABAACAPf/+P8BAAIAAgAAAPj/9/8CAAMAAAD+//n/+f8EAAQA/v/8//r/+/8EAAMA/P/7//z//P8EAAIA/P/5//7//v8DAAEA+//5//////8CAAAA+//5/wEAAAABAP//+//6/wIAAQD///3//P/7/wMAAQD///3//f/9/wIAAQD9//3//v/9/wMAAQD9//z/AAD//wEAAAD9//z/AAAAAAAA///9//3/AAD//wAA/v////7/AAD//wAA////////AAD//wAA//8AAP//","UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAD+////+f////v//v///wAA/////wUAAQAIAAIABwACAHkATAAOAaMAAf9C/9X6QvwhArAAtghABW37nv/y+0wAWQNcAE8JRwSOC6AEJe8P8S/zrPWaBI/+LQA/+0L+P/4K8AgAb/8uCh78BQtC614GaQWfAin5UfzN8Tf+GQizAZ4MCQMbGJ4BoRS7AvcHyQARA6n9ZwHZ/z4DvwAZAlAB6gbNAS4GFADFATL7E/2K+j37C/xp/SD9Uv0VAOsDs//WAd3+bv7F/f79mP2X/KH+FwC0/1n+VgFcATABHQGaAET+nf8Y/hoAovpqAXj9CQKW/lsCl/4RApj+bAHk/RcAlv4BAG/+DgDi//3/GwAOAEIAq/+y/3z/8v8+/7T/Tv8//27/mgDZ/1sA+P+cAAAA/P/i/yMAi/85AMP/KgDM/9MA9P+QABoA4QAiACwACwBdAP7/TQDb/y0Ayf+SAA0AZwDg/4wA+/8/AAMAgQDp/w0ADAAQAAoANgAgAA4AKABIAB4A4v/3/+f/+v/c/+n/EADn/wgAFAAqAOz/IwDc/9//3f8XAND/2v/a/w0A5v8BANb/9P/m/wAA8P8ZAN3/RwAGAEsABgB/AP7/NAASAEgABAA3AP3/KgD9/1sA8P8lAOr/FgD1/xAA4/8kAOv/AwD4/xEA5f8NAPT/+v/3/x8A7f8PAPj/IwD5/yAA9/8ZAAEAGgD4/xoA9f8HAAMACAD0/xgA+P8AAPr/IQDp/w4A8v8HAPX/IgD1/wYA+P8GAPX/GgD3/woABQASAAcAGQDw/+v/9P8bAP3/HADs/+f/7/8LAPr//v/0//T/AgD2/wsA6P///+P/CADY//7/5v/3/wQA/v8LAPD/GgD1/yMA/P8QAOv/LADw/yQA+P8XAO7/MQD9/yEAAQAcAPD/IgD9/xMA+/8OAO//FQABAAoA+/8PAPP/FQABAAQA9/8PAPX/CAADAAEA+P8NAPv/CAAGAAUA9/8JAP//AAAFAPz/+f8HAAQA/f8FAP3//P8FAAYA+P8DAP7/+/8AAAcA9/8BAP///f///wgA9//+/wAA/v/8/wUA9//8/wIA///7/wUA+v/7/wIAAAD6/wMA/P/6/wEAAQD6/wEA/v/7/wIAAgD6////AAD7/wEAAgD7//7/AQD8/wAAAwD8//3/AwD9/wAAAgD9//z/AwD/////AgD+//z/AwAAAP7/AQD///3/AgABAP3/AAAAAP3/AgACAPz///8BAP3/AQACAP3//v8BAP7/AAABAP3//v8CAP7///8BAP7//f8CAP////8AAAAA/v8CAAAAAAAAAAAA/v8BAAAAAAD//wAA//8AAP//AAD//wAA//8AAP//","UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAAAAP//AAD//wAA//8AAAAA/////wAAAQD+////AAAGAP3/OAABAIIAAwBv//f/E/0QAK0ADQCzA/7/8P4u/0cBDQCJA6ABbQDg/w7/z/9o+Vn/SPnL/1//Ef+2+jr9RfZgA5QFZwILDFj+PAb2/nEFKgKk/R0Dlv6b/FUDsP6YAoj9SgAT/iL/tAPwAv8A0P6zAr7/dwAnAf39uP22/skA2v///2YCoP4UAUsAZgF2AJH+4P70/rz9+f+U/Xv/8v7CAcb+TACS/kwAv/+x/tX9oP71/oL/1f8nAEUAZwGtAAgAIgC/AD4BaP8GAGH/dQDF/64Arf8nAakAhAH9/+kAQQD3AFb/q/8p/yIAR/8FAPD/ZAA/AIYA3v8tADQADQBp/3f/CwABAP3/Wf8OANj/WwDH/xoAe/8DAKz/zv96/z8A3f/J/5X/IAD5//j/q//c/+//RADq//D/vv8pADUAFQDI/y8ACAAbANb/OwD3/+3/9f/e/wcAIAAeAMH/8/8xAC0AEADW/+3/HAADAPv/8P8DAOL/OwD3/xcACQAHAM//5f8XAAcAz//T/9D/HgD9////yf/e//v/AgD//9H/6/////H/+/8hAAIA9//7/w0AFgAQAPL/2v/8/xsAGQABANz/9P8YAAQA/v/y/wMA5v8YAAkAAAAAAAMA7/8KABgADwDs//j/BwATABsA8P/1//z/BAAMAAAA9P/s/xAA/v8GAAkA/v/p/wMACwALAP7/9P/p/wcADQAFAPb/7//4/w0ACAD8//b//v/1/wMACwD1//T/8P/8/wAACQDz/+f/5P8GAAkABQD5//D/+v8FAA0AAwD///T/AgACABAA/v8CAPD/+/8FAAoA9f/3//f//v8GAP7/9v/t//z/+f8AAPj/+v/3/wEA+v8HAPr//P/5/wQA//8DAPr/+P/3/wYA///+//X/+//5/wQA/f/7//X/+//4/wMA/f/8//j//v/9/wYA///8//f/AgAAAAUA/f/6//n/AwACAAIA/f/7//z/AwACAAAA/f/6//3/AgADAP7//f/7/wAAAwAFAPz////8/wMAAgAEAPv//v/+/wMAAgADAPv//v///wMAAQABAPv//f8AAAIAAAD///v//f8BAAIA///+//z//v8CAAIA/v/9//3///8CAAEA/v/9//7/AAACAAAA/v/9////AAABAAAA/f/9/wAAAQABAP///f/+/wEAAQAAAP///v/+/wEAAQD///7//v///wEAAQD///7//v///wEAAAD+//7///8AAAAAAAD+//7///8AAAAA///+//7///8AAAAA////////AAAAAP////////////8AAP//////////","UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAAAAAAAAAABAAAAAAD//////////////v////3/////////+//8////AQD9//z/9f8BAAIA+f8dACgAWQBxAJX/qv+Y/uz9aP9k/7UDUQQBAiQA4Pgi/AkB0gKaBsD/+fxp/vz9CQSp/I/+ywDO+vMD0fzK/PABcgBeBfoBv/+uAuH9Sf5gAy39awMmBWUBuP9fA9/9fgDj/2/+EACaACcCSv9Z/2j/rv7hAA0AWf55/7L84P7E/SIAT/67AMv/tf+FAA7/1v+7/gv/IP+E/sQA+P5aAXz/tP9XAFX/tP8o/4r/j//e/yQAMv9mAJT/rgCr/9X/EwCb//H/9f7F/6D/EAAoAK3//v+e/zsAh/+B/7r/if/C/2r/4P/z/6//HwCy/0IA7/9ZALT/y/80ACgA9v/J/9//DgA5ADUALQARADIACwAfAOf/NgArACMACQBBAEcAGAAjAC4AWQBUAHcAAAAfACEAIAAcAPj/CADk/yQA7v89AEEAFwD5/xYA6f8aAOX/AADF/zQADwAUAOT/BQDr/yUA6P8XAOf/HADR/0AA8P8nAAgACQDt/ycAKAAHAPH/IQDz/xsACADn//n/DgADAA4A8P///8z/GgDN/yMA/f8QANj/MwACAC0ACwAOAO3/JgAZAAUACgAAAA4AIgAaAAkADwACAAAAHQATAAUABQACAAgACwAjAO////8AAA8ABQAPAPL//f8GAAsABgAGAPD/8v8GAPz/CAD6//H/6v8PAAgABgD4//3/9v8aAAgABwD1//7//v8QAAoACAD//wUA9v8QAAoABAAFAAgAAgAJAAoAAwD//w0AAgD//wcA/v8DAAoABQAFABUABAAKAAYABwAHAA8ACgAGAAwADwAMAAkAEAAJAAgADwAMAAgADgAJAAUACQAPAAUACwAHAAEABgAIAAEABAAGAP//AgAJAAAAAgAEAP7///8IAAIA//8GAAEAAQAJAAIA/v8EAAMA//8JAAEA/v8DAAMA/v8HAAMA/f8BAAUA/v8FAAMA/v8BAAcA//8DAAMA/v8BAAYA//8CAAMA/////wcAAAAAAAMAAAD//wYAAQD+/wMAAQD//wUAAQD+/wIAAgD//wQAAgD+/wEAAwD//wMAAwD+/wEAAwD//wIAAwD//wEABAAAAAEABAD//wAABAABAAAAAwAAAAAABAABAP//AwABAAAAAwACAP//AgACAAAAAwACAP//AgACAAAAAgACAAAAAQADAAAAAQACAAAAAQADAAAAAQACAAAAAAACAAEAAAACAAEAAAACAAEAAAABAAEAAAABAAEAAAABAAEAAAABAAEAAAABAAEAAAABAAEAAAAAAAAAAAAAAAAA","UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAAAAP//AAD//wAA//8AAAAA//8AAP//AAACAAAA+f8BAAYA///4/wIA//8AAA8A/v/V/wEAEwA9AAEBRwA2AF7/kfog/3gBwv99CDYBU/qtAUX/AP7OAfkAX/o9B38FSfwaAuT14/60BAr8CQAI/tfyIQTzAXP+egdUBBwBof7TBMT8bAWi/5EEWwBRAAAKyfxE/8b88vp6ACP+PAF4/qD8MQNM/ygCJ/2XAPD9kP5gAVT/iP9I/lEB4P8qAD0BFAGa/+7/DgB2AOP98gFm/u/+Vv5/AG8ASP9gAM//qv9w//oAcv+2/jIBHgA7/6D/oAAGAKH/lADT/wAAggC8AAYAkP9yAEcAkf8BAOD/RAAr/zUANwDt/xQAJQAkAMT/zwA/AOH/xv9zAGsANQBTAIcALAAvACIATACy/xMADADg/xcAWABvAJL/7f9VAPb/EgDt/wcA4f8kAPP/5P+h/wgACQDy//r/LgAQAMn/8/9CAOX/5v/S/9//3P8pABYAuP/s/w8AFgDt/+3/7v/w/9j/5/8GAOf/2P/2//P//v8kABMAuf/m/xoADADZ/+r/3P8KAAUAKwDe/wsA3P8VAAAADgAfAB0ACAAMAF4AGgAhAPL/MwDz/0kABAAKAPX/LwAbAAkA9v/s/+3/8/8CABAAAADm//n/BQALAAUAAQDj//n/JQAVAPX/9v/+/wIAEQABAPP/8P/1/wAABgD6/+3/7//o//j/DAD8/+b/8P8IAAkABgD4//D/8P8UAAoAAwD4/wAA+f8OAAcAAAAFAPX/9v8TAAkA8v8EAPb/9/8dAA0A7/8CAPn/+f8SAAQA8/8CAOf/+v8DAAgA9P////H//P8IAAUA8//0/wIAAQAGAAgA9//7/wAA+/8EAP//+P/+////AgACAAsA8v/+/wIABQD7/wgA9v/7/wMABAD5/wAA/P/3/wEAAQD7//7//P/1/wQA///3//r////3/wMAAwD1//r/AwD6////AgD4//n/AwD8//7/AgD4//n/AwD+//3/AQD4//n/BQD///n/AAD6//j/BAABAPj/AAD9//v/AwADAPj//v/+//z/AwAEAPj//v8BAP7/AQADAPj//f8CAP////8EAPr//P8DAAAA/v8CAPv//P8DAAEA/f8BAP3//f8DAAIA/P8AAP7//f8DAAIA/P///wAA/f8BAAIA+//+/wEA//8AAAEA+//+/wEA/////wEA/P/+/wEA///+/wAA/f/9/wEAAAD9/wAA/f/+/wEAAQD8/////v/+/wAAAQD8////////////AQD9////AAD/////AAD+////AAAAAP//AAD///////8AAP//AAD//wAA//8AAP//"],ti=["UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAD+/wQA8/8ZAPr/DAD+/wMA/v8KAAQA/f8DAAMABADs//z/8v/z/8f/R/90/ob+//zAAWsDAwY3DKn9//tu93DvkwI6An4CuwJ0/BH7VPux92X0Gu7N/EX9mgfqCkkIiRMgBd4NQQGL/c0G/xBxAKELZATUA/sIHRSx+fkCyAUmBNEJIARlAdHz2AjNACcIsAW4AlECsvtJ/P/7K/tf++n8aP4W+g0FXAElAMn8nQHn/sT+Zv7N+9X2xvzM/O3+EvpqBBD7SQLd+vb/sPlw/JD72/3n+Rr+L/wS/vz6UQGg/Nf+Av5L/5X9Gv2//SP+mf3j/lf+v/2B/ZH/5P05/iL9MP9F/uf9UP4v/qv9mv7o/Xn+wP2k/8L+uP5J/tD+Dv/Y/bL+mP72/n3+pP+7/hAA+/5zAGH+Z/+u/g8Azv2y/6L+//9o/iIADP8VACz/CwCN/pb/1v4yAFP+wf+4/jsAcf5VAP3+bADa/nMA6f4sAOT+IQBd/v7/7v6aAIL+QADe/nEA0P4yAKz+CQCo/moAuf5xAN7+mAC8/jcANf9eAPX+IAA1/1kAAP9hAMz+PQD5/m0A2/4gAPr+UQDh/jQAEv9BAPH+FABN/zkASv9DADP/BABe/1IAGf8oAE3/RQAw/zIAQf8mADn/GgBE/xIAR/8hAD7/BABy/zEAKP/0/07/GwBX/z4ARf8mAFr/QQBV/zUAVP8eAFz/JABt/0EAUP8MAHz/KgBr/ycAYv8EAH3/MABl/x8Agv8bAIj/GgBv//z/ff8AAJX/IABu/+T/jv/r/4z/9/9n/77/pP8JAJD/EQCJ//r/q/8WAJ//GQCU/xYAtv8qAKr/PQCW/ysAwf8+ALb/OgC3/ygAz/8uAM7/OgDH/ygAz/8kAMz/OgC//xsA1f8qAMn/LwDN/xcA1f8oAMv/JQDR/xMAzf8bAM//HgDU/wUA2v8ZANL/EwDW/wEA1f8ZAMz/BwDX/wIA0v8SANT/BQDW/wMA0/8PANT/AADY/wIA1f8MANX/+f/a/wUA0v8IANf/+//Y/wUA0/8DANr/+f/Y/wQA1v8BANr/+f/Z/wUA1//8/9z/+v/Y/wYA2f/8/93//v/Y/wUA2v/9/93////Z/wUA3P/8/97/AgDa/wMA3v/8/97/AwDb/wIA3//9/97/BADd/wEA4f///9//BQDf/wAA4v8AAN//BQDf/wAA4/8CAN//BADh/wAA4/8DAOD/BADi////4/8DAOH/AwDk/wAA5P8FAOL/AgDl/wEA5P8FAOL/AQDl/wEA4/8EAOL/AQDj/wIA4P8DAN//AADg/wIA3v8CAOD/AADh/wEA4v8AAOP/AADm/wAA6P8AAOz/AADu/wAA","UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAD//////f/+//7///8AAP////8BAAEA/f8AAAEAAQAFAAUA9//6/x0A2f/9/xMA3P+jAE//of9HAKP//gCj/77/Z/vi/28D9/ywDJAJIvr6AsX0Xec4BhcGzf23DZP7yfZ6C1//nwBDBIHyYgob/Tf3sQ41ANoKRA/A+E7yffAa9gD5EQUBDMwMygiqAHMAqPqhAGUB2/gE+a78H/+4APT6DwIUAA0HNwMhBfL8E/90A5n7dP9cALIC+v5C/q0AOv9kAogBHv01/+3/qAQD/ub8T/4vAOUA5P6KATv+ywEYAeT+KP6i/3gCFP6h/hr/+P83ACL/VADn/8UARQJI/4MAu/8qAlj+wf4iAPb/LgFJ/8QAUABAAI4ABf+k/3X/YgFK/ij/j/9HADoAi/+WAA0BVwC/ACL/LACe//cARv9i/xgAUgA0ACj/FgBgAIj/5P9M/7z/zv8/AKz/gv8sAEQA6/+I/yYAawDL/7T/xf8qAOv/FQCu/5n/EgAyAO3/i/9LAE4A+//R//P/FgDe/8z/u/8DADIALAAZALL/TAA8ABwAo//1/xwA/P/L/z0A6P8jAN7/7v+a/zAAwf/7/3//KQAuACwA9v8RAGYAIwBNADgAKgASAF0ADgANACEAMQDH//H/LQACAB0Ay////x0APAABAAQA2v8iAAcAEgDE/+v/FQD+/+P/DAD1/97/6v/4//X/EwD4/+7/5P8cAA0ACQDH//7/CQAXAAEA/P/5//j/CwAWAAEABQD9//n/AQAWAB0A7v/k/wAACQAmAP//9/8AAPn/8/8aAO//6/8fAOv/5v8hAP//5/8PAOf/AAAGAPn/6v8JAAYABgABAOv/1//1//L/+P8DABcA6f/8/wMACgD7/xAA3v/2//z/DADu//z/5v/5/wEA/P/6//7/7v/x/wQABgD5/wAA8v/w/wkAEQD2//j/+v8EAAcAEAD3//v/+v8CAAAACQD3//v//v/9/wUADAD2//X/AgAHAAAABwD2//T/BgAKAP7/AQD4//r/BAAIAPn/AAD3//f/BQAHAPv//v/7//n/BQAJAPj/+v/9//7/AgAGAPj/+f8BAAEAAgAFAPn/+v8BAAIAAAAEAPn/+f8CAAQA/v8BAPr/+v8CAAQA/P////v//P8CAAQA+//+//3//f8CAAUA+v/9//////8AAAQA+v/8////AAD//wIA+//8/wAAAQD+/wEA+//8/wAAAgD9/////P/9/wEAAgD8//7//f/9/wAAAgD8//3//v/+////AQD8//z/////////AAD8//3///8AAP7/AAD9//7///8AAP7////+//////8AAP7////+////////////////////","UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAD//////v8AAP///////wAAAAAAAP7/AQABAAAABwD///X/BQAjAPL/CQDb/9D/GAAb/7sAYwCW/z0BcP/X/7T/2QDW+wH8yANCCCUJ5QT++UXmhPwhA78FuAxH+p78ifudBlAG9vmu/lAK2fdlB///cfjoCa0E7Akn9Yb/zvba+AkAHPywBGEBFwUNAL8AXAAGA20DFvmR/kz+F/06Ag/+GwHl/5EEKgJd/q0AP/ym/9n6EfxY/2H+/QFtAC4C6QBDAaMCo/20/+3/3f/p/fL9rv9V/6cBhQHuAX4AcwJYAaH/IP/P/gsApP0LAe7/sQBuAI0AAgGDAE4BzACe/5X//v+v/+f+Zf+gAOv/5QBhAOIApAANASYAuP+h/8b/HQBr/9//bACWAGEAFAB5AD0AWQDU/+D/Yf/p//D/s/+R/4QAMQBvABEAkQBfABQAJgDW/wwA8/8XALz/vf8zAFAAKwD1/zEAPwDJ/x0A7/8LAOX/FwDR//H/EQAdAO//6P8QAFEA2f8WABEAMgDy/xIA+f/s/xAALgDv////HQAvAPT/+f8iAAYAEgAFABoAGgD//w0A+f/0/xsAHgDx/9f/GAACAPH/8f8JAPf/GwALABEA7/8cAPT/CgD2//j/BQD8/+3/OgAgAAYA9f8PAN7/DgD9/9r/1//3/+3/9//1//b/8//5//f/AgAJAOf/+v8OAAMACwD9/+7/5f8eAAEA9//q//7/8P8WAP7/+//4/wIA+f8TAAIA9f/5/wcA+P8iAAgA9v/n/xoA//8gAAUABwDj/wAA9v8BAAUAFQDn/wMA7v8QABAAEQDm/wwA8f8aAAAABwDu/wcACgASAAEA7//w//f/BgARAAkA6P/3/wcADgAKAAYA4f/4/wYADgAAAPr/8P/9/xQACgAHAPn/7//9/xEAAgD+//L/8v/8/xUAAwDw//H/9f8CAAsA/v/q//L/+f8FAAYA/P/r//j///8GAAkA+//o//j/AQAIAP//+v/o//v/CAAIAPv/+P/w/wEACQAHAPj/+f/0/wIACwAFAPb/+f/4/wQACwACAPP/+f/+/wYACAD///L/+/8BAAYABQD9//P//P8FAAUAAgD7//T//f8HAAQA///7//f///8IAAMA/P/6//r/AQAIAAEA+v/6//3/AgAHAAAA+f/7/wAAAwAFAP7/+P/8/wIAAgACAP3/+f/9/wMAAwAAAPz/+v/+/wQAAgD+//z/+/8AAAQAAQD8//z//f8BAAQAAAD7//3///8BAAMA///7//3/AAACAAEA/v/7//7/AQABAAAA/v/9////AQAAAP///v/+////AAD/////////////////////////////","UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAD////////+//////8AAAAA/v/+/wAAAQD8//3/CQAJAP3/+v8PAAcApABlABkBkwCO/i//lfqa/HQAcf/3BdkCzwJcBCMC0wMN/9/9wgI7AaECYfxV/Tf83vhn/xrt8Owx/8n7cgHABYb43QcZDh4WugNrA7P74gHu/9z/zv0t/acCiQHY/iv4qQOl/ysCE/0//XT9Sf4O//j9xfupAn394gHO+rsCXAFIAxQC9wIXBgcD2AQuAnb/9gJh/6wAVfxEAI4Bvf7oAFv/bALsAMQBe/88/joAT/4dAH39/v9LAXn/gwDI//QBdABcAA0A7f4lAMn///+9/tv/iABp/13/pP/dALv/w/8MAHv//f+y/6////7U/5AAZP+Z/8r/nQDR/5r/DwDr/xAA4v+s/3z/+P9uAOv/t/82AGcAHgCb/yQAFQBGAM7/CgD3/xoAegAaAOz/CgBHAA8Adv8/AAAABQC2/xIAAAA7ABQAKgCj/z4AAQAXAJz/JAADAAcA8f/1/2AAAQAlAPD/NgDx/1wA7v/4/wMAZADv//3/HQAkAFoA8P9FAPv/FgBIAPf/WQAHAEUACQD0/xIAQwDu/wMAwP9VALn/XwCw/yEA5f8sAPj/FgDD/1YAyv8rAOX/HQDo//j/IQAQACAAHwD9/yQAHQBAABgABQAiAAUAKAD3/wkACwAKAAMABwAJAPb/+f8GAOr/JQAHABMA6P8TAA4AGgD//woA8/8ZAP//GADu/w0A9v8SAAMABwD4/wQA5P8XAAQACgDq/wUA+/8VAAcACADs/xIAAAATAPH/+v/1//T/7f///+z/+v/y/+//9/8KAAcACgAJAPT/BAAKAAAABgAIAPL/9v8KAAMABAACAPr/9v8OAAIA+P/x//v/+f8MAPb/+P/w/wQA9f8MAPn////7/woA/v8PAAEAAgD1/xAAAQAPAP//AwD//xQABwALAAAABgADABAAAgAHAAAACAABAA8ABQAFAAMABwAEAA4ABwADAAEACQAFAAoAAwD//wAACQADAAUAAQD/////CAABAAMAAAD/////BwACAAEAAAD/////BwACAP7///8BAAAABgABAP7///8CAAAABAAAAP7///8DAAAAAwAAAP3///8DAAAAAQAAAP3//v8EAAAAAAD+//////8EAP/////+/wAA/v8EAP/////+/wEA/v8EAP///v/+/wIA//8DAP///v/+/wIA//8BAP///v/+/wMA//8BAP/////+/wMA//8AAP//AAD+/wQA//8AAP7/AQD//wIA////////AQD//wIA////////AQAAAAEAAAAAAP//AQD//wEAAAAAAP//AQAAAAEAAAAAAAAA","UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAD+/wAA+v8AAPz/AAD//wAA/f8AAAEAAAD+/wAACQAAAAQAAAAZAAAAtgAAAFsBAABW/gAAH/oAAGcBAABoBwAAlAAAAO3/AAARAQAA+wIAAEoEAACe/gAAiv4AALD0AADJ8wAAkQQAAF34AABi8QAAPQAAAAH2AAD19AAADAMAAJwGAACTEAAA0AwAAJkHAACOBwAAuQEAANcDAAC6AgAAHwUAAHEFAAB0AwAAbgEAADz+AADYAQAAGAAAAJwCAADgAAAA//0AAMn+AAAT/AAAwP8AAOn9AAAJAAAAewEAAOn+AACN/wAAOv0AAO3+AADN/gAAcP8AACj/AACq/gAA+f4AAML9AACa/wAA/f4AAN7/AABo/wAA6/4AAE//AAAC/wAAEQAAAHX/AAB0AAAA5f8AAEwAAAB3AAAA5/8AAMIAAABCAAAAzgAAAE8AAAB3AAAAKAAAADMAAACqAAAALwAAAK4AAAASAAAAVgAAACgAAAAtAAAATAAAAP3/AAA7AAAA2/8AACQAAADw/wAALQAAADEAAAAlAAAAbAAAADMAAABUAAAAEAAAACgAAAD1/wAA9v8AAPr/AADu/wAALgAAABIAAABUAAAARAAAAGUAAABGAAAAOAAAAGAAAAAuAAAARQAAACEAAAAfAAAAAAAAAAkAAAAQAAAAAwAAABIAAADs/wAAEAAAAAYAAAASAAAAIgAAABEAAAADAAAABAAAAA8AAAD4/wAAHQAAAAsAAAAIAAAADgAAAP//AAAcAAAADwAAAAYAAAASAAAAFwAAAAMAAAAYAAAAEgAAAPr/AAAQAAAADQAAAAoAAAD3/wAABgAAAPb/AADf/wAA/v8AAPL/AAD6/wAAFAAAAAQAAAAEAAAAGwAAAAEAAAAMAAAAIAAAAAIAAAAdAAAAGAAAAAIAAAAcAAAAEgAAAAcAAAAeAAAADwAAAAQAAAAeAAAABAAAAAYAAAAZAAAAAQAAAA4AAAATAAAA/v8AAAoAAAAOAAAA+/8AAAsAAAAJAAAA+f8AAAsAAAABAAAA+f8AAAoAAAD9/wAA+v8AAAcAAAD5/wAA+v8AAAUAAAD3/wAA/f8AAAQAAAD2/wAAAAAAAAEAAAD3/wAAAgAAAAAAAAD4/wAAAwAAAP7/AAD6/wAABAAAAP3/AAD8/wAABAAAAPv/AAD+/wAAAwAAAPv/AAD//wAAAQAAAPv/AAAAAAAAAAAAAPv/AAACAAAA//8AAPz/AAACAAAA/v8AAP3/AAACAAAA/f8AAP7/AAABAAAA/f8AAP//AAABAAAA/f8AAAAAAAAAAAAA/v8AAAEAAAAAAAAA//8AAAAAAAAAAAAAAAAAAAAAAAAAAAAA"],ii=[2,3];class ni{constructor(e,t){v(e)||m("HOARenderer: Invalid BaseAudioContext."),this._context=e,this._config={ambisonicOrder:3,renderingMode:w.AMBISONIC},t&&t.ambisonicOrder&&(ii.includes(t.ambisonicOrder)?this._config.ambisonicOrder=t.ambisonicOrder:f("HOARenderer: Invalid ambisonic order. (got "+t.ambisonicOrder+") Fallbacks to 3rd-order ambisonic.")),this._config.numberOfChannels=(this._config.ambisonicOrder+1)*(this._config.ambisonicOrder+1),this._config.numberOfStereoChannels=Math.ceil(this._config.numberOfChannels/2),t&&t.hrirPathList&&(Array.isArray(t.hrirPathList)&&t.hrirPathList.length===this._config.numberOfStereoChannels?this._config.pathList=t.hrirPathList:m("HOARenderer: Invalid HRIR URLs. It must be an array with "+this._config.numberOfStereoChannels+" URLs to HRIR files. (got "+t.hrirPathList+")")),t&&t.renderingMode&&(Object.values(w).includes(t.renderingMode)?this._config.renderingMode=t.renderingMode:f("HOARenderer: Invalid rendering mode. (got "+t.renderingMode+') Fallbacks to "ambisonic".')),this._buildAudioGraph()}_buildAudioGraph(){this.input=this._context.createGain(),this.output=this._context.createGain(),this._bypass=this._context.createGain(),this._hoaRotator=new $t(this._context,this._config.ambisonicOrder),this._hoaConvolver=new Kt(this._context,this._config.ambisonicOrder),this.input.connect(this._hoaRotator.input),this.input.connect(this._bypass),this._hoaRotator.output.connect(this._hoaConvolver.input),this._hoaConvolver.output.connect(this.output),this.input.channelCount=this._config.numberOfChannels,this.input.channelCountMode="explicit",this.input.channelInterpretation="discrete"}dispose(){this.getRenderingMode()===w.BYPASS&&this._bypass.connect(this.output),this.input.disconnect(this._hoaRotator.input),this.input.disconnect(this._bypass),this._hoaRotator.output.disconnect(this._hoaConvolver.input),this._hoaConvolver.output.disconnect(this.output),this._hoaRotator.dispose(),this._hoaConvolver.dispose()}async initialize(){let e;f("HOARenderer: Initializing... (mode: "+this._config.renderingMode+", ambisonic order: "+this._config.ambisonicOrder+")"),e=this._config.pathList?new Gt(this._context,this._config.pathList,{dataType:"url"}):2===this._config.ambisonicOrder?new Gt(this._context,ti):new Gt(this._context,ei);try{const t=await e.load();this._hoaConvolver.setHRIRBufferList(t),this.setRenderingMode(this._config.renderingMode),f("HOARenderer: HRIRs loaded successfully. Ready.")}catch(e){m("HOARenderer: HRIR loading/decoding failed. Reason: "+e.message)}}setRotationMatrix3(e){this._hoaRotator.setRotationMatrix3(e)}setRotationMatrix4(e){this._hoaRotator.setRotationMatrix4(e)}getRenderingMode(){return this._config.renderingMode}setRenderingMode(e){if(e!==this._config.renderingMode){switch(e){case w.AMBISONIC:this._hoaConvolver.enable(),this._bypass.disconnect();break;case w.BYPASS:this._hoaConvolver.disable(),this._bypass.connect(this.output);break;case w.OFF:this._hoaConvolver.disable(),this._bypass.disconnect();break;default:return void f('HOARenderer: Rendering mode "'+e+'" is not supported.')}this._config.renderingMode=e,f("HOARenderer: Rendering mode changed. ("+e+")")}}}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2016 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const si="1.4.2",ai=function(){const e=navigator.userAgent;let t,i=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*([\d\.]+)/i)||[];if(/trident/i.test(i[1]))return t=/\brv[ :]+(\d+)/g.exec(e)||[],{name:"IE",version:t[1]||""};if("Chrome"===i[1]&&(t=e.match(/\bOPR|Edge\/(\d+)/),null!=t))return{name:"Opera",version:t[1]};i=i[2]?[i[1],i[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(t=e.match(/version\/([\d.]+)/i))&&i.splice(1,1,t[1]);let n=e.match(/android|ipad|iphone/i);return n||(n=e.match(/cros|linux|mac os x|windows/i)),{name:i[0],version:i[1],platform:n?n[0]:"unknown"}}();
/**
 * @license
 * Copyright 2016 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */f(`Version ${si} (running ${ai.name} ${ai.version} on ${ai.platform})`),"safari"===ai.name.toLowerCase()&&(window.webkitAudioContext&&window.webkitOfflineAudioContext&&(window.AudioContext=window.webkitAudioContext,window.OfflineAudioContext=window.webkitOfflineAudioContext),f(ai.name+" detected. Polyfill applied."));const oi=[[[0,0,0,1,1,1],[.052336,.034899,.017452,.999848,.999391,.99863],[.104528,.069756,.034899,.999391,.997564,.994522],[.156434,.104528,.052336,.99863,.994522,.987688],[.207912,.139173,.069756,.997564,.990268,.978148],[.258819,.173648,.087156,.996195,.984808,.965926],[.309017,.207912,.104528,.994522,.978148,.951057],[.358368,.241922,.121869,.992546,.970296,.93358],[.406737,.275637,.139173,.990268,.961262,.913545],[.45399,.309017,.156434,.987688,.951057,.891007],[.5,.34202,.173648,.984808,.939693,.866025],[.544639,.374607,.190809,.981627,.927184,.838671],[.587785,.406737,.207912,.978148,.913545,.809017],[.62932,.438371,.224951,.97437,.898794,.777146],[.669131,.469472,.241922,.970296,.882948,.743145],[.707107,.5,.258819,.965926,.866025,.707107],[.743145,.529919,.275637,.961262,.848048,.669131],[.777146,.559193,.292372,.956305,.829038,.62932],[.809017,.587785,.309017,.951057,.809017,.587785],[.838671,.615661,.325568,.945519,.788011,.544639],[.866025,.642788,.34202,.939693,.766044,.5],[.891007,.669131,.358368,.93358,.743145,.45399],[.913545,.694658,.374607,.927184,.71934,.406737],[.93358,.71934,.390731,.920505,.694658,.358368],[.951057,.743145,.406737,.913545,.669131,.309017],[.965926,.766044,.422618,.906308,.642788,.258819],[.978148,.788011,.438371,.898794,.615661,.207912],[.987688,.809017,.45399,.891007,.587785,.156434],[.994522,.829038,.469472,.882948,.559193,.104528],[.99863,.848048,.48481,.87462,.529919,.052336],[1,.866025,.5,.866025,.5,0],[.99863,.882948,.515038,.857167,.469472,-.052336],[.994522,.898794,.529919,.848048,.438371,-.104528],[.987688,.913545,.544639,.838671,.406737,-.156434],[.978148,.927184,.559193,.829038,.374607,-.207912],[.965926,.939693,.573576,.819152,.34202,-.258819],[.951057,.951057,.587785,.809017,.309017,-.309017],[.93358,.961262,.601815,.798636,.275637,-.358368],[.913545,.970296,.615661,.788011,.241922,-.406737],[.891007,.978148,.62932,.777146,.207912,-.45399],[.866025,.984808,.642788,.766044,.173648,-.5],[.838671,.990268,.656059,.75471,.139173,-.544639],[.809017,.994522,.669131,.743145,.104528,-.587785],[.777146,.997564,.681998,.731354,.069756,-.62932],[.743145,.999391,.694658,.71934,.034899,-.669131],[.707107,1,.707107,.707107,0,-.707107],[.669131,.999391,.71934,.694658,-.034899,-.743145],[.62932,.997564,.731354,.681998,-.069756,-.777146],[.587785,.994522,.743145,.669131,-.104528,-.809017],[.544639,.990268,.75471,.656059,-.139173,-.838671],[.5,.984808,.766044,.642788,-.173648,-.866025],[.45399,.978148,.777146,.62932,-.207912,-.891007],[.406737,.970296,.788011,.615661,-.241922,-.913545],[.358368,.961262,.798636,.601815,-.275637,-.93358],[.309017,.951057,.809017,.587785,-.309017,-.951057],[.258819,.939693,.819152,.573576,-.34202,-.965926],[.207912,.927184,.829038,.559193,-.374607,-.978148],[.156434,.913545,.838671,.544639,-.406737,-.987688],[.104528,.898794,.848048,.529919,-.438371,-.994522],[.052336,.882948,.857167,.515038,-.469472,-.99863],[0,.866025,.866025,.5,-.5,-1],[-.052336,.848048,.87462,.48481,-.529919,-.99863],[-.104528,.829038,.882948,.469472,-.559193,-.994522],[-.156434,.809017,.891007,.45399,-.587785,-.987688],[-.207912,.788011,.898794,.438371,-.615661,-.978148],[-.258819,.766044,.906308,.422618,-.642788,-.965926],[-.309017,.743145,.913545,.406737,-.669131,-.951057],[-.358368,.71934,.920505,.390731,-.694658,-.93358],[-.406737,.694658,.927184,.374607,-.71934,-.913545],[-.45399,.669131,.93358,.358368,-.743145,-.891007],[-.5,.642788,.939693,.34202,-.766044,-.866025],[-.544639,.615661,.945519,.325568,-.788011,-.838671],[-.587785,.587785,.951057,.309017,-.809017,-.809017],[-.62932,.559193,.956305,.292372,-.829038,-.777146],[-.669131,.529919,.961262,.275637,-.848048,-.743145],[-.707107,.5,.965926,.258819,-.866025,-.707107],[-.743145,.469472,.970296,.241922,-.882948,-.669131],[-.777146,.438371,.97437,.224951,-.898794,-.62932],[-.809017,.406737,.978148,.207912,-.913545,-.587785],[-.838671,.374607,.981627,.190809,-.927184,-.544639],[-.866025,.34202,.984808,.173648,-.939693,-.5],[-.891007,.309017,.987688,.156434,-.951057,-.45399],[-.913545,.275637,.990268,.139173,-.961262,-.406737],[-.93358,.241922,.992546,.121869,-.970296,-.358368],[-.951057,.207912,.994522,.104528,-.978148,-.309017],[-.965926,.173648,.996195,.087156,-.984808,-.258819],[-.978148,.139173,.997564,.069756,-.990268,-.207912],[-.987688,.104528,.99863,.052336,-.994522,-.156434],[-.994522,.069756,.999391,.034899,-.997564,-.104528],[-.99863,.034899,.999848,.017452,-.999391,-.052336],[-1,0,1,0,-1,-0],[-.99863,-.034899,.999848,-.017452,-.999391,.052336],[-.994522,-.069756,.999391,-.034899,-.997564,.104528],[-.987688,-.104528,.99863,-.052336,-.994522,.156434],[-.978148,-.139173,.997564,-.069756,-.990268,.207912],[-.965926,-.173648,.996195,-.087156,-.984808,.258819],[-.951057,-.207912,.994522,-.104528,-.978148,.309017],[-.93358,-.241922,.992546,-.121869,-.970296,.358368],[-.913545,-.275637,.990268,-.139173,-.961262,.406737],[-.891007,-.309017,.987688,-.156434,-.951057,.45399],[-.866025,-.34202,.984808,-.173648,-.939693,.5],[-.838671,-.374607,.981627,-.190809,-.927184,.544639],[-.809017,-.406737,.978148,-.207912,-.913545,.587785],[-.777146,-.438371,.97437,-.224951,-.898794,.62932],[-.743145,-.469472,.970296,-.241922,-.882948,.669131],[-.707107,-.5,.965926,-.258819,-.866025,.707107],[-.669131,-.529919,.961262,-.275637,-.848048,.743145],[-.62932,-.559193,.956305,-.292372,-.829038,.777146],[-.587785,-.587785,.951057,-.309017,-.809017,.809017],[-.544639,-.615661,.945519,-.325568,-.788011,.838671],[-.5,-.642788,.939693,-.34202,-.766044,.866025],[-.45399,-.669131,.93358,-.358368,-.743145,.891007],[-.406737,-.694658,.927184,-.374607,-.71934,.913545],[-.358368,-.71934,.920505,-.390731,-.694658,.93358],[-.309017,-.743145,.913545,-.406737,-.669131,.951057],[-.258819,-.766044,.906308,-.422618,-.642788,.965926],[-.207912,-.788011,.898794,-.438371,-.615661,.978148],[-.156434,-.809017,.891007,-.45399,-.587785,.987688],[-.104528,-.829038,.882948,-.469472,-.559193,.994522],[-.052336,-.848048,.87462,-.48481,-.529919,.99863],[-0,-.866025,.866025,-.5,-.5,1],[.052336,-.882948,.857167,-.515038,-.469472,.99863],[.104528,-.898794,.848048,-.529919,-.438371,.994522],[.156434,-.913545,.838671,-.544639,-.406737,.987688],[.207912,-.927184,.829038,-.559193,-.374607,.978148],[.258819,-.939693,.819152,-.573576,-.34202,.965926],[.309017,-.951057,.809017,-.587785,-.309017,.951057],[.358368,-.961262,.798636,-.601815,-.275637,.93358],[.406737,-.970296,.788011,-.615661,-.241922,.913545],[.45399,-.978148,.777146,-.62932,-.207912,.891007],[.5,-.984808,.766044,-.642788,-.173648,.866025],[.544639,-.990268,.75471,-.656059,-.139173,.838671],[.587785,-.994522,.743145,-.669131,-.104528,.809017],[.62932,-.997564,.731354,-.681998,-.069756,.777146],[.669131,-.999391,.71934,-.694658,-.034899,.743145],[.707107,-1,.707107,-.707107,-0,.707107],[.743145,-.999391,.694658,-.71934,.034899,.669131],[.777146,-.997564,.681998,-.731354,.069756,.62932],[.809017,-.994522,.669131,-.743145,.104528,.587785],[.838671,-.990268,.656059,-.75471,.139173,.544639],[.866025,-.984808,.642788,-.766044,.173648,.5],[.891007,-.978148,.62932,-.777146,.207912,.45399],[.913545,-.970296,.615661,-.788011,.241922,.406737],[.93358,-.961262,.601815,-.798636,.275637,.358368],[.951057,-.951057,.587785,-.809017,.309017,.309017],[.965926,-.939693,.573576,-.819152,.34202,.258819],[.978148,-.927184,.559193,-.829038,.374607,.207912],[.987688,-.913545,.544639,-.838671,.406737,.156434],[.994522,-.898794,.529919,-.848048,.438371,.104528],[.99863,-.882948,.515038,-.857167,.469472,.052336],[1,-.866025,.5,-.866025,.5,0],[.99863,-.848048,.48481,-.87462,.529919,-.052336],[.994522,-.829038,.469472,-.882948,.559193,-.104528],[.987688,-.809017,.45399,-.891007,.587785,-.156434],[.978148,-.788011,.438371,-.898794,.615661,-.207912],[.965926,-.766044,.422618,-.906308,.642788,-.258819],[.951057,-.743145,.406737,-.913545,.669131,-.309017],[.93358,-.71934,.390731,-.920505,.694658,-.358368],[.913545,-.694658,.374607,-.927184,.71934,-.406737],[.891007,-.669131,.358368,-.93358,.743145,-.45399],[.866025,-.642788,.34202,-.939693,.766044,-.5],[.838671,-.615661,.325568,-.945519,.788011,-.544639],[.809017,-.587785,.309017,-.951057,.809017,-.587785],[.777146,-.559193,.292372,-.956305,.829038,-.62932],[.743145,-.529919,.275637,-.961262,.848048,-.669131],[.707107,-.5,.258819,-.965926,.866025,-.707107],[.669131,-.469472,.241922,-.970296,.882948,-.743145],[.62932,-.438371,.224951,-.97437,.898794,-.777146],[.587785,-.406737,.207912,-.978148,.913545,-.809017],[.544639,-.374607,.190809,-.981627,.927184,-.838671],[.5,-.34202,.173648,-.984808,.939693,-.866025],[.45399,-.309017,.156434,-.987688,.951057,-.891007],[.406737,-.275637,.139173,-.990268,.961262,-.913545],[.358368,-.241922,.121869,-.992546,.970296,-.93358],[.309017,-.207912,.104528,-.994522,.978148,-.951057],[.258819,-.173648,.087156,-.996195,.984808,-.965926],[.207912,-.139173,.069756,-.997564,.990268,-.978148],[.156434,-.104528,.052336,-.99863,.994522,-.987688],[.104528,-.069756,.034899,-.999391,.997564,-.994522],[.052336,-.034899,.017452,-.999848,.999391,-.99863],[0,-0,0,-1,1,-1],[-.052336,.034899,-.017452,-.999848,.999391,-.99863],[-.104528,.069756,-.034899,-.999391,.997564,-.994522],[-.156434,.104528,-.052336,-.99863,.994522,-.987688],[-.207912,.139173,-.069756,-.997564,.990268,-.978148],[-.258819,.173648,-.087156,-.996195,.984808,-.965926],[-.309017,.207912,-.104528,-.994522,.978148,-.951057],[-.358368,.241922,-.121869,-.992546,.970296,-.93358],[-.406737,.275637,-.139173,-.990268,.961262,-.913545],[-.45399,.309017,-.156434,-.987688,.951057,-.891007],[-.5,.34202,-.173648,-.984808,.939693,-.866025],[-.544639,.374607,-.190809,-.981627,.927184,-.838671],[-.587785,.406737,-.207912,-.978148,.913545,-.809017],[-.62932,.438371,-.224951,-.97437,.898794,-.777146],[-.669131,.469472,-.241922,-.970296,.882948,-.743145],[-.707107,.5,-.258819,-.965926,.866025,-.707107],[-.743145,.529919,-.275637,-.961262,.848048,-.669131],[-.777146,.559193,-.292372,-.956305,.829038,-.62932],[-.809017,.587785,-.309017,-.951057,.809017,-.587785],[-.838671,.615661,-.325568,-.945519,.788011,-.544639],[-.866025,.642788,-.34202,-.939693,.766044,-.5],[-.891007,.669131,-.358368,-.93358,.743145,-.45399],[-.913545,.694658,-.374607,-.927184,.71934,-.406737],[-.93358,.71934,-.390731,-.920505,.694658,-.358368],[-.951057,.743145,-.406737,-.913545,.669131,-.309017],[-.965926,.766044,-.422618,-.906308,.642788,-.258819],[-.978148,.788011,-.438371,-.898794,.615661,-.207912],[-.987688,.809017,-.45399,-.891007,.587785,-.156434],[-.994522,.829038,-.469472,-.882948,.559193,-.104528],[-.99863,.848048,-.48481,-.87462,.529919,-.052336],[-1,.866025,-.5,-.866025,.5,0],[-.99863,.882948,-.515038,-.857167,.469472,.052336],[-.994522,.898794,-.529919,-.848048,.438371,.104528],[-.987688,.913545,-.544639,-.838671,.406737,.156434],[-.978148,.927184,-.559193,-.829038,.374607,.207912],[-.965926,.939693,-.573576,-.819152,.34202,.258819],[-.951057,.951057,-.587785,-.809017,.309017,.309017],[-.93358,.961262,-.601815,-.798636,.275637,.358368],[-.913545,.970296,-.615661,-.788011,.241922,.406737],[-.891007,.978148,-.62932,-.777146,.207912,.45399],[-.866025,.984808,-.642788,-.766044,.173648,.5],[-.838671,.990268,-.656059,-.75471,.139173,.544639],[-.809017,.994522,-.669131,-.743145,.104528,.587785],[-.777146,.997564,-.681998,-.731354,.069756,.62932],[-.743145,.999391,-.694658,-.71934,.034899,.669131],[-.707107,1,-.707107,-.707107,0,.707107],[-.669131,.999391,-.71934,-.694658,-.034899,.743145],[-.62932,.997564,-.731354,-.681998,-.069756,.777146],[-.587785,.994522,-.743145,-.669131,-.104528,.809017],[-.544639,.990268,-.75471,-.656059,-.139173,.838671],[-.5,.984808,-.766044,-.642788,-.173648,.866025],[-.45399,.978148,-.777146,-.62932,-.207912,.891007],[-.406737,.970296,-.788011,-.615661,-.241922,.913545],[-.358368,.961262,-.798636,-.601815,-.275637,.93358],[-.309017,.951057,-.809017,-.587785,-.309017,.951057],[-.258819,.939693,-.819152,-.573576,-.34202,.965926],[-.207912,.927184,-.829038,-.559193,-.374607,.978148],[-.156434,.913545,-.838671,-.544639,-.406737,.987688],[-.104528,.898794,-.848048,-.529919,-.438371,.994522],[-.052336,.882948,-.857167,-.515038,-.469472,.99863],[-0,.866025,-.866025,-.5,-.5,1],[.052336,.848048,-.87462,-.48481,-.529919,.99863],[.104528,.829038,-.882948,-.469472,-.559193,.994522],[.156434,.809017,-.891007,-.45399,-.587785,.987688],[.207912,.788011,-.898794,-.438371,-.615661,.978148],[.258819,.766044,-.906308,-.422618,-.642788,.965926],[.309017,.743145,-.913545,-.406737,-.669131,.951057],[.358368,.71934,-.920505,-.390731,-.694658,.93358],[.406737,.694658,-.927184,-.374607,-.71934,.913545],[.45399,.669131,-.93358,-.358368,-.743145,.891007],[.5,.642788,-.939693,-.34202,-.766044,.866025],[.544639,.615661,-.945519,-.325568,-.788011,.838671],[.587785,.587785,-.951057,-.309017,-.809017,.809017],[.62932,.559193,-.956305,-.292372,-.829038,.777146],[.669131,.529919,-.961262,-.275637,-.848048,.743145],[.707107,.5,-.965926,-.258819,-.866025,.707107],[.743145,.469472,-.970296,-.241922,-.882948,.669131],[.777146,.438371,-.97437,-.224951,-.898794,.62932],[.809017,.406737,-.978148,-.207912,-.913545,.587785],[.838671,.374607,-.981627,-.190809,-.927184,.544639],[.866025,.34202,-.984808,-.173648,-.939693,.5],[.891007,.309017,-.987688,-.156434,-.951057,.45399],[.913545,.275637,-.990268,-.139173,-.961262,.406737],[.93358,.241922,-.992546,-.121869,-.970296,.358368],[.951057,.207912,-.994522,-.104528,-.978148,.309017],[.965926,.173648,-.996195,-.087156,-.984808,.258819],[.978148,.139173,-.997564,-.069756,-.990268,.207912],[.987688,.104528,-.99863,-.052336,-.994522,.156434],[.994522,.069756,-.999391,-.034899,-.997564,.104528],[.99863,.034899,-.999848,-.017452,-.999391,.052336],[1,0,-1,-0,-1,0],[.99863,-.034899,-.999848,.017452,-.999391,-.052336],[.994522,-.069756,-.999391,.034899,-.997564,-.104528],[.987688,-.104528,-.99863,.052336,-.994522,-.156434],[.978148,-.139173,-.997564,.069756,-.990268,-.207912],[.965926,-.173648,-.996195,.087156,-.984808,-.258819],[.951057,-.207912,-.994522,.104528,-.978148,-.309017],[.93358,-.241922,-.992546,.121869,-.970296,-.358368],[.913545,-.275637,-.990268,.139173,-.961262,-.406737],[.891007,-.309017,-.987688,.156434,-.951057,-.45399],[.866025,-.34202,-.984808,.173648,-.939693,-.5],[.838671,-.374607,-.981627,.190809,-.927184,-.544639],[.809017,-.406737,-.978148,.207912,-.913545,-.587785],[.777146,-.438371,-.97437,.224951,-.898794,-.62932],[.743145,-.469472,-.970296,.241922,-.882948,-.669131],[.707107,-.5,-.965926,.258819,-.866025,-.707107],[.669131,-.529919,-.961262,.275637,-.848048,-.743145],[.62932,-.559193,-.956305,.292372,-.829038,-.777146],[.587785,-.587785,-.951057,.309017,-.809017,-.809017],[.544639,-.615661,-.945519,.325568,-.788011,-.838671],[.5,-.642788,-.939693,.34202,-.766044,-.866025],[.45399,-.669131,-.93358,.358368,-.743145,-.891007],[.406737,-.694658,-.927184,.374607,-.71934,-.913545],[.358368,-.71934,-.920505,.390731,-.694658,-.93358],[.309017,-.743145,-.913545,.406737,-.669131,-.951057],[.258819,-.766044,-.906308,.422618,-.642788,-.965926],[.207912,-.788011,-.898794,.438371,-.615661,-.978148],[.156434,-.809017,-.891007,.45399,-.587785,-.987688],[.104528,-.829038,-.882948,.469472,-.559193,-.994522],[.052336,-.848048,-.87462,.48481,-.529919,-.99863],[0,-.866025,-.866025,.5,-.5,-1],[-.052336,-.882948,-.857167,.515038,-.469472,-.99863],[-.104528,-.898794,-.848048,.529919,-.438371,-.994522],[-.156434,-.913545,-.838671,.544639,-.406737,-.987688],[-.207912,-.927184,-.829038,.559193,-.374607,-.978148],[-.258819,-.939693,-.819152,.573576,-.34202,-.965926],[-.309017,-.951057,-.809017,.587785,-.309017,-.951057],[-.358368,-.961262,-.798636,.601815,-.275637,-.93358],[-.406737,-.970296,-.788011,.615661,-.241922,-.913545],[-.45399,-.978148,-.777146,.62932,-.207912,-.891007],[-.5,-.984808,-.766044,.642788,-.173648,-.866025],[-.544639,-.990268,-.75471,.656059,-.139173,-.838671],[-.587785,-.994522,-.743145,.669131,-.104528,-.809017],[-.62932,-.997564,-.731354,.681998,-.069756,-.777146],[-.669131,-.999391,-.71934,.694658,-.034899,-.743145],[-.707107,-1,-.707107,.707107,-0,-.707107],[-.743145,-.999391,-.694658,.71934,.034899,-.669131],[-.777146,-.997564,-.681998,.731354,.069756,-.62932],[-.809017,-.994522,-.669131,.743145,.104528,-.587785],[-.838671,-.990268,-.656059,.75471,.139173,-.544639],[-.866025,-.984808,-.642788,.766044,.173648,-.5],[-.891007,-.978148,-.62932,.777146,.207912,-.45399],[-.913545,-.970296,-.615661,.788011,.241922,-.406737],[-.93358,-.961262,-.601815,.798636,.275637,-.358368],[-.951057,-.951057,-.587785,.809017,.309017,-.309017],[-.965926,-.939693,-.573576,.819152,.34202,-.258819],[-.978148,-.927184,-.559193,.829038,.374607,-.207912],[-.987688,-.913545,-.544639,.838671,.406737,-.156434],[-.994522,-.898794,-.529919,.848048,.438371,-.104528],[-.99863,-.882948,-.515038,.857167,.469472,-.052336],[-1,-.866025,-.5,.866025,.5,-0],[-.99863,-.848048,-.48481,.87462,.529919,.052336],[-.994522,-.829038,-.469472,.882948,.559193,.104528],[-.987688,-.809017,-.45399,.891007,.587785,.156434],[-.978148,-.788011,-.438371,.898794,.615661,.207912],[-.965926,-.766044,-.422618,.906308,.642788,.258819],[-.951057,-.743145,-.406737,.913545,.669131,.309017],[-.93358,-.71934,-.390731,.920505,.694658,.358368],[-.913545,-.694658,-.374607,.927184,.71934,.406737],[-.891007,-.669131,-.358368,.93358,.743145,.45399],[-.866025,-.642788,-.34202,.939693,.766044,.5],[-.838671,-.615661,-.325568,.945519,.788011,.544639],[-.809017,-.587785,-.309017,.951057,.809017,.587785],[-.777146,-.559193,-.292372,.956305,.829038,.62932],[-.743145,-.529919,-.275637,.961262,.848048,.669131],[-.707107,-.5,-.258819,.965926,.866025,.707107],[-.669131,-.469472,-.241922,.970296,.882948,.743145],[-.62932,-.438371,-.224951,.97437,.898794,.777146],[-.587785,-.406737,-.207912,.978148,.913545,.809017],[-.544639,-.374607,-.190809,.981627,.927184,.838671],[-.5,-.34202,-.173648,.984808,.939693,.866025],[-.45399,-.309017,-.156434,.987688,.951057,.891007],[-.406737,-.275637,-.139173,.990268,.961262,.913545],[-.358368,-.241922,-.121869,.992546,.970296,.93358],[-.309017,-.207912,-.104528,.994522,.978148,.951057],[-.258819,-.173648,-.087156,.996195,.984808,.965926],[-.207912,-.139173,-.069756,.997564,.990268,.978148],[-.156434,-.104528,-.052336,.99863,.994522,.987688],[-.104528,-.069756,-.034899,.999391,.997564,.994522],[-.052336,-.034899,-.017452,.999848,.999391,.99863]],[[-1,-0,1,-0,0,-1,-0,0,-0],[-.999848,.017452,.999543,-.030224,264e-6,-.999086,.042733,-59e-5,4e-6],[-.999391,.034899,.998173,-.060411,.001055,-.996348,.085356,-.002357,34e-6],[-.99863,.052336,.995891,-.090524,.002372,-.991791,.127757,-.005297,113e-6],[-.997564,.069756,.992701,-.120527,.004214,-.985429,.169828,-.0094,268e-6],[-.996195,.087156,.988606,-.150384,.006578,-.977277,.21146,-.014654,523e-6],[-.994522,.104528,.983611,-.180057,.009462,-.967356,.252544,-.021043,903e-6],[-.992546,.121869,.977722,-.209511,.012862,-.955693,.292976,-.028547,.001431],[-.990268,.139173,.970946,-.238709,.016774,-.942316,.332649,-.037143,.002131],[-.987688,.156434,.963292,-.267617,.021193,-.927262,.371463,-.046806,.003026],[-.984808,.173648,.954769,-.296198,.026114,-.910569,.409317,-.057505,.00414],[-.981627,.190809,.945388,-.324419,.03153,-.892279,.446114,-.069209,.005492],[-.978148,.207912,.935159,-.352244,.037436,-.872441,.481759,-.08188,.007105],[-.97437,.224951,.924096,-.379641,.043823,-.851105,.516162,-.095481,.008999],[-.970296,.241922,.912211,-.406574,.050685,-.828326,.549233,-.109969,.011193],[-.965926,.258819,.899519,-.433013,.058013,-.804164,.580889,-.1253,.013707],[-.961262,.275637,.886036,-.458924,.065797,-.77868,.61105,-.141427,.016556],[-.956305,.292372,.871778,-.484275,.074029,-.75194,.639639,-.158301,.019758],[-.951057,.309017,.856763,-.509037,.082698,-.724012,.666583,-.175868,.023329],[-.945519,.325568,.841008,-.533178,.091794,-.694969,.691816,-.194075,.027281],[-.939693,.34202,.824533,-.55667,.101306,-.664885,.715274,-.212865,.03163],[-.93358,.358368,.807359,-.579484,.111222,-.633837,.736898,-.23218,.036385],[-.927184,.374607,.789505,-.601592,.121529,-.601904,.756637,-.25196,.041559],[-.920505,.390731,.770994,-.622967,.132217,-.569169,.774442,-.272143,.04716],[-.913545,.406737,.751848,-.643582,.143271,-.535715,.79027,-.292666,.053196],[-.906308,.422618,.732091,-.663414,.154678,-.501627,.804083,-.313464,.059674],[-.898794,.438371,.711746,-.682437,.166423,-.466993,.81585,-.334472,.066599],[-.891007,.45399,.690839,-.700629,.178494,-.431899,.825544,-.355623,.073974],[-.882948,.469472,.669395,-.717968,.190875,-.396436,.833145,-.376851,.081803],[-.87462,.48481,.647439,-.734431,.203551,-.360692,.838638,-.398086,.090085],[-.866025,.5,.625,-.75,.216506,-.32476,.842012,-.419263,.098821],[-.857167,.515038,.602104,-.764655,.229726,-.288728,.843265,-.440311,.108009],[-.848048,.529919,.578778,-.778378,.243192,-.252688,.842399,-.461164,.117644],[-.838671,.544639,.555052,-.791154,.256891,-.21673,.839422,-.481753,.127722],[-.829038,.559193,.530955,-.802965,.270803,-.180944,.834347,-.502011,.138237],[-.819152,.573576,.506515,-.813798,.284914,-.14542,.827194,-.521871,.149181],[-.809017,.587785,.481763,-.823639,.299204,-.110246,.817987,-.541266,.160545],[-.798636,.601815,.456728,-.832477,.313658,-.075508,.806757,-.560132,.172317],[-.788011,.615661,.431441,-.840301,.328257,-.041294,.793541,-.578405,.184487],[-.777146,.62932,.405934,-.847101,.342984,-.007686,.778379,-.596021,.19704],[-.766044,.642788,.380236,-.852869,.357821,.025233,.761319,-.612921,.209963],[-.75471,.656059,.35438,-.857597,.372749,.057383,.742412,-.629044,.223238],[-.743145,.669131,.328396,-.861281,.387751,.088686,.721714,-.644334,.23685],[-.731354,.681998,.302317,-.863916,.402807,.119068,.699288,-.658734,.250778],[-.71934,.694658,.276175,-.865498,.417901,.148454,.675199,-.67219,.265005],[-.707107,.707107,.25,-.866025,.433013,.176777,.649519,-.684653,.279508],[-.694658,.71934,.223825,-.865498,.448125,.203969,.622322,-.696073,.294267],[-.681998,.731354,.197683,-.863916,.463218,.229967,.593688,-.706405,.309259],[-.669131,.743145,.171604,-.861281,.478275,.254712,.5637,-.715605,.324459],[-.656059,.75471,.14562,-.857597,.493276,.278147,.532443,-.723633,.339844],[-.642788,.766044,.119764,-.852869,.508205,.300221,.500009,-.730451,.355387],[-.62932,.777146,.094066,-.847101,.523041,.320884,.46649,-.736025,.371063],[-.615661,.788011,.068559,-.840301,.537768,.340093,.431982,-.740324,.386845],[-.601815,.798636,.043272,-.832477,.552367,.357807,.396584,-.74332,.402704],[-.587785,.809017,.018237,-.823639,.566821,.373991,.360397,-.744989,.418613],[-.573576,.819152,-.006515,-.813798,.581112,.388612,.323524,-.745308,.434544],[-.559193,.829038,-.030955,-.802965,.595222,.401645,.286069,-.744262,.450467],[-.544639,.838671,-.055052,-.791154,.609135,.413066,.24814,-.741835,.466352],[-.529919,.848048,-.078778,-.778378,.622833,.422856,.209843,-.738017,.482171],[-.515038,.857167,-.102104,-.764655,.6363,.431004,.171288,-.732801,.497894],[-.5,.866025,-.125,-.75,.649519,.4375,.132583,-.726184,.51349],[-.48481,.87462,-.147439,-.734431,.662474,.44234,.093837,-.718167,.528929],[-.469472,.882948,-.169395,-.717968,.67515,.445524,.05516,-.708753,.544183],[-.45399,.891007,-.190839,-.700629,.687531,.447059,.016662,-.69795,.55922],[-.438371,.898794,-.211746,-.682437,.699602,.446953,-.02155,-.685769,.574011],[-.422618,.906308,-.232091,-.663414,.711348,.445222,-.059368,-.672226,.588528],[-.406737,.913545,-.251848,-.643582,.722755,.441884,-.096684,-.657339,.602741],[-.390731,.920505,-.270994,-.622967,.733809,.436964,-.133395,-.64113,.616621],[-.374607,.927184,-.289505,-.601592,.744496,.430488,-.169397,-.623624,.630141],[-.358368,.93358,-.307359,-.579484,.754804,.422491,-.204589,-.604851,.643273],[-.34202,.939693,-.324533,-.55667,.76472,.413008,-.238872,-.584843,.65599],[-.325568,.945519,-.341008,-.533178,.774231,.402081,-.27215,-.563635,.668267],[-.309017,.951057,-.356763,-.509037,.783327,.389754,-.304329,-.541266,.680078],[-.292372,.956305,-.371778,-.484275,.791997,.376077,-.335319,-.517778,.691399],[-.275637,.961262,-.386036,-.458924,.800228,.361102,-.365034,-.493216,.702207],[-.258819,.965926,-.399519,-.433013,.808013,.344885,-.393389,-.467627,.712478],[-.241922,.970296,-.412211,-.406574,.81534,.327486,-.420306,-.441061,.722191],[-.224951,.97437,-.424096,-.379641,.822202,.308969,-.445709,-.413572,.731327],[-.207912,.978148,-.435159,-.352244,.828589,.289399,-.469527,-.385215,.739866],[-.190809,.981627,-.445388,-.324419,.834495,.268846,-.491693,-.356047,.74779],[-.173648,.984808,-.454769,-.296198,.839912,.247382,-.512145,-.326129,.755082],[-.156434,.987688,-.463292,-.267617,.844832,.225081,-.530827,-.295521,.761728],[-.139173,.990268,-.470946,-.238709,.849251,.20202,-.547684,-.264287,.767712],[-.121869,.992546,-.477722,-.209511,.853163,.178279,-.562672,-.232494,.773023],[-.104528,.994522,-.483611,-.180057,.856563,.153937,-.575747,-.200207,.777648],[-.087156,.996195,-.488606,-.150384,.859447,.129078,-.586872,-.167494,.781579],[-.069756,.997564,-.492701,-.120527,.861811,.103786,-.596018,-.134426,.784806],[-.052336,.99863,-.495891,-.090524,.863653,.078146,-.603158,-.101071,.787324],[-.034899,.999391,-.498173,-.060411,.864971,.052243,-.608272,-.0675,.789126],[-.017452,.999848,-.499543,-.030224,.865762,.026165,-.611347,-.033786,.790208],[0,1,-.5,0,.866025,-0,-.612372,0,.790569],[.017452,.999848,-.499543,.030224,.865762,-.026165,-.611347,.033786,.790208],[.034899,.999391,-.498173,.060411,.864971,-.052243,-.608272,.0675,.789126],[.052336,.99863,-.495891,.090524,.863653,-.078146,-.603158,.101071,.787324],[.069756,.997564,-.492701,.120527,.861811,-.103786,-.596018,.134426,.784806],[.087156,.996195,-.488606,.150384,.859447,-.129078,-.586872,.167494,.781579],[.104528,.994522,-.483611,.180057,.856563,-.153937,-.575747,.200207,.777648],[.121869,.992546,-.477722,.209511,.853163,-.178279,-.562672,.232494,.773023],[.139173,.990268,-.470946,.238709,.849251,-.20202,-.547684,.264287,.767712],[.156434,.987688,-.463292,.267617,.844832,-.225081,-.530827,.295521,.761728],[.173648,.984808,-.454769,.296198,.839912,-.247382,-.512145,.326129,.755082],[.190809,.981627,-.445388,.324419,.834495,-.268846,-.491693,.356047,.74779],[.207912,.978148,-.435159,.352244,.828589,-.289399,-.469527,.385215,.739866],[.224951,.97437,-.424096,.379641,.822202,-.308969,-.445709,.413572,.731327],[.241922,.970296,-.412211,.406574,.81534,-.327486,-.420306,.441061,.722191],[.258819,.965926,-.399519,.433013,.808013,-.344885,-.393389,.467627,.712478],[.275637,.961262,-.386036,.458924,.800228,-.361102,-.365034,.493216,.702207],[.292372,.956305,-.371778,.484275,.791997,-.376077,-.335319,.517778,.691399],[.309017,.951057,-.356763,.509037,.783327,-.389754,-.304329,.541266,.680078],[.325568,.945519,-.341008,.533178,.774231,-.402081,-.27215,.563635,.668267],[.34202,.939693,-.324533,.55667,.76472,-.413008,-.238872,.584843,.65599],[.358368,.93358,-.307359,.579484,.754804,-.422491,-.204589,.604851,.643273],[.374607,.927184,-.289505,.601592,.744496,-.430488,-.169397,.623624,.630141],[.390731,.920505,-.270994,.622967,.733809,-.436964,-.133395,.64113,.616621],[.406737,.913545,-.251848,.643582,.722755,-.441884,-.096684,.657339,.602741],[.422618,.906308,-.232091,.663414,.711348,-.445222,-.059368,.672226,.588528],[.438371,.898794,-.211746,.682437,.699602,-.446953,-.02155,.685769,.574011],[.45399,.891007,-.190839,.700629,.687531,-.447059,.016662,.69795,.55922],[.469472,.882948,-.169395,.717968,.67515,-.445524,.05516,.708753,.544183],[.48481,.87462,-.147439,.734431,.662474,-.44234,.093837,.718167,.528929],[.5,.866025,-.125,.75,.649519,-.4375,.132583,.726184,.51349],[.515038,.857167,-.102104,.764655,.6363,-.431004,.171288,.732801,.497894],[.529919,.848048,-.078778,.778378,.622833,-.422856,.209843,.738017,.482171],[.544639,.838671,-.055052,.791154,.609135,-.413066,.24814,.741835,.466352],[.559193,.829038,-.030955,.802965,.595222,-.401645,.286069,.744262,.450467],[.573576,.819152,-.006515,.813798,.581112,-.388612,.323524,.745308,.434544],[.587785,.809017,.018237,.823639,.566821,-.373991,.360397,.744989,.418613],[.601815,.798636,.043272,.832477,.552367,-.357807,.396584,.74332,.402704],[.615661,.788011,.068559,.840301,.537768,-.340093,.431982,.740324,.386845],[.62932,.777146,.094066,.847101,.523041,-.320884,.46649,.736025,.371063],[.642788,.766044,.119764,.852869,.508205,-.300221,.500009,.730451,.355387],[.656059,.75471,.14562,.857597,.493276,-.278147,.532443,.723633,.339844],[.669131,.743145,.171604,.861281,.478275,-.254712,.5637,.715605,.324459],[.681998,.731354,.197683,.863916,.463218,-.229967,.593688,.706405,.309259],[.694658,.71934,.223825,.865498,.448125,-.203969,.622322,.696073,.294267],[.707107,.707107,.25,.866025,.433013,-.176777,.649519,.684653,.279508],[.71934,.694658,.276175,.865498,.417901,-.148454,.675199,.67219,.265005],[.731354,.681998,.302317,.863916,.402807,-.119068,.699288,.658734,.250778],[.743145,.669131,.328396,.861281,.387751,-.088686,.721714,.644334,.23685],[.75471,.656059,.35438,.857597,.372749,-.057383,.742412,.629044,.223238],[.766044,.642788,.380236,.852869,.357821,-.025233,.761319,.612921,.209963],[.777146,.62932,.405934,.847101,.342984,.007686,.778379,.596021,.19704],[.788011,.615661,.431441,.840301,.328257,.041294,.793541,.578405,.184487],[.798636,.601815,.456728,.832477,.313658,.075508,.806757,.560132,.172317],[.809017,.587785,.481763,.823639,.299204,.110246,.817987,.541266,.160545],[.819152,.573576,.506515,.813798,.284914,.14542,.827194,.521871,.149181],[.829038,.559193,.530955,.802965,.270803,.180944,.834347,.502011,.138237],[.838671,.544639,.555052,.791154,.256891,.21673,.839422,.481753,.127722],[.848048,.529919,.578778,.778378,.243192,.252688,.842399,.461164,.117644],[.857167,.515038,.602104,.764655,.229726,.288728,.843265,.440311,.108009],[.866025,.5,.625,.75,.216506,.32476,.842012,.419263,.098821],[.87462,.48481,.647439,.734431,.203551,.360692,.838638,.398086,.090085],[.882948,.469472,.669395,.717968,.190875,.396436,.833145,.376851,.081803],[.891007,.45399,.690839,.700629,.178494,.431899,.825544,.355623,.073974],[.898794,.438371,.711746,.682437,.166423,.466993,.81585,.334472,.066599],[.906308,.422618,.732091,.663414,.154678,.501627,.804083,.313464,.059674],[.913545,.406737,.751848,.643582,.143271,.535715,.79027,.292666,.053196],[.920505,.390731,.770994,.622967,.132217,.569169,.774442,.272143,.04716],[.927184,.374607,.789505,.601592,.121529,.601904,.756637,.25196,.041559],[.93358,.358368,.807359,.579484,.111222,.633837,.736898,.23218,.036385],[.939693,.34202,.824533,.55667,.101306,.664885,.715274,.212865,.03163],[.945519,.325568,.841008,.533178,.091794,.694969,.691816,.194075,.027281],[.951057,.309017,.856763,.509037,.082698,.724012,.666583,.175868,.023329],[.956305,.292372,.871778,.484275,.074029,.75194,.639639,.158301,.019758],[.961262,.275637,.886036,.458924,.065797,.77868,.61105,.141427,.016556],[.965926,.258819,.899519,.433013,.058013,.804164,.580889,.1253,.013707],[.970296,.241922,.912211,.406574,.050685,.828326,.549233,.109969,.011193],[.97437,.224951,.924096,.379641,.043823,.851105,.516162,.095481,.008999],[.978148,.207912,.935159,.352244,.037436,.872441,.481759,.08188,.007105],[.981627,.190809,.945388,.324419,.03153,.892279,.446114,.069209,.005492],[.984808,.173648,.954769,.296198,.026114,.910569,.409317,.057505,.00414],[.987688,.156434,.963292,.267617,.021193,.927262,.371463,.046806,.003026],[.990268,.139173,.970946,.238709,.016774,.942316,.332649,.037143,.002131],[.992546,.121869,.977722,.209511,.012862,.955693,.292976,.028547,.001431],[.994522,.104528,.983611,.180057,.009462,.967356,.252544,.021043,903e-6],[.996195,.087156,.988606,.150384,.006578,.977277,.21146,.014654,523e-6],[.997564,.069756,.992701,.120527,.004214,.985429,.169828,.0094,268e-6],[.99863,.052336,.995891,.090524,.002372,.991791,.127757,.005297,113e-6],[.999391,.034899,.998173,.060411,.001055,.996348,.085356,.002357,34e-6],[.999848,.017452,.999543,.030224,264e-6,.999086,.042733,59e-5,4e-6],[1,-0,1,-0,0,1,-0,0,-0]]],ri=(oi[0].length,oi[1].length,oi[0][0].length/2),li=[[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1.003236,1.002156,.999152,.990038],[1.03237,1.021194,.990433,.898572],[1.062694,1.040231,.979161,.799806],[1.093999,1.058954,.964976,.693603],[1.126003,1.077006,.947526,.57989],[1.158345,1.093982,.926474,.45869],[1.19059,1.109437,.901512,.330158],[1.222228,1.12289,.87237,.194621],[1.252684,1.133837,.838839,.052614],[1.281987,1.142358,.801199,0],[1.312073,1.150207,.760839,0],[1.343011,1.157424,.717799,0],[1.374649,1.163859,.671999,0],[1.406809,1.169354,.623371,0],[1.439286,1.173739,.571868,0],[1.471846,1.176837,.517465,0],[1.504226,1.178465,.460174,0],[1.536133,1.178438,.400043,0],[1.567253,1.176573,.337165,0],[1.597247,1.172695,.271688,0],[1.625766,1.166645,.203815,0],[1.652455,1.158285,.133806,0],[1.676966,1.147506,.061983,0],[1.699006,1.134261,0,0],[1.720224,1.119789,0,0],[1.741631,1.10481,0,0],[1.763183,1.08933,0,0],[1.784837,1.073356,0,0],[1.806548,1.056898,0,0],[1.828269,1.039968,0,0],[1.849952,1.02258,0,0],[1.871552,1.004752,0,0],[1.893018,.986504,0,0],[1.914305,.967857,0,0],[1.935366,.948837,0,0],[1.956154,.929471,0,0],[1.976625,.90979,0,0],[1.996736,.889823,0,0],[2.016448,.869607,0,0],[2.035721,.849175,0,0],[2.054522,.828565,0,0],[2.072818,.807816,0,0],[2.090581,.786964,0,0],[2.107785,.766051,0,0],[2.124411,.745115,0,0],[2.140439,.724196,0,0],[2.155856,.703332,0,0],[2.170653,.682561,0,0],[2.184823,.661921,0,0],[2.198364,.641445,0,0],[2.211275,.621169,0,0],[2.223562,.601125,0,0],[2.23523,.581341,0,0],[2.246289,.561847,0,0],[2.256751,.542667,0,0],[2.266631,.523826,0,0],[2.275943,.505344,0,0],[2.284707,.487239,0,0],[2.292939,.469528,0,0],[2.300661,.452225,0,0],[2.307892,.435342,0,0],[2.314654,.418888,0,0],[2.320969,.40287,0,0],[2.326858,.387294,0,0],[2.332343,.372164,0,0],[2.337445,.357481,0,0],[2.342186,.343246,0,0],[2.346585,.329458,0,0],[2.350664,.316113,0,0],[2.354442,.303208,0,0],[2.357937,.290738,0,0],[2.361168,.278698,0,0],[2.364152,.26708,0,0],[2.366906,.255878,0,0],[2.369446,.245082,0,0],[2.371786,.234685,0,0],[2.37394,.224677,0,0],[2.375923,.215048,0,0],[2.377745,.20579,0,0],[2.379421,.196891,0,0],[2.380959,.188342,0,0],[2.382372,.180132,0,0],[2.383667,.172251,0,0],[2.384856,.164689,0,0],[2.385945,.157435,0,0],[2.386943,.150479,0,0],[2.387857,.143811,0,0],[2.388694,.137421,0,0],[2.38946,.131299,0,0],[2.39016,.125435,0,0],[2.390801,.11982,0,0],[2.391386,.114445,0,0],[2.391921,.1093,0,0],[2.39241,.104376,0,0],[2.392857,.099666,0,0],[2.393265,.09516,0,0],[2.393637,.090851,0,0],[2.393977,.086731,0,0],[2.394288,.082791,0,0],[2.394571,.079025,0,0],[2.394829,.075426,0,0],[2.395064,.071986,0,0],[2.395279,.068699,0,0],[2.395475,.065558,0,0],[2.395653,.062558,0,0],[2.395816,.059693,0,0],[2.395964,.056955,0,0],[2.396099,.054341,0,0],[2.396222,.051845,0,0],[2.396334,.049462,0,0],[2.396436,.047186,0,0],[2.396529,.045013,0,0],[2.396613,.042939,0,0],[2.396691,.040959,0,0],[2.396761,.039069,0,0],[2.396825,.037266,0,0],[2.396883,.035544,0,0],[2.396936,.033901,0,0],[2.396984,.032334,0,0],[2.397028,.030838,0,0],[2.397068,.02941,0,0],[2.397104,.028048,0,0],[2.397137,.026749,0,0],[2.397167,.025509,0,0],[2.397194,.024326,0,0],[2.397219,.023198,0,0],[2.397242,.022122,0,0],[2.397262,.021095,0,0],[2.397281,.020116,0,0],[2.397298,.019181,0,0],[2.397314,.01829,0,0],[2.397328,.017441,0,0],[2.397341,.01663,0,0],[2.397352,.015857,0,0],[2.397363,.015119,0,0],[2.397372,.014416,0,0],[2.397381,.013745,0,0],[2.397389,.013106,0,0],[2.397396,.012496,0,0],[2.397403,.011914,0,0],[2.397409,.01136,0,0],[2.397414,.010831,0,0],[2.397419,.010326,0,0],[2.397424,.009845,0,0],[2.397428,.009387,0,0],[2.397432,.008949,0,0],[2.397435,.008532,0,0],[2.397438,.008135,0,0],[2.397441,.007755,0,0],[2.397443,.007394,0,0],[2.397446,.007049,0,0],[2.397448,.006721,0,0],[2.39745,.006407,0,0],[2.397451,.006108,0,0],[2.397453,.005824,0,0],[2.397454,.005552,0,0],[2.397456,.005293,0,0],[2.397457,.005046,0,0],[2.397458,.004811,0,0],[2.397459,.004586,0,0],[2.39746,.004372,0,0],[2.397461,.004168,0,0],[2.397461,.003974,0,0],[2.397462,.003788,0,0],[2.397463,.003611,0,0],[2.397463,.003443,0,0],[2.397464,.003282,0,0],[2.397464,.003129,0,0],[2.397465,.002983,0,0],[2.397465,.002844,0,0],[2.397465,.002711,0,0],[2.397466,.002584,0,0],[2.397466,.002464,0,0],[2.397466,.002349,0,0],[2.397466,.002239,0,0],[2.397467,.002135,0,0],[2.397467,.002035,0,0],[2.397467,.00194,0,0],[2.397467,.001849,0,0],[2.397467,.001763,0,0],[2.397467,.001681,0,0],[2.397468,.001602,0,0],[2.397468,.001527,0,0],[2.397468,.001456,0,0],[2.397468,.001388,0,0],[2.397468,.001323,0,0],[2.397468,.001261,0,0],[2.397468,.001202,0,0],[2.397468,.001146,0,0],[2.397468,.001093,0,0],[2.397468,.001042,0,0],[2.397468,993e-6,0,0],[2.397468,947e-6,0,0],[2.397468,902e-6,0,0],[2.397468,86e-5,0,0],[2.397468,82e-5,0,0],[2.397469,782e-6,0,0],[2.397469,745e-6,0,0],[2.397469,71e-5,0,0],[2.397469,677e-6,0,0],[2.397469,646e-6,0,0],[2.397469,616e-6,0,0],[2.397469,587e-6,0,0],[2.397469,559e-6,0,0],[2.397469,533e-6,0,0],[2.397469,508e-6,0,0],[2.397469,485e-6,0,0],[2.397469,462e-6,0,0],[2.397469,44e-5,0,0],[2.397469,42e-5,0,0],[2.397469,4e-4,0,0],[2.397469,381e-6,0,0],[2.397469,364e-6,0,0],[2.397469,347e-6,0,0],[2.397469,33e-5,0,0],[2.397469,315e-6,0,0],[2.397469,3e-4,0,0],[2.397469,286e-6,0,0],[2.397469,273e-6,0,0],[2.397469,26e-5,0,0],[2.397469,248e-6,0,0],[2.397469,236e-6,0,0],[2.397469,225e-6,0,0],[2.397469,215e-6,0,0],[2.397469,205e-6,0,0],[2.397469,195e-6,0,0],[2.397469,186e-6,0,0],[2.397469,177e-6,0,0],[2.397469,169e-6,0,0],[2.397469,161e-6,0,0],[2.397469,154e-6,0,0],[2.397469,147e-6,0,0],[2.397469,14e-5,0,0],[2.397469,133e-6,0,0],[2.397469,127e-6,0,0],[2.397469,121e-6,0,0],[2.397469,115e-6,0,0],[2.397469,11e-5,0,0],[2.397469,105e-6,0,0],[2.397469,1e-4,0,0],[2.397469,95e-6,0,0],[2.397469,91e-6,0,0],[2.397469,87e-6,0,0],[2.397469,83e-6,0,0],[2.397469,79e-6,0,0],[2.397469,75e-6,0,0],[2.397469,71e-6,0,0],[2.397469,68e-6,0,0],[2.397469,65e-6,0,0],[2.397469,62e-6,0,0],[2.397469,59e-6,0,0],[2.397469,56e-6,0,0],[2.397469,54e-6,0,0],[2.397469,51e-6,0,0],[2.397469,49e-6,0,0],[2.397469,46e-6,0,0],[2.397469,44e-6,0,0],[2.397469,42e-6,0,0],[2.397469,4e-5,0,0],[2.397469,38e-6,0,0],[2.397469,37e-6,0,0],[2.397469,35e-6,0,0],[2.397469,33e-6,0,0],[2.397469,32e-6,0,0],[2.397469,3e-5,0,0],[2.397469,29e-6,0,0],[2.397469,27e-6,0,0],[2.397469,26e-6,0,0],[2.397469,25e-6,0,0],[2.397469,24e-6,0,0],[2.397469,23e-6,0,0],[2.397469,22e-6,0,0],[2.397469,21e-6,0,0],[2.397469,2e-5,0,0],[2.397469,19e-6,0,0],[2.397469,18e-6,0,0],[2.397469,17e-6,0,0],[2.397469,16e-6,0,0],[2.397469,15e-6,0,0],[2.397469,15e-6,0,0],[2.397469,14e-6,0,0],[2.397469,13e-6,0,0],[2.397469,13e-6,0,0],[2.397469,12e-6,0,0],[2.397469,12e-6,0,0],[2.397469,11e-6,0,0],[2.397469,11e-6,0,0],[2.397469,1e-5,0,0],[2.397469,1e-5,0,0],[2.397469,9e-6,0,0],[2.397469,9e-6,0,0],[2.397469,8e-6,0,0],[2.397469,8e-6,0,0],[2.397469,8e-6,0,0],[2.397469,7e-6,0,0],[2.397469,7e-6,0,0],[2.397469,7e-6,0,0],[2.397469,6e-6,0,0],[2.397469,6e-6,0,0],[2.397469,6e-6,0,0],[2.397469,5e-6,0,0],[2.397469,5e-6,0,0],[2.397469,5e-6,0,0],[2.397469,5e-6,0,0],[2.397469,4e-6,0,0],[2.397469,4e-6,0,0],[2.397469,4e-6,0,0],[2.397469,4e-6,0,0],[2.397469,4e-6,0,0],[2.397469,4e-6,0,0],[2.397469,3e-6,0,0],[2.397469,3e-6,0,0],[2.397469,3e-6,0,0],[2.397469,3e-6,0,0],[2.397469,3e-6,0,0],[2.397469,3e-6,0,0],[2.397469,3e-6,0,0],[2.397469,2e-6,0,0],[2.397469,2e-6,0,0],[2.397469,2e-6,0,0],[2.397469,2e-6,0,0],[2.397469,2e-6,0,0],[2.397469,2e-6,0,0],[2.397469,2e-6,0,0],[2.397469,2e-6,0,0],[2.397469,2e-6,0,0],[2.397469,2e-6,0,0],[2.397469,1e-6,0,0],[2.397469,1e-6,0,0],[2.397469,1e-6,0,0]],ci=1,ui=1,hi=1,Ai=[0,0,0],di=[0,0,-1],pi=[0,1,0],gi=343,fi=["logarithmic","linear","none"],mi="logarithmic",vi="ambisonic",wi=1,yi=1e3,Di=0,bi=1,xi=0,Ci=0,Bi=1,Pi=0,Ei=2,_i=6400,Mi={left:0,right:0,front:0,back:0,down:0,up:0},Si=1,Fi={width:0,height:0,depth:0},Ti=1,ki=1,Ii=1,Li=1.5,Oi=3.8,Ri=.01,Ni=3,Hi=[31.25,62.5,125,250,500,1e3,2e3,4e3,8e3],Qi=Hi.length,ji=new Float32Array(Qi),zi={transparent:[1,1,1,1,1,1,1,1,1],"acoustic-ceiling-tiles":[.672,.675,.7,.66,.72,.92,.88,.75,1],"brick-bare":[.03,.03,.03,.03,.03,.04,.05,.07,.14],"brick-painted":[.006,.007,.01,.01,.02,.02,.02,.03,.06],"concrete-block-coarse":[.36,.36,.36,.44,.31,.29,.39,.25,.5],"concrete-block-painted":[.092,.09,.1,.05,.06,.07,.09,.08,.16],"curtain-heavy":[.073,.106,.14,.35,.55,.72,.7,.65,1],"fiber-glass-insulation":[.193,.22,.22,.82,.99,.99,.99,.99,1],"glass-thin":[.18,.169,.18,.06,.04,.03,.02,.02,.04],"glass-thick":[.35,.35,.35,.25,.18,.12,.07,.04,.08],grass:[.05,.05,.15,.25,.4,.55,.6,.6,.6],"linoleum-on-concrete":[.02,.02,.02,.03,.03,.03,.03,.02,.04],marble:[.01,.01,.01,.01,.01,.01,.02,.02,.04],metal:[.03,.035,.04,.04,.05,.05,.05,.07,.09],"parquet-on-concrete":[.028,.03,.04,.04,.07,.06,.06,.07,.14],"plaster-rough":[.017,.018,.02,.03,.04,.05,.04,.03,.06],"plaster-smooth":[.011,.012,.013,.015,.02,.03,.04,.05,.1],"plywood-panel":[.4,.34,.28,.22,.17,.09,.1,.11,.22],"polished-concrete-or-tile":[.008,.008,.01,.01,.015,.02,.02,.02,.04],"sheet-rock":[.29,.279,.29,.1,.05,.04,.07,.09,.18],"water-or-ice-surface":[.006,.006,.008,.008,.013,.015,.02,.025,.05],"wood-ceiling":[.15,.147,.15,.11,.1,.07,.06,.07,.14],"wood-panel":[.28,.28,.28,.22,.17,.09,.1,.11,.22],uniform:[.5,.5,.5,.5,.5,.5,.5,.5,.5]},Ui={left:"transparent",right:"transparent",front:"transparent",back:"transparent",down:"transparent",up:"transparent"},Wi=3,Gi=4,Yi=1e-4,qi=[6e-4,6e-4,7e-4,8e-4,.001,.0015,.0026,.006,.0207],Vi=1.38,Xi=6.28318530717959,Zi=55.2620422318571,Ji=6.90775527898214,Ki=.346573590279973,$i=57.29577951308232,en=1e-8,tn=function(){window.console.log.apply(window.console,["%c[ResonanceAudio]%c "+Array.prototype.slice.call(arguments).join(" ")+" %c(@"+performance.now().toFixed(2)+"ms)","background: #BBDEFB; color: #FF5722; font-weight: 700","font-weight: 400","color: #AAA"])},nn=function(e){let t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);return t>en&&(t=1/t,e[0]*=t,e[1]*=t,e[2]*=t),e},sn=function(e,t,i,n,s,a,o){o[0]=t*a-i*s,o[1]=i*n-e*a,o[2]=e*s-t*n};
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class an{constructor(e,t){null==t&&(t={}),null==t.ambisonicOrder&&(t.ambisonicOrder=Bi),null==t.azimuth&&(t.azimuth=xi),null==t.elevation&&(t.elevation=Ci),null==t.sourceWidth&&(t.sourceWidth=Pi),this._context=e,this.input=e.createGain(),this._channelGain=[],this._merger=void 0,this.output=e.createGain(),this.setAmbisonicOrder(t.ambisonicOrder),this._azimuth=t.azimuth,this._elevation=t.elevation,this.setSourceWidth(t.sourceWidth)}setAmbisonicOrder(e){this._ambisonicOrder=an.validateAmbisonicOrder(e),this.input.disconnect();for(let e=0;e<this._channelGain.length;e++)this._channelGain[e].disconnect();null!=this._merger&&this._merger.disconnect(),delete this._channelGain,delete this._merger;let t=(this._ambisonicOrder+1)*(this._ambisonicOrder+1);this._merger=this._context.createChannelMerger(t),this._channelGain=new Array(t);for(let e=0;e<t;e++)this._channelGain[e]=this._context.createGain(),this.input.connect(this._channelGain[e]),this._channelGain[e].connect(this._merger,0,e);this._merger.connect(this.output)}dispose(){this._merger.disconnect(this.output);let e=(this._ambisonicOrder+1)*(this._ambisonicOrder+1);for(let t=0;t<e;++t)this._channelGain[t].disconnect(this._merger,0,t),this.input.disconnect(this._channelGain[t])}setDirection(e,t){(null==e||isNaN(e))&&(e=xi),(null==t||isNaN(t))&&(t=Ci),this._azimuth=e,this._elevation=t,(e=Math.round(e%360))<0&&(e+=360),t=Math.round(Math.min(90,Math.max(-90,t)))+90,this._channelGain[0].gain.value=li[this._spreadIndex][0];for(let i=1;i<=this._ambisonicOrder;i++){let n=li[this._spreadIndex][i];for(let s=-i;s<=i;s++){let a=i*i+i+s,o=i*(i+1)/2+Math.abs(s)-1,r=oi[1][t][o];if(0!=s){let t=ri+s-1;s<0&&(t=ri+s),r*=oi[0][e][t]}this._channelGain[a].gain.value=r*n}}}setSourceWidth(e){this._spreadIndex=Math.min(359,Math.max(0,Math.round(e))),this.setDirection(this._azimuth,this._elevation)}}an.validateAmbisonicOrder=function(e){return isNaN(e)||null==e?(tn("Error: Invalid ambisonic order",e,"\nUsing ambisonicOrder=1 instead."),e=1):e<1?(tn("Error: Unable to render ambisonic order",e,"(Min order is 1)","\nUsing min order instead."),e=1):e>ri&&(tn("Error: Unable to render ambisonic order",e,"(Max order is",ri,")\nUsing max order instead."),e=ri),e};
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class on{constructor(e,t){null==t&&(t={}),null==t.ambisonicOrder&&(t.ambisonicOrder=Bi),null==t.position&&(t.position=Ai.slice()),null==t.forward&&(t.forward=di.slice()),null==t.up&&(t.up=pi.slice()),null==t.renderingMode&&(t.renderingMode=vi),this.position=new Float32Array(3),this._tempMatrix3=new Float32Array(9),this._ambisonicOrder=an.validateAmbisonicOrder(t.ambisonicOrder),this._context=e,1==this._ambisonicOrder?this._renderer=function(e,t){return new Jt(e,t)}(e,{renderingMode:t.renderingMode}):this._ambisonicOrder>1&&(this._renderer=function(e,t){return new ni(e,t)}(e,{ambisonicOrder:this._ambisonicOrder,renderingMode:t.renderingMode})),this.input=e.createGain(),this.output=e.createGain(),this.ambisonicOutput=e.createGain(),this._renderer.initialize().then(()=>{this.input.connect(this._renderer.input),this._ambisonicOrder>1?this._renderer._hoaRotator.output.connect(this.ambisonicOutput):this._renderer._foaRotator.output.connect(this.ambisonicOutput),this._renderer.output.connect(this.output)}),this.setOrientation(t.forward[0],t.forward[1],t.forward[2],t.up[0],t.up[1],t.up[2])}getRenderingMode(){return this._renderer.getRenderingMode()}setRenderingMode(e){this._renderer.setRenderingMode(e)}dispose(){this.input.disconnect(this._renderer.input),this._ambisonicOrder>1?this._renderer._hoaRotator.output.disconnect(this.ambisonicOutput):this._renderer._foaRotator.output.disconnect(this.ambisonicOutput),this._renderer.output.disconnect(this.output),this._renderer.dispose()}setOrientation(e,t,i,n,s,a){sn(e,t,i,n,s,a,this._tempMatrix3),this._tempMatrix3[3]=n,this._tempMatrix3[4]=s,this._tempMatrix3[5]=a,this._tempMatrix3[6]=-e,this._tempMatrix3[7]=-t,this._tempMatrix3[8]=-i,this._renderer.setRotationMatrix3(this._tempMatrix3)}}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,t){null==t&&(t={}),null==t.alpha&&(t.alpha=Di),null==t.sharpness&&(t.sharpness=bi),this._context=e,this._lowpass=e.createBiquadFilter(),this._lowpass.type="lowpass",this._lowpass.Q.value=0,this._lowpass.frequency.value=.5*e.sampleRate,this._cosTheta=0,this.setPattern(t.alpha,t.sharpness),this.input=this._lowpass,this.output=this._lowpass}computeAngle(e,t){let i=nn(e),n=nn(t),s=1;if(this._alpha>en){let e=i[0]*n[0]+i[1]*n[1]+i[2]*n[2];s=1-this._alpha+this._alpha*e,s=Math.pow(Math.abs(s),this._sharpness)}this._lowpass.frequency.value=.5*this._context.sampleRate*s}setPattern(e,t){this._alpha=Math.min(1,Math.max(0,e)),this._sharpness=Math.max(1,t),this.computeAngle([this._cosTheta*this._cosTheta,0,0],[1,0,0])}}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,t){null==t&&(t={}),null==t.minDistance&&(t.minDistance=wi),null==t.maxDistance&&(t.maxDistance=yi),null==t.rolloff&&(t.rolloff=mi),this.minDistance=t.minDistance,this.maxDistance=t.maxDistance,this.setRolloff(t.rolloff),this._gainNode=e.createGain(),this.setDistance(t.maxDistance),this.input=this._gainNode,this.output=this._gainNode}setDistance(e){let t=1;if("logarithmic"==this._rolloff){if(e>this.maxDistance)t=0;else if(e>this.minDistance){let i=this.maxDistance-this.minDistance;if(i>en){let n=1/(i+1);t=(1/(e-this.minDistance+1)-n)/(1-n)}}}else if("linear"==this._rolloff)if(e>this.maxDistance)t=0;else if(e>this.minDistance){let i=this.maxDistance-this.minDistance;i>en&&(t=(this.maxDistance-e)/i)}this._gainNode.gain.value=t}setRolloff(e){let t=~fi.indexOf(e);null!=e&&t?e=e.toString().toLowerCase():(t||tn('Invalid rolloff model ("'+e+'"). Using default: "'+mi+'".'),e=mi),this._rolloff=e}}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,t){null==t&&(t={}),null==t.position&&(t.position=Ai.slice()),null==t.forward&&(t.forward=di.slice()),null==t.up&&(t.up=pi.slice()),null==t.minDistance&&(t.minDistance=wi),null==t.maxDistance&&(t.maxDistance=yi),null==t.rolloff&&(t.rolloff=mi),null==t.gain&&(t.gain=ci),null==t.alpha&&(t.alpha=Di),null==t.sharpness&&(t.sharpness=bi),null==t.sourceWidth&&(t.sourceWidth=Pi),this._scene=e,this._position=t.position,this._forward=t.forward,this._up=t.up,this._dx=new Float32Array(3),this._right=[],sn(this._forward[0],this._forward[1],this._forward[2],this._up[0],this._up[1],this._up[2],this._right);let i=e._context;this.input=i.createGain(),this._directivity=new rn(i,{alpha:t.alpha,sharpness:t.sharpness}),this._toEarly=i.createGain(),this._toLate=i.createGain(),this._attenuation=new ln(i,{minDistance:t.minDistance,maxDistance:t.maxDistance,rolloff:t.rolloff}),this._encoder=new an(i,{ambisonicOrder:e._ambisonicOrder,sourceWidth:t.sourceWidth}),this.input.connect(this._toLate),this._toLate.connect(e._room.late.input),this.input.connect(this._attenuation.input),this._attenuation.output.connect(this._toEarly),this._toEarly.connect(e._room.early.input),this._attenuation.output.connect(this._directivity.input),this._directivity.output.connect(this._encoder.input),this._encoder.output.connect(e._listener.input),this.setPosition(t.position[0],t.position[1],t.position[2]),this.input.gain.value=t.gain}dispose(){this._encoder.output.disconnect(this._scene._listener.input),this._directivity.output.disconnect(this._encoder.input),this._attenuation.output.disconnect(this._directivity.input),this._toEarly.disconnect(this._scene._room.early.input),this._attenuation.output.disconnect(this._toEarly),this.input.disconnect(this._attenuation.input),this._toLate.disconnect(this._scene._room.late.input),this.input.disconnect(this._toLate),this._encoder.dispose()}setPosition(e,t,i){this._position[0]=e,this._position[1]=t,this._position[2]=i;let n=function(e){let t=1;return e>en&&(t=1-e/hi,t=Math.max(0,Math.min(1,t))),t}(this._scene._room.getDistanceOutsideRoom(this._position[0],this._position[1],this._position[2]));this._toLate.gain.value=n,this._toEarly.gain.value=n,this._update()}_update(){for(let e=0;e<3;e++)this._dx[e]=this._position[e]-this._scene._listener.position[e];let e=Math.sqrt(this._dx[0]*this._dx[0]+this._dx[1]*this._dx[1]+this._dx[2]*this._dx[2]);e>0&&(this._dx[0]/=e,this._dx[1]/=e,this._dx[2]/=e);let t=Math.atan2(-this._dx[0],this._dx[2])*$i,i=Math.atan2(this._dx[1],Math.sqrt(this._dx[0]*this._dx[0]+this._dx[2]*this._dx[2]))*$i;this._attenuation.setDistance(e),this._directivity.computeAngle(this._forward,this._dx),this._encoder.setDirection(t,i)}setRolloff(e){this._attenuation.setRolloff(e)}setMinDistance(e){this._attenuation.minDistance=e}setMaxDistance(e){this._attenuation.maxDistance=e}setGain(e){this.input.gain.value=e}setOrientation(e,t,i,n,s,a){this._forward[0]=e,this._forward[1]=t,this._forward[2]=i,this._up[0]=n,this._up[1]=s,this._up[2]=a,sn(e,t,i,n,s,a,this._right)}setSourceWidth(e){this._encoder.setSourceWidth(e),this.setPosition(this._position[0],this._position[1],this._position[2])}setDirectivityPattern(e,t){this._directivity.setPattern(e,t),this.setPosition(this._position[0],this._position[1],this._position[2])}}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,t){null==t&&(t={}),null==t.durations&&(t.durations=ji.slice()),null==t.predelay&&(t.predelay=Li),null==t.gain&&(t.gain=Ri),null==t.bandwidth&&(t.bandwidth=ki),null==t.tailonset&&(t.tailonset=Oi);let i=t.predelay/1e3;this._bandwidthCoeff=t.bandwidth*Ki,this._tailonsetSamples=t.tailonset/1e3,this._context=e,this.input=e.createGain(),this._predelay=e.createDelay(i),this._convolver=e.createConvolver(),this.output=e.createGain(),this.output.gain.value=t.gain,this._convolver.normalize=!1,this.input.connect(this._predelay),this._predelay.connect(this._convolver),this._convolver.connect(this.output),this.setDurations(t.durations)}dispose(){this.input.disconnect(this._predelay),this._predelay.disconnect(this._convolver),this._convolver.disconnect(this.output)}setDurations(e){if(e.length!==Qi)return void tn("Warning: invalid number of RT60 values provided to reverb.");let t=new Float32Array(Qi),i=this._context.sampleRate;for(let n=0;n<e.length;n++)e[n]=Math.max(0,Math.min(Ni,e[n])),t[n]=Math.round(e[n]*i*Ii);let n=0;for(let e=0;e<t.length;e++)t[e]>n&&(n=t[e]);n<1&&(n=1);let s=this._context.createBuffer(1,n,i),a=s.getChannelData(0),o=new Float32Array(n);for(let e=0;e<n;e++)o[e]=2*Math.random()-1;for(let e=0;e<Qi;e++){let n=-Ji/t[e],s=Xi*Hi[e]/i,r=Math.sin(s),l=r*Math.sinh(this._bandwidthCoeff*s/r),c=1/(1+l),u=l*c,h=-2*Math.cos(s)*c,A=(1-l)*c,d=0,p=0;for(let i=0;i<t[e];i++){let e=o[i]*Math.exp(n*i)-h*d-A*p;a[i]+=u*(e-p),p=d,d=e}}let r=Math.round(this._tailonsetSamples);for(let e=0;e<Math.min(a.length,r);e++){let t=.5*(1-Math.cos(Xi*e/(2*r-1)));a[e]*=t}this._convolver.buffer=s}}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,t){null==t&&(t={}),null==t.speedOfSound&&(t.speedOfSound=gi),null==t.listenerPosition&&(t.listenerPosition=Ai.slice()),null==t.coefficients&&(t.coefficients={},Object.assign(t.coefficients,Mi)),this.speedOfSound=t.speedOfSound,this.input=e.createGain(),this.output=e.createGain(),this._lowpass=e.createBiquadFilter(),this._delays={},this._gains={},this._inverters={},this._merger=e.createChannelMerger(4);for(let t in Mi)Mi.hasOwnProperty(t)&&(this._delays[t]=e.createDelay(Ei),this._gains[t]=e.createGain());this._inverters.right=e.createGain(),this._inverters.down=e.createGain(),this._inverters.back=e.createGain(),this._lowpass.type="lowpass",this._lowpass.frequency.value=_i,this._lowpass.Q.value=0;for(let e in Mi)Mi.hasOwnProperty(e)&&(this._delays[e].delayTime.value=0,this._gains[e].gain.value=0);this._inverters.right.gain.value=-1,this._inverters.down.gain.value=-1,this._inverters.back.gain.value=-1,this.input.connect(this._lowpass);for(let e in Mi)Mi.hasOwnProperty(e)&&(this._lowpass.connect(this._delays[e]),this._delays[e].connect(this._gains[e]),this._gains[e].connect(this._merger,0,0));this._gains.left.connect(this._merger,0,1),this._gains.right.connect(this._inverters.right),this._inverters.right.connect(this._merger,0,1),this._gains.up.connect(this._merger,0,2),this._gains.down.connect(this._inverters.down),this._inverters.down.connect(this._merger,0,2),this._gains.front.connect(this._merger,0,3),this._gains.back.connect(this._inverters.back),this._inverters.back.connect(this._merger,0,3),this._merger.connect(this.output),this._listenerPosition=t.listenerPosition,this.setRoomProperties(t.dimensions,t.coefficients)}dipose(){this.input.disconnect(this._lowpass);for(let e in Mi)Mi.hasOwnProperty(e)&&(this._lowpass.disconnect(this._delays[e]),this._delays[e].disconnect(this._gains[e]),this._gains[e].disconnect(this._merger,0,0));this._gains.left.disconnect(this._merger,0,1),this._gains.right.disconnect(this._inverters.right),this._inverters.right.disconnect(this._merger,0,1),this._gains.up.disconnect(this._merger,0,2),this._gains.down.disconnect(this._inverters.down),this._inverters.down.disconnect(this._merger,0,2),this._gains.front.disconnect(this._merger,0,3),this._gains.back.disconnect(this._inverters.back),this._inverters.back.disconnect(this._merger,0,3),this._merger.disconnect(this.output)}setListenerPosition(e,t,i){this._listenerPosition=[e,t,i];let n={left:Ti*Math.max(0,this._halfDimensions.width+e)+Si,right:Ti*Math.max(0,this._halfDimensions.width-e)+Si,front:Ti*Math.max(0,this._halfDimensions.depth+i)+Si,back:Ti*Math.max(0,this._halfDimensions.depth-i)+Si,down:Ti*Math.max(0,this._halfDimensions.height+t)+Si,up:Ti*Math.max(0,this._halfDimensions.height-t)+Si};for(let e in Mi)if(Mi.hasOwnProperty(e)){let t=n[e]/this.speedOfSound;this._delays[e].delayTime.value=t;let i=this._coefficients[e]/n[e];this._gains[e].gain.value=i}}setRoomProperties(e,t){null==e&&(e={},Object.assign(e,Fi)),null==t&&(t={},Object.assign(t,Mi)),this._coefficients=t,this._halfDimensions={},this._halfDimensions.width=.5*e.width,this._halfDimensions.height=.5*e.height,this._halfDimensions.depth=.5*e.depth,this.setListenerPosition(this._listenerPosition[0],this._listenerPosition[1],this._listenerPosition[2])}}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F(e){let t={};for(let e in Ui)Ui.hasOwnProperty(e)&&(t[e]=zi[Ui[e]]);null==e&&(e={},Object.assign(e,Ui));for(let i in Ui)Ui.hasOwnProperty(i)&&e.hasOwnProperty(i)?e[i]in zi?t[i]=zi[e[i]]:tn('Material "'+e[i]+'" on wall "'+i+'" not found. Using "'+Ui[i]+'".'):tn('Wall "'+i+'" is not defined. Default used.');return t}function T(e){null==e&&(e={});for(let t in Fi)e.hasOwnProperty(t)||(e[t]=Fi[t]);return e}function k(e,t,i){let n=new Float32Array(Qi);e=T(e),t=function(e){null==e&&(e={});for(let t in Ui)e.hasOwnProperty(t)||(e[t]=zi[Ui[t]]);return e}(t),null==i&&(i=gi);let s=Zi/i,a=e.width*e.height*e.depth;if(a<Yi)return n;let o=e.width*e.height,r=e.width*e.depth,l=e.depth*e.height,c=2*(o+r+l);for(let e=0;e<Qi;e++){let i=((t.left[e]+t.right[e])*o+(t.down[e]+t.up[e])*r+(t.front[e]+t.back[e])*l)/c;n[e]=Vi*s*a/(-c*Math.log(1-i)+4*qi[e]*a)}return n}function I(e){let t=[];for(let i in Mi)if(Mi.hasOwnProperty(i)){t[i]=0;for(let n=0;n<Wi;n++){let s=n+Gi;t[i]+=e[i][s]}t[i]/=Wi,t[i]=Math.sqrt(1-t[i])}return t}class An{constructor(e,t){null==t&&(t={}),null==t.listenerPosition&&(t.listenerPosition=Ai.slice()),null==t.dimensions&&(t.dimensions={},Object.assign(t.dimensions,Fi)),null==t.materials&&(t.materials={},Object.assign(t.materials,Ui)),null==t.speedOfSound&&(t.speedOfSound=gi),t.dimensions=T(t.dimensions);let i=F(t.materials),n=I(i),s=k(t.dimensions,i,t.speedOfSound);this.early=new hn(e,{dimensions:t.dimensions,coefficients:n,speedOfSound:t.speedOfSound,listenerPosition:t.listenerPosition}),this.late=new un(e,{durations:s}),this.speedOfSound=t.speedOfSound,this.output=e.createGain(),this.early.output.connect(this.output),this._merger=e.createChannelMerger(4),this.late.output.connect(this._merger,0,0),this._merger.connect(this.output)}dispose(){this.early.output.disconnect(this.output),this.late.output.disconnect(this._merger,0,0),this._merger.disconnect(this.output)}setProperties(e,t){let i=F(t),n=k(e,i,this.speedOfSound);this.late.setDurations(n),this.early.speedOfSound=this.speedOfSound;let s=I(i);this.early.setRoomProperties(e,s)}setListenerPosition(e,t,i){this.early.speedOfSound=this.speedOfSound,this.early.setListenerPosition(e,t,i);let n=this.getDistanceOutsideRoom(e,t,i),s=1;n>en&&(s=1-n/ui,s=Math.max(0,Math.min(1,s))),this.output.gain.value=s}getDistanceOutsideRoom(e,t,i){let n=Math.max(0,-this.early._halfDimensions.width-e,e-this.early._halfDimensions.width),s=Math.max(0,-this.early._halfDimensions.height-t,t-this.early._halfDimensions.height),a=Math.max(0,-this.early._halfDimensions.depth-i,i-this.early._halfDimensions.depth);return Math.sqrt(n*n+s*s+a*a)}}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class dn{constructor(e,t){null==t&&(t={}),null==t.ambisonicOrder&&(t.ambisonicOrder=Bi),null==t.listenerPosition&&(t.listenerPosition=Ai.slice()),null==t.listenerForward&&(t.listenerForward=di.slice()),null==t.listenerUp&&(t.listenerUp=pi.slice()),null==t.dimensions&&(t.dimensions={},Object.assign(t.dimensions,Fi)),null==t.materials&&(t.materials={},Object.assign(t.materials,Ui)),null==t.speedOfSound&&(t.speedOfSound=gi),null==t.renderingMode&&(t.renderingMode=vi),this._ambisonicOrder=an.validateAmbisonicOrder(t.ambisonicOrder),this._sources=[],this._room=new An(e,{listenerPosition:t.listenerPosition,dimensions:t.dimensions,materials:t.materials,speedOfSound:t.speedOfSound}),this._listener=new on(e,{ambisonicOrder:t.ambisonicOrder,position:t.listenerPosition,forward:t.listenerForward,up:t.listenerUp,renderingMode:t.renderingMode}),this._context=e,this.output=e.createGain(),this.ambisonicOutput=e.createGain(),this.ambisonicInput=this._listener.input,this._room.output.connect(this._listener.input),this._listener.output.connect(this.output),this._listener.ambisonicOutput.connect(this.ambisonicOutput)}getRenderingMode(){return this._listener.getRenderingMode()}setRenderingMode(e){this._listener.setRenderingMode(e)}dispose(){this._room.output.disconnect(this._listener.input),this._listener.output.disconnect(this.output),this._listener.ambisonicOutput.disconnect(this.ambisonicOutput)}createSource(e){let t=new cn(this,e);return this._sources[this._sources.length]=t,t}removeSource(e){const t=this._sources.findIndex(t=>t===e);t>-1&&(this._sources.splice(t,1),e.dispose())}setAmbisonicOrder(e){this._ambisonicOrder=an.validateAmbisonicOrder(e)}setRoomProperties(e,t){this._room.setProperties(e,t)}setListenerPosition(e,t,i){this._listener.position[0]=e,this._listener.position[1]=t,this._listener.position[2]=i,this._room.setListenerPosition(e,t,i),this._sources.forEach((function(e){e._update()}))}setListenerOrientation(e,t,i,n,s,a){this._listener.setOrientation(e,t,i,n,s,a)}setListenerFromMatrix(e){this._listener.setFromMatrix(e),this.setListenerPosition(this._listener.position[0],this._listener.position[1],this._listener.position[2])}setSpeedOfSound(e){this._room.speedOfSound=e}}dn.Version="2.0.0";class pn extends Lt{constructor(e,t,i,n){const s=n.createSource();super(e,t,i,s.input),this.inNode.disconnect(i.destination),this.resScene=n,this.resNode=s,Object.seal(this)}update(e){super.update(e);const{p:t,f:i,u:n}=e;this.resNode.setMinDistance(this.minDistance),this.resNode.setMaxDistance(this.maxDistance),this.resNode.setPosition(t.x,t.y,t.z),this.resNode.setOrientation(i.x,i.y,i.z,n.x,n.y,n.z)}dispose(){this.resScene.removeSource(this.resNode),this.resNode=null,super.dispose()}}class gn extends Ht{constructor(e){super(),this.scene=new dn(e,{ambisonicOrder:1,renderingMode:"bypass"}),this.scene.output.connect(e.destination),this.scene.setRoomProperties({width:10,height:5,depth:10},{left:"transparent",right:"transparent",front:"transparent",back:"transparent",down:"grass",up:"transparent"}),Object.seal(this)}update(e){super.update(e);const{p:t,f:i,u:n}=e;this.scene.setListenerPosition(t.x,t.y,t.z),this.scene.setListenerOrientation(i.x,i.y,i.z,n.x,n.y,n.z)}createSource(e,t,i,n){return i?new pn(e,t,n,this.scene):super.createSource(e,t,i,n)}}const fn=1024,mn=new e,vn=new Event("audioready");let wn=Object.prototype.hasOwnProperty.call(window,"AudioContext"),yn=wn&&Object.prototype.hasOwnProperty.call(window,"AudioListener"),Dn=yn&&Object.prototype.hasOwnProperty.call(AudioListener.prototype,"setPosition"),bn=yn&&Object.prototype.hasOwnProperty.call(AudioListener.prototype,"positionX"),xn=yn;class Cn extends wt{constructor(){super(),this.minDistance=1,this.minDistanceSq=1,this.maxDistance=10,this.maxDistanceSq=100,this.rolloff=1,this.transitionTime=.5,this.users=new Map,this.analysers=new Map,this.clips=new Map,this.onAudioActivity=e=>{mn.id=e.id,mn.isActive=e.isActive,this.dispatchEvent(mn)},this.listener=null,this.audioContext=null,this.createContext(),Object.seal(this)}addEventListener(e,t,i){e===vn.type&&this.ready?t(vn):super.addEventListener(e,t,i)}get ready(){return this.audioContext&&"running"===this.audioContext.state}async start(){this.createContext(),await this.audioContext.resume()}update(){if(this.audioContext){const e=this.currentTime;for(let t of this.clips.values())t.update(e);for(let t of this.users.values())t.update(e);for(let t of this.analysers.values())t.update(e)}}createContext(){if(!this.audioContext){if(wn)try{this.audioContext=new AudioContext,this.ready?console.log("AudioContext is already running."):(console.log("AudioContext is not yet running."),function(e,t){t=t||(()=>!0);const i=async n=>{let s=t();if(s instanceof Promise&&(s=await s),n.isTrusted&&s){for(let e of yt)window.removeEventListener(e,i);const t=e();t instanceof Promise&&await t}};for(let e of yt)window.addEventListener(e,i)}(()=>{console.log("AudioContext is finally running."),this.dispatchEvent(vn)},async()=>(await this.start(),this.ready)))}catch(e){wn=!1,console.warn("Could not create WebAudio AudioContext",e)}if(wn||(this.audioContext=new Ft),wn&&xn)try{this.listener=new gn(this.audioContext)}catch(e){xn=!1,console.warn("Resonance Audio API not available!",e)}if(wn&&!xn&&bn)try{this.listener=new jt(this.audioContext.listener)}catch(e){bn=!1,console.warn("No AudioListener.positionX property!",e)}if(wn&&!xn&&!bn&&Dn)try{this.listener=new Ut(this.audioContext.listener)}catch(e){Dn=!1,console.warn("No WebAudio API!",e)}Dn&&wn||(this.listener=new Ht)}}createSpatializer(e,t,i){if(!this.listener)throw new Error("Audio context isn't ready");if(!t)throw new Error("No stream or audio element given.");return this.listener.createSource(e,t,i,this.audioContext)}get currentTime(){return this.audioContext.currentTime}createUser(e){return this.users.has(e)||this.users.set(e,new St),this.users.get(e)}createLocalUser(e){const t=this.createUser(e);return t.spatializer=this.listener,t}async createClip(e,t,i,n,s,...a){const o=new St,r=[];for(let e of a){const t=document.createElement("source");s&&(e=await h(e,s)),t.src=e,r.push(t)}const l=document.createElement("audio");return l.loop=t,l.controls=!1,l.playsInline=!0,l.autoplay=i,l.append(...r),o.spatializer=this.createSpatializer(e,l,n),this.clips.set(e,o),o}async playClip(e,t=1){if(this.clips.has(e)){const i=this.clips.get(e);i.volume=t,await i.spatializer.play()}}stopClip(e){if(this.clips.has(e)){this.clips.get(e).spatializer.stop()}}getSource(e,t){return e.get(t)||null}getUser(e){return this.getSource(this.users,e)}getClip(e){return this.getSource(this.clips,e)}removeSource(e,t){if(e.has(t)){const i=e.get(t);e.delete(t),i.dispose()}}removeUser(e){this.removeSource(this.users,e)}removeClip(e){this.removeSource(this.clips,e)}setUserStream(e,t){if(this.users.has(e)){if(this.analysers.has(e)){const t=this.analysers.get(e);this.analysers.delete(e),t.removeEventListener("audioActivity",this.onAudioActivity),t.dispose()}const i=this.users.get(e);if(i.spatializer=null,t){i.spatializer=this.createSpatializer(e,t,!0),i.spatializer.setAudioProperties(this.minDistance,this.maxDistance,this.rolloff,this.transitionTime),i.spatializer.audio.autoPlay=!0,i.spatializer.audio.muted=!0,i.spatializer.audio.addEventListener("onloadedmetadata",()=>i.spatializer.audio.play()),i.spatializer.audio.play();const n=new Pt(i,this.audioContext,fn);n.addEventListener("audioActivity",this.onAudioActivity),this.analysers.set(e,n)}}}setAudioProperties(e,t,i,n){this.minDistance=e,this.maxDistance=t,this.transitionTime=n,this.rolloff=i;for(let e of this.users.values())e.spatializer&&e.spatializer.setAudioProperties(this.minDistance,this.maxDistance,this.rolloff,this.transitionTime);for(let e of this.clips.values())e.spatializer&&e.spatializer.setAudioProperties(this.minDistance,this.maxDistance,this.rolloff,this.transitionTime)}withPose(e,t,i,n){if(e.has(t)){const s=e.get(t).pose;null===i&&(i=this.transitionTime),n(s,i)}}withUser(e,t,i){this.withPose(this.users,e,t,i)}setUserPosition(e,t,i,n,s=null){this.withUser(e,s,(e,s)=>{e.setTargetPosition(t,i,n,this.currentTime,s)})}setUserOrientation(e,t,i,n,s,a,o,r=null){this.withUser(e,r,(e,r)=>{e.setTargetOrientation(t,i,n,s,a,o,this.currentTime,r)})}setUserPose(e,t,i,n,s,a,o,r,l,c,u=null){this.withUser(e,u,(e,u)=>{e.setTarget(t,i,n,s,a,o,r,l,c,this.currentTime,u)})}withClip(e,t,i){this.withPose(this.clips,e,t,i)}setClipPosition(e,t,i,n,s=null){this.withClip(e,s,(e,s)=>{e.setTargetPosition(t,i,n,this.currentTime,s)})}setClipOrientation(e,t,i,n,s,a,o,r=null){this.withClip(e,r,(e,r)=>{e.setTargetOrientation(t,i,n,s,a,o,this.currentTime,r)})}setClipPose(e,t,i,n,s,a,o,r,l,c,u=null){this.withClip(e,u,(e,u)=>{e.setTarget(t,i,n,s,a,o,r,l,c,this.currentTime,u)})}}
/*!
 * jQuery JavaScript Library v3.5.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2020-05-04T22:49Z
 */function L(e,t){return i=>{e(i),t(i)}}function O(e,t,i,n){return void 0===n&&r(i)&&(n=i,i=void 0),new Promise((s,r)=>{const l=a(t);if(l){const i=s,n=()=>{e.removeEventListener(t,i)};s=L(n,s),r=L(n,r)}const c=a(i);if(c){const t=r,n=()=>{e.removeEventListener(i,t)};s=L(n,s),r=L(n,r)}if(o(n)){const e=setTimeout(r,n,`'${t}' has timed out.`),i=()=>clearTimeout(e);s=L(i,s),r=L(i,r)}l&&e.addEventListener(t,s),c&&e.addEventListener(i,()=>{r("Rejection event found")})})}!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}(window,(function(e,t){var i=[],n=Object.getPrototypeOf,s=i.slice,a=i.flat?function(e){return i.flat.call(e)}:function(e){return i.concat.apply([],e)},o=i.push,r=i.indexOf,l={},c=l.toString,u=l.hasOwnProperty,h=u.toString,A=h.call(Object),d={},p=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},g=function(e){return null!=e&&e===e.window},f=e.document,m={type:!0,src:!0,nonce:!0,noModule:!0};function v(e,t,i){var n,s,a=(i=i||f).createElement("script");if(a.text=e,t)for(n in m)(s=t[n]||t.getAttribute&&t.getAttribute(n))&&a.setAttribute(n,s);i.head.appendChild(a).parentNode.removeChild(a)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[c.call(e)]||"object":typeof e}var y=function(e,t){return new y.fn.init(e,t)};function D(e){var t=!!e&&"length"in e&&e.length,i=w(e);return!p(e)&&!g(e)&&("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e)}y.fn=y.prototype={jquery:"3.5.1",constructor:y,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=y.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return y.each(this,e)},map:function(e){return this.pushStack(y.map(this,(function(t,i){return e.call(t,i,t)})))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(y.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(y.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(i>=0&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:o,sort:i.sort,splice:i.splice},y.extend=y.fn.extend=function(){var e,t,i,n,s,a,o=arguments[0]||{},r=1,l=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[r]||{},r++),"object"==typeof o||p(o)||(o={}),r===l&&(o=this,r--);r<l;r++)if(null!=(e=arguments[r]))for(t in e)n=e[t],"__proto__"!==t&&o!==n&&(c&&n&&(y.isPlainObject(n)||(s=Array.isArray(n)))?(i=o[t],a=s&&!Array.isArray(i)?[]:s||y.isPlainObject(i)?i:{},s=!1,o[t]=y.extend(c,a,n)):void 0!==n&&(o[t]=n));return o},y.extend({expando:"jQuery"+("3.5.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,i;return!(!e||"[object Object]"!==c.call(e))&&(!(t=n(e))||"function"==typeof(i=u.call(t,"constructor")&&t.constructor)&&h.call(i)===A)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,i){v(e,{nonce:t&&t.nonce},i)},each:function(e,t){var i,n=0;if(D(e))for(i=e.length;n<i&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},makeArray:function(e,t){var i=t||[];return null!=e&&(D(Object(e))?y.merge(i,"string"==typeof e?[e]:e):o.call(i,e)),i},inArray:function(e,t,i){return null==t?-1:r.call(t,e,i)},merge:function(e,t){for(var i=+t.length,n=0,s=e.length;n<i;n++)e[s++]=t[n];return e.length=s,e},grep:function(e,t,i){for(var n=[],s=0,a=e.length,o=!i;s<a;s++)!t(e[s],s)!==o&&n.push(e[s]);return n},map:function(e,t,i){var n,s,o=0,r=[];if(D(e))for(n=e.length;o<n;o++)null!=(s=t(e[o],o,i))&&r.push(s);else for(o in e)null!=(s=t(e[o],o,i))&&r.push(s);return a(r)},guid:1,support:d}),"function"==typeof Symbol&&(y.fn[Symbol.iterator]=i[Symbol.iterator]),y.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){l["[object "+t+"]"]=t.toLowerCase()}));var b=
/*!
 * Sizzle CSS Selector Engine v2.3.5
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2020-03-14
 */
function(e){var t,i,n,s,a,o,r,l,c,u,h,A,d,p,g,f,m,v,w,y="sizzle"+1*new Date,D=e.document,b=0,x=0,C=le(),B=le(),P=le(),E=le(),_=function(e,t){return e===t&&(h=!0),0},M={}.hasOwnProperty,S=[],F=S.pop,T=S.push,k=S.push,I=S.slice,L=function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},O="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",R="[\\x20\\t\\r\\n\\f]",N="(?:\\\\[\\da-fA-F]{1,6}"+R+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",H="\\["+R+"*("+N+")(?:"+R+"*([*^$|!~]?=)"+R+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+R+"*\\]",Q=":("+N+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+H+")*)|.*)\\)|)",j=new RegExp(R+"+","g"),z=new RegExp("^"+R+"+|((?:^|[^\\\\])(?:\\\\.)*)"+R+"+$","g"),U=new RegExp("^"+R+"*,"+R+"*"),W=new RegExp("^"+R+"*([>+~]|"+R+")"+R+"*"),G=new RegExp(R+"|>"),Y=new RegExp(Q),q=new RegExp("^"+N+"$"),V={ID:new RegExp("^#("+N+")"),CLASS:new RegExp("^\\.("+N+")"),TAG:new RegExp("^("+N+"|[*])"),ATTR:new RegExp("^"+H),PSEUDO:new RegExp("^"+Q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+R+"*(even|odd|(([+-]|)(\\d*)n|)"+R+"*(?:([+-]|)"+R+"*(\\d+)|))"+R+"*\\)|)","i"),bool:new RegExp("^(?:"+O+")$","i"),needsContext:new RegExp("^"+R+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+R+"*((?:-\\d)?\\d*)"+R+"*\\)|)(?=[^-]|$)","i")},X=/HTML$/i,Z=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+R+"?|\\\\([^\\r\\n\\f])","g"),ie=function(e,t){var i="0x"+e.slice(1)-65536;return t||(i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320))},ne=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,se=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ae=function(){A()},oe=ye((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{k.apply(S=I.call(D.childNodes),D.childNodes),S[D.childNodes.length].nodeType}catch(e){k={apply:S.length?function(e,t){T.apply(e,I.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}function re(e,t,n,s){var a,r,c,u,h,p,m,v=t&&t.ownerDocument,D=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==D&&9!==D&&11!==D)return n;if(!s&&(A(t),t=t||d,g)){if(11!==D&&(h=$.exec(e)))if(a=h[1]){if(9===D){if(!(c=t.getElementById(a)))return n;if(c.id===a)return n.push(c),n}else if(v&&(c=v.getElementById(a))&&w(t,c)&&c.id===a)return n.push(c),n}else{if(h[2])return k.apply(n,t.getElementsByTagName(e)),n;if((a=h[3])&&i.getElementsByClassName&&t.getElementsByClassName)return k.apply(n,t.getElementsByClassName(a)),n}if(i.qsa&&!E[e+" "]&&(!f||!f.test(e))&&(1!==D||"object"!==t.nodeName.toLowerCase())){if(m=e,v=t,1===D&&(G.test(e)||W.test(e))){for((v=ee.test(e)&&me(t.parentNode)||t)===t&&i.scope||((u=t.getAttribute("id"))?u=u.replace(ne,se):t.setAttribute("id",u=y)),r=(p=o(e)).length;r--;)p[r]=(u?"#"+u:":scope")+" "+we(p[r]);m=p.join(",")}try{return k.apply(n,v.querySelectorAll(m)),n}catch(t){E(e,!0)}finally{u===y&&t.removeAttribute("id")}}}return l(e.replace(z,"$1"),t,n,s)}function le(){var e=[];return function t(i,s){return e.push(i+" ")>n.cacheLength&&delete t[e.shift()],t[i+" "]=s}}function ce(e){return e[y]=!0,e}function ue(e){var t=d.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function he(e,t){for(var i=e.split("|"),s=i.length;s--;)n.attrHandle[i[s]]=t}function Ae(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function de(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pe(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function ge(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&oe(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function fe(e){return ce((function(t){return t=+t,ce((function(i,n){for(var s,a=e([],i.length,t),o=a.length;o--;)i[s=a[o]]&&(i[s]=!(n[s]=i[s]))}))}))}function me(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in i=re.support={},a=re.isXML=function(e){var t=e.namespaceURI,i=(e.ownerDocument||e).documentElement;return!X.test(t||i&&i.nodeName||"HTML")},A=re.setDocument=function(e){var t,s,o=e?e.ownerDocument||e:D;return o!=d&&9===o.nodeType&&o.documentElement?(p=(d=o).documentElement,g=!a(d),D!=d&&(s=d.defaultView)&&s.top!==s&&(s.addEventListener?s.addEventListener("unload",ae,!1):s.attachEvent&&s.attachEvent("onunload",ae)),i.scope=ue((function(e){return p.appendChild(e).appendChild(d.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),i.attributes=ue((function(e){return e.className="i",!e.getAttribute("className")})),i.getElementsByTagName=ue((function(e){return e.appendChild(d.createComment("")),!e.getElementsByTagName("*").length})),i.getElementsByClassName=K.test(d.getElementsByClassName),i.getById=ue((function(e){return p.appendChild(e).id=y,!d.getElementsByName||!d.getElementsByName(y).length})),i.getById?(n.filter.ID=function(e){var t=e.replace(te,ie);return function(e){return e.getAttribute("id")===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var i=t.getElementById(e);return i?[i]:[]}}):(n.filter.ID=function(e){var t=e.replace(te,ie);return function(e){var i=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var i,n,s,a=t.getElementById(e);if(a){if((i=a.getAttributeNode("id"))&&i.value===e)return[a];for(s=t.getElementsByName(e),n=0;a=s[n++];)if((i=a.getAttributeNode("id"))&&i.value===e)return[a]}return[]}}),n.find.TAG=i.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):i.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],s=0,a=t.getElementsByTagName(e);if("*"===e){for(;i=a[s++];)1===i.nodeType&&n.push(i);return n}return a},n.find.CLASS=i.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&g)return t.getElementsByClassName(e)},m=[],f=[],(i.qsa=K.test(d.querySelectorAll))&&(ue((function(e){var t;p.appendChild(e).innerHTML="<a id='"+y+"'></a><select id='"+y+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&f.push("[*^$]="+R+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||f.push("\\["+R+"*(?:value|"+O+")"),e.querySelectorAll("[id~="+y+"-]").length||f.push("~="),(t=d.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||f.push("\\["+R+"*name"+R+"*="+R+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||f.push(":checked"),e.querySelectorAll("a#"+y+"+*").length||f.push(".#.+[+~]"),e.querySelectorAll("\\\f"),f.push("[\\r\\n\\f]")})),ue((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=d.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&f.push("name"+R+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&f.push(":enabled",":disabled"),p.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&f.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),f.push(",.*:")}))),(i.matchesSelector=K.test(v=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ue((function(e){i.disconnectedMatch=v.call(e,"*"),v.call(e,"[s!='']:x"),m.push("!=",Q)})),f=f.length&&new RegExp(f.join("|")),m=m.length&&new RegExp(m.join("|")),t=K.test(p.compareDocumentPosition),w=t||K.test(p.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},_=t?function(e,t){if(e===t)return h=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!i.sortDetached&&t.compareDocumentPosition(e)===n?e==d||e.ownerDocument==D&&w(D,e)?-1:t==d||t.ownerDocument==D&&w(D,t)?1:u?L(u,e)-L(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return h=!0,0;var i,n=0,s=e.parentNode,a=t.parentNode,o=[e],r=[t];if(!s||!a)return e==d?-1:t==d?1:s?-1:a?1:u?L(u,e)-L(u,t):0;if(s===a)return Ae(e,t);for(i=e;i=i.parentNode;)o.unshift(i);for(i=t;i=i.parentNode;)r.unshift(i);for(;o[n]===r[n];)n++;return n?Ae(o[n],r[n]):o[n]==D?-1:r[n]==D?1:0},d):d},re.matches=function(e,t){return re(e,null,null,t)},re.matchesSelector=function(e,t){if(A(e),i.matchesSelector&&g&&!E[t+" "]&&(!m||!m.test(t))&&(!f||!f.test(t)))try{var n=v.call(e,t);if(n||i.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){E(t,!0)}return re(t,d,null,[e]).length>0},re.contains=function(e,t){return(e.ownerDocument||e)!=d&&A(e),w(e,t)},re.attr=function(e,t){(e.ownerDocument||e)!=d&&A(e);var s=n.attrHandle[t.toLowerCase()],a=s&&M.call(n.attrHandle,t.toLowerCase())?s(e,t,!g):void 0;return void 0!==a?a:i.attributes||!g?e.getAttribute(t):(a=e.getAttributeNode(t))&&a.specified?a.value:null},re.escape=function(e){return(e+"").replace(ne,se)},re.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},re.uniqueSort=function(e){var t,n=[],s=0,a=0;if(h=!i.detectDuplicates,u=!i.sortStable&&e.slice(0),e.sort(_),h){for(;t=e[a++];)t===e[a]&&(s=n.push(a));for(;s--;)e.splice(n[s],1)}return u=null,e},s=re.getText=function(e){var t,i="",n=0,a=e.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=s(e)}else if(3===a||4===a)return e.nodeValue}else for(;t=e[n++];)i+=s(t);return i},(n=re.selectors={cacheLength:50,createPseudo:ce,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ie),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ie),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||re.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&re.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return V.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&Y.test(i)&&(t=o(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ie).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=C[e+" "];return t||(t=new RegExp("(^|"+R+")"+e+"("+R+"|$)"))&&C(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,i){return function(n){var s=re.attr(n,e);return null==s?"!="===t:!t||(s+="","="===t?s===i:"!="===t?s!==i:"^="===t?i&&0===s.indexOf(i):"*="===t?i&&s.indexOf(i)>-1:"$="===t?i&&s.slice(-i.length)===i:"~="===t?(" "+s.replace(j," ")+" ").indexOf(i)>-1:"|="===t&&(s===i||s.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,i,n,s){var a="nth"!==e.slice(0,3),o="last"!==e.slice(-4),r="of-type"===t;return 1===n&&0===s?function(e){return!!e.parentNode}:function(t,i,l){var c,u,h,A,d,p,g=a!==o?"nextSibling":"previousSibling",f=t.parentNode,m=r&&t.nodeName.toLowerCase(),v=!l&&!r,w=!1;if(f){if(a){for(;g;){for(A=t;A=A[g];)if(r?A.nodeName.toLowerCase()===m:1===A.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[o?f.firstChild:f.lastChild],o&&v){for(w=(d=(c=(u=(h=(A=f)[y]||(A[y]={}))[A.uniqueID]||(h[A.uniqueID]={}))[e]||[])[0]===b&&c[1])&&c[2],A=d&&f.childNodes[d];A=++d&&A&&A[g]||(w=d=0)||p.pop();)if(1===A.nodeType&&++w&&A===t){u[e]=[b,d,w];break}}else if(v&&(w=d=(c=(u=(h=(A=t)[y]||(A[y]={}))[A.uniqueID]||(h[A.uniqueID]={}))[e]||[])[0]===b&&c[1]),!1===w)for(;(A=++d&&A&&A[g]||(w=d=0)||p.pop())&&((r?A.nodeName.toLowerCase()!==m:1!==A.nodeType)||!++w||(v&&((u=(h=A[y]||(A[y]={}))[A.uniqueID]||(h[A.uniqueID]={}))[e]=[b,w]),A!==t)););return(w-=s)===n||w%n==0&&w/n>=0}}},PSEUDO:function(e,t){var i,s=n.pseudos[e]||n.setFilters[e.toLowerCase()]||re.error("unsupported pseudo: "+e);return s[y]?s(t):s.length>1?(i=[e,e,"",t],n.setFilters.hasOwnProperty(e.toLowerCase())?ce((function(e,i){for(var n,a=s(e,t),o=a.length;o--;)e[n=L(e,a[o])]=!(i[n]=a[o])})):function(e){return s(e,0,i)}):s}},pseudos:{not:ce((function(e){var t=[],i=[],n=r(e.replace(z,"$1"));return n[y]?ce((function(e,t,i,s){for(var a,o=n(e,null,s,[]),r=e.length;r--;)(a=o[r])&&(e[r]=!(t[r]=a))})):function(e,s,a){return t[0]=e,n(t,null,a,i),t[0]=null,!i.pop()}})),has:ce((function(e){return function(t){return re(e,t).length>0}})),contains:ce((function(e){return e=e.replace(te,ie),function(t){return(t.textContent||s(t)).indexOf(e)>-1}})),lang:ce((function(e){return q.test(e||"")||re.error("unsupported lang: "+e),e=e.replace(te,ie).toLowerCase(),function(t){var i;do{if(i=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===e||0===i.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!n.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Z.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:fe((function(){return[0]})),last:fe((function(e,t){return[t-1]})),eq:fe((function(e,t,i){return[i<0?i+t:i]})),even:fe((function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e})),odd:fe((function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e})),lt:fe((function(e,t,i){for(var n=i<0?i+t:i>t?t:i;--n>=0;)e.push(n);return e})),gt:fe((function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e}))}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[t]=de(t);for(t in{submit:!0,reset:!0})n.pseudos[t]=pe(t);function ve(){}function we(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function ye(e,t,i){var n=t.dir,s=t.next,a=s||n,o=i&&"parentNode"===a,r=x++;return t.first?function(t,i,s){for(;t=t[n];)if(1===t.nodeType||o)return e(t,i,s);return!1}:function(t,i,l){var c,u,h,A=[b,r];if(l){for(;t=t[n];)if((1===t.nodeType||o)&&e(t,i,l))return!0}else for(;t=t[n];)if(1===t.nodeType||o)if(u=(h=t[y]||(t[y]={}))[t.uniqueID]||(h[t.uniqueID]={}),s&&s===t.nodeName.toLowerCase())t=t[n]||t;else{if((c=u[a])&&c[0]===b&&c[1]===r)return A[2]=c[2];if(u[a]=A,A[2]=e(t,i,l))return!0}return!1}}function De(e){return e.length>1?function(t,i,n){for(var s=e.length;s--;)if(!e[s](t,i,n))return!1;return!0}:e[0]}function be(e,t,i,n,s){for(var a,o=[],r=0,l=e.length,c=null!=t;r<l;r++)(a=e[r])&&(i&&!i(a,n,s)||(o.push(a),c&&t.push(r)));return o}function xe(e,t,i,n,s,a){return n&&!n[y]&&(n=xe(n)),s&&!s[y]&&(s=xe(s,a)),ce((function(a,o,r,l){var c,u,h,A=[],d=[],p=o.length,g=a||function(e,t,i){for(var n=0,s=t.length;n<s;n++)re(e,t[n],i);return i}(t||"*",r.nodeType?[r]:r,[]),f=!e||!a&&t?g:be(g,A,e,r,l),m=i?s||(a?e:p||n)?[]:o:f;if(i&&i(f,m,r,l),n)for(c=be(m,d),n(c,[],r,l),u=c.length;u--;)(h=c[u])&&(m[d[u]]=!(f[d[u]]=h));if(a){if(s||e){if(s){for(c=[],u=m.length;u--;)(h=m[u])&&c.push(f[u]=h);s(null,m=[],c,l)}for(u=m.length;u--;)(h=m[u])&&(c=s?L(a,h):A[u])>-1&&(a[c]=!(o[c]=h))}}else m=be(m===o?m.splice(p,m.length):m),s?s(null,o,m,l):k.apply(o,m)}))}function Ce(e){for(var t,i,s,a=e.length,o=n.relative[e[0].type],r=o||n.relative[" "],l=o?1:0,u=ye((function(e){return e===t}),r,!0),h=ye((function(e){return L(t,e)>-1}),r,!0),A=[function(e,i,n){var s=!o&&(n||i!==c)||((t=i).nodeType?u(e,i,n):h(e,i,n));return t=null,s}];l<a;l++)if(i=n.relative[e[l].type])A=[ye(De(A),i)];else{if((i=n.filter[e[l].type].apply(null,e[l].matches))[y]){for(s=++l;s<a&&!n.relative[e[s].type];s++);return xe(l>1&&De(A),l>1&&we(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(z,"$1"),i,l<s&&Ce(e.slice(l,s)),s<a&&Ce(e=e.slice(s)),s<a&&we(e))}A.push(i)}return De(A)}return ve.prototype=n.filters=n.pseudos,n.setFilters=new ve,o=re.tokenize=function(e,t){var i,s,a,o,r,l,c,u=B[e+" "];if(u)return t?0:u.slice(0);for(r=e,l=[],c=n.preFilter;r;){for(o in i&&!(s=U.exec(r))||(s&&(r=r.slice(s[0].length)||r),l.push(a=[])),i=!1,(s=W.exec(r))&&(i=s.shift(),a.push({value:i,type:s[0].replace(z," ")}),r=r.slice(i.length)),n.filter)!(s=V[o].exec(r))||c[o]&&!(s=c[o](s))||(i=s.shift(),a.push({value:i,type:o,matches:s}),r=r.slice(i.length));if(!i)break}return t?r.length:r?re.error(e):B(e,l).slice(0)},r=re.compile=function(e,t){var i,s=[],a=[],r=P[e+" "];if(!r){for(t||(t=o(e)),i=t.length;i--;)(r=Ce(t[i]))[y]?s.push(r):a.push(r);(r=P(e,function(e,t){var i=t.length>0,s=e.length>0,a=function(a,o,r,l,u){var h,p,f,m=0,v="0",w=a&&[],y=[],D=c,x=a||s&&n.find.TAG("*",u),C=b+=null==D?1:Math.random()||.1,B=x.length;for(u&&(c=o==d||o||u);v!==B&&null!=(h=x[v]);v++){if(s&&h){for(p=0,o||h.ownerDocument==d||(A(h),r=!g);f=e[p++];)if(f(h,o||d,r)){l.push(h);break}u&&(b=C)}i&&((h=!f&&h)&&m--,a&&w.push(h))}if(m+=v,i&&v!==m){for(p=0;f=t[p++];)f(w,y,o,r);if(a){if(m>0)for(;v--;)w[v]||y[v]||(y[v]=F.call(l));y=be(y)}k.apply(l,y),u&&!a&&y.length>0&&m+t.length>1&&re.uniqueSort(l)}return u&&(b=C,c=D),w};return i?ce(a):a}(a,s))).selector=e}return r},l=re.select=function(e,t,i,s){var a,l,c,u,h,A="function"==typeof e&&e,d=!s&&o(e=A.selector||e);if(i=i||[],1===d.length){if((l=d[0]=d[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===t.nodeType&&g&&n.relative[l[1].type]){if(!(t=(n.find.ID(c.matches[0].replace(te,ie),t)||[])[0]))return i;A&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(a=V.needsContext.test(e)?0:l.length;a--&&(c=l[a],!n.relative[u=c.type]);)if((h=n.find[u])&&(s=h(c.matches[0].replace(te,ie),ee.test(l[0].type)&&me(t.parentNode)||t))){if(l.splice(a,1),!(e=s.length&&we(l)))return k.apply(i,s),i;break}}return(A||r(e,d))(s,t,!g,i,!t||ee.test(e)&&me(t.parentNode)||t),i},i.sortStable=y.split("").sort(_).join("")===y,i.detectDuplicates=!!h,A(),i.sortDetached=ue((function(e){return 1&e.compareDocumentPosition(d.createElement("fieldset"))})),ue((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||he("type|href|height|width",(function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),i.attributes&&ue((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||he("value",(function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),ue((function(e){return null==e.getAttribute("disabled")}))||he(O,(function(e,t,i){var n;if(!i)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null})),re}(e);y.find=b,y.expr=b.selectors,y.expr[":"]=y.expr.pseudos,y.uniqueSort=y.unique=b.uniqueSort,y.text=b.getText,y.isXMLDoc=b.isXML,y.contains=b.contains,y.escapeSelector=b.escape;var x=function(e,t,i){for(var n=[],s=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(s&&y(e).is(i))break;n.push(e)}return n},C=function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i},B=y.expr.match.needsContext;function P(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var E=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function _(e,t,i){return p(t)?y.grep(e,(function(e,n){return!!t.call(e,n,e)!==i})):t.nodeType?y.grep(e,(function(e){return e===t!==i})):"string"!=typeof t?y.grep(e,(function(e){return r.call(t,e)>-1!==i})):y.filter(t,e,i)}y.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?y.find.matchesSelector(n,e)?[n]:[]:y.find.matches(e,y.grep(t,(function(e){return 1===e.nodeType})))},y.fn.extend({find:function(e){var t,i,n=this.length,s=this;if("string"!=typeof e)return this.pushStack(y(e).filter((function(){for(t=0;t<n;t++)if(y.contains(s[t],this))return!0})));for(i=this.pushStack([]),t=0;t<n;t++)y.find(e,s[t],i);return n>1?y.uniqueSort(i):i},filter:function(e){return this.pushStack(_(this,e||[],!1))},not:function(e){return this.pushStack(_(this,e||[],!0))},is:function(e){return!!_(this,"string"==typeof e&&B.test(e)?y(e):e||[],!1).length}});var M,S=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(y.fn.init=function(e,t,i){var n,s;if(!e)return this;if(i=i||M,"string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:S.exec(e))||!n[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof y?t[0]:t,y.merge(this,y.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:f,!0)),E.test(n[1])&&y.isPlainObject(t))for(n in t)p(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(s=f.getElementById(n[2]))&&(this[0]=s,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):p(e)?void 0!==i.ready?i.ready(e):e(y):y.makeArray(e,this)}).prototype=y.fn,M=y(f);var F=/^(?:parents|prev(?:Until|All))/,T={children:!0,contents:!0,next:!0,prev:!0};function k(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}y.fn.extend({has:function(e){var t=y(e,this),i=t.length;return this.filter((function(){for(var e=0;e<i;e++)if(y.contains(this,t[e]))return!0}))},closest:function(e,t){var i,n=0,s=this.length,a=[],o="string"!=typeof e&&y(e);if(!B.test(e))for(;n<s;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&y.find.matchesSelector(i,e))){a.push(i);break}return this.pushStack(a.length>1?y.uniqueSort(a):a)},index:function(e){return e?"string"==typeof e?r.call(y(e),this[0]):r.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(y.uniqueSort(y.merge(this.get(),y(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),y.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return x(e,"parentNode")},parentsUntil:function(e,t,i){return x(e,"parentNode",i)},next:function(e){return k(e,"nextSibling")},prev:function(e){return k(e,"previousSibling")},nextAll:function(e){return x(e,"nextSibling")},prevAll:function(e){return x(e,"previousSibling")},nextUntil:function(e,t,i){return x(e,"nextSibling",i)},prevUntil:function(e,t,i){return x(e,"previousSibling",i)},siblings:function(e){return C((e.parentNode||{}).firstChild,e)},children:function(e){return C(e.firstChild)},contents:function(e){return null!=e.contentDocument&&n(e.contentDocument)?e.contentDocument:(P(e,"template")&&(e=e.content||e),y.merge([],e.childNodes))}},(function(e,t){y.fn[e]=function(i,n){var s=y.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(s=y.filter(n,s)),this.length>1&&(T[e]||y.uniqueSort(s),F.test(e)&&s.reverse()),this.pushStack(s)}}));var I=/[^\x20\t\r\n\f]+/g;function L(e){return e}function O(e){throw e}function R(e,t,i,n){var s;try{e&&p(s=e.promise)?s.call(e).done(t).fail(i):e&&p(s=e.then)?s.call(e,t,i):t.apply(void 0,[e].slice(n))}catch(e){i.apply(void 0,[e])}}y.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return y.each(e.match(I)||[],(function(e,i){t[i]=!0})),t}(e):y.extend({},e);var t,i,n,s,a=[],o=[],r=-1,l=function(){for(s=s||e.once,n=t=!0;o.length;r=-1)for(i=o.shift();++r<a.length;)!1===a[r].apply(i[0],i[1])&&e.stopOnFalse&&(r=a.length,i=!1);e.memory||(i=!1),t=!1,s&&(a=i?[]:"")},c={add:function(){return a&&(i&&!t&&(r=a.length-1,o.push(i)),function t(i){y.each(i,(function(i,n){p(n)?e.unique&&c.has(n)||a.push(n):n&&n.length&&"string"!==w(n)&&t(n)}))}(arguments),i&&!t&&l()),this},remove:function(){return y.each(arguments,(function(e,t){for(var i;(i=y.inArray(t,a,i))>-1;)a.splice(i,1),i<=r&&r--})),this},has:function(e){return e?y.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return s=o=[],a=i="",this},disabled:function(){return!a},lock:function(){return s=o=[],i||t||(a=i=""),this},locked:function(){return!!s},fireWith:function(e,i){return s||(i=[e,(i=i||[]).slice?i.slice():i],o.push(i),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},y.extend({Deferred:function(t){var i=[["notify","progress",y.Callbacks("memory"),y.Callbacks("memory"),2],["resolve","done",y.Callbacks("once memory"),y.Callbacks("once memory"),0,"resolved"],["reject","fail",y.Callbacks("once memory"),y.Callbacks("once memory"),1,"rejected"]],n="pending",s={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},catch:function(e){return s.then(null,e)},pipe:function(){var e=arguments;return y.Deferred((function(t){y.each(i,(function(i,n){var s=p(e[n[4]])&&e[n[4]];a[n[1]]((function(){var e=s&&s.apply(this,arguments);e&&p(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[n[0]+"With"](this,s?[e]:arguments)}))})),e=null})).promise()},then:function(t,n,s){var a=0;function o(t,i,n,s){return function(){var r=this,l=arguments,c=function(){var e,c;if(!(t<a)){if((e=n.apply(r,l))===i.promise())throw new TypeError("Thenable self-resolution");c=e&&("object"==typeof e||"function"==typeof e)&&e.then,p(c)?s?c.call(e,o(a,i,L,s),o(a,i,O,s)):(a++,c.call(e,o(a,i,L,s),o(a,i,O,s),o(a,i,L,i.notifyWith))):(n!==L&&(r=void 0,l=[e]),(s||i.resolveWith)(r,l))}},u=s?c:function(){try{c()}catch(e){y.Deferred.exceptionHook&&y.Deferred.exceptionHook(e,u.stackTrace),t+1>=a&&(n!==O&&(r=void 0,l=[e]),i.rejectWith(r,l))}};t?u():(y.Deferred.getStackHook&&(u.stackTrace=y.Deferred.getStackHook()),e.setTimeout(u))}}return y.Deferred((function(e){i[0][3].add(o(0,e,p(s)?s:L,e.notifyWith)),i[1][3].add(o(0,e,p(t)?t:L)),i[2][3].add(o(0,e,p(n)?n:O))})).promise()},promise:function(e){return null!=e?y.extend(e,s):s}},a={};return y.each(i,(function(e,t){var o=t[2],r=t[5];s[t[1]]=o.add,r&&o.add((function(){n=r}),i[3-e][2].disable,i[3-e][3].disable,i[0][2].lock,i[0][3].lock),o.add(t[3].fire),a[t[0]]=function(){return a[t[0]+"With"](this===a?void 0:this,arguments),this},a[t[0]+"With"]=o.fireWith})),s.promise(a),t&&t.call(a,a),a},when:function(e){var t=arguments.length,i=t,n=Array(i),a=s.call(arguments),o=y.Deferred(),r=function(e){return function(i){n[e]=this,a[e]=arguments.length>1?s.call(arguments):i,--t||o.resolveWith(n,a)}};if(t<=1&&(R(e,o.done(r(i)).resolve,o.reject,!t),"pending"===o.state()||p(a[i]&&a[i].then)))return o.then();for(;i--;)R(a[i],r(i),o.reject);return o.promise()}});var N=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;y.Deferred.exceptionHook=function(t,i){e.console&&e.console.warn&&t&&N.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,i)},y.readyException=function(t){e.setTimeout((function(){throw t}))};var H=y.Deferred();function Q(){f.removeEventListener("DOMContentLoaded",Q),e.removeEventListener("load",Q),y.ready()}y.fn.ready=function(e){return H.then(e).catch((function(e){y.readyException(e)})),this},y.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--y.readyWait:y.isReady)||(y.isReady=!0,!0!==e&&--y.readyWait>0||H.resolveWith(f,[y]))}}),y.ready.then=H.then,"complete"===f.readyState||"loading"!==f.readyState&&!f.documentElement.doScroll?e.setTimeout(y.ready):(f.addEventListener("DOMContentLoaded",Q),e.addEventListener("load",Q));var j=function(e,t,i,n,s,a,o){var r=0,l=e.length,c=null==i;if("object"===w(i))for(r in s=!0,i)j(e,t,r,i[r],!0,a,o);else if(void 0!==n&&(s=!0,p(n)||(o=!0),c&&(o?(t.call(e,n),t=null):(c=t,t=function(e,t,i){return c.call(y(e),i)})),t))for(;r<l;r++)t(e[r],i,o?n:n.call(e[r],r,t(e[r],i)));return s?e:c?t.call(e):l?t(e[0],i):a},z=/^-ms-/,U=/-([a-z])/g;function W(e,t){return t.toUpperCase()}function G(e){return e.replace(z,"ms-").replace(U,W)}var Y=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function q(){this.expando=y.expando+q.uid++}q.uid=1,q.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Y(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,i){var n,s=this.cache(e);if("string"==typeof t)s[G(t)]=i;else for(n in t)s[G(n)]=t[n];return s},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][G(t)]},access:function(e,t,i){return void 0===t||t&&"string"==typeof t&&void 0===i?this.get(e,t):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,n=e[this.expando];if(void 0!==n){if(void 0!==t){i=(t=Array.isArray(t)?t.map(G):(t=G(t))in n?[t]:t.match(I)||[]).length;for(;i--;)delete n[t[i]]}(void 0===t||y.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!y.isEmptyObject(t)}};var V=new q,X=new q,Z=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,J=/[A-Z]/g;function K(e,t,i){var n;if(void 0===i&&1===e.nodeType)if(n="data-"+t.replace(J,"-$&").toLowerCase(),"string"==typeof(i=e.getAttribute(n))){try{i=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Z.test(e)?JSON.parse(e):e)}(i)}catch(e){}X.set(e,t,i)}else i=void 0;return i}y.extend({hasData:function(e){return X.hasData(e)||V.hasData(e)},data:function(e,t,i){return X.access(e,t,i)},removeData:function(e,t){X.remove(e,t)},_data:function(e,t,i){return V.access(e,t,i)},_removeData:function(e,t){V.remove(e,t)}}),y.fn.extend({data:function(e,t){var i,n,s,a=this[0],o=a&&a.attributes;if(void 0===e){if(this.length&&(s=X.get(a),1===a.nodeType&&!V.get(a,"hasDataAttrs"))){for(i=o.length;i--;)o[i]&&0===(n=o[i].name).indexOf("data-")&&(n=G(n.slice(5)),K(a,n,s[n]));V.set(a,"hasDataAttrs",!0)}return s}return"object"==typeof e?this.each((function(){X.set(this,e)})):j(this,(function(t){var i;if(a&&void 0===t)return void 0!==(i=X.get(a,e))||void 0!==(i=K(a,e))?i:void 0;this.each((function(){X.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){X.remove(this,e)}))}}),y.extend({queue:function(e,t,i){var n;if(e)return t=(t||"fx")+"queue",n=V.get(e,t),i&&(!n||Array.isArray(i)?n=V.access(e,t,y.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){t=t||"fx";var i=y.queue(e,t),n=i.length,s=i.shift(),a=y._queueHooks(e,t);"inprogress"===s&&(s=i.shift(),n--),s&&("fx"===t&&i.unshift("inprogress"),delete a.stop,s.call(e,(function(){y.dequeue(e,t)}),a)),!n&&a&&a.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return V.get(e,i)||V.access(e,i,{empty:y.Callbacks("once memory").add((function(){V.remove(e,[t+"queue",i])}))})}}),y.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?y.queue(this[0],e):void 0===t?this:this.each((function(){var i=y.queue(this,e,t);y._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&y.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){y.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,s=y.Deferred(),a=this,o=this.length,r=function(){--n||s.resolveWith(a,[a])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)(i=V.get(a[o],e+"queueHooks"))&&i.empty&&(n++,i.empty.add(r));return r(),s.promise(t)}});var $=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ee=new RegExp("^(?:([+-])=|)("+$+")([a-z%]*)$","i"),te=["Top","Right","Bottom","Left"],ie=f.documentElement,ne=function(e){return y.contains(e.ownerDocument,e)},se={composed:!0};ie.getRootNode&&(ne=function(e){return y.contains(e.ownerDocument,e)||e.getRootNode(se)===e.ownerDocument});var ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ne(e)&&"none"===y.css(e,"display")};function oe(e,t,i,n){var s,a,o=20,r=n?function(){return n.cur()}:function(){return y.css(e,t,"")},l=r(),c=i&&i[3]||(y.cssNumber[t]?"":"px"),u=e.nodeType&&(y.cssNumber[t]||"px"!==c&&+l)&&ee.exec(y.css(e,t));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;o--;)y.style(e,t,u+c),(1-a)*(1-(a=r()/l||.5))<=0&&(o=0),u/=a;u*=2,y.style(e,t,u+c),i=i||[]}return i&&(u=+u||+l||0,s=i[1]?u+(i[1]+1)*i[2]:+i[2],n&&(n.unit=c,n.start=u,n.end=s)),s}var re={};function le(e){var t,i=e.ownerDocument,n=e.nodeName,s=re[n];return s||(t=i.body.appendChild(i.createElement(n)),s=y.css(t,"display"),t.parentNode.removeChild(t),"none"===s&&(s="block"),re[n]=s,s)}function ce(e,t){for(var i,n,s=[],a=0,o=e.length;a<o;a++)(n=e[a]).style&&(i=n.style.display,t?("none"===i&&(s[a]=V.get(n,"display")||null,s[a]||(n.style.display="")),""===n.style.display&&ae(n)&&(s[a]=le(n))):"none"!==i&&(s[a]="none",V.set(n,"display",i)));for(a=0;a<o;a++)null!=s[a]&&(e[a].style.display=s[a]);return e}y.fn.extend({show:function(){return ce(this,!0)},hide:function(){return ce(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){ae(this)?y(this).show():y(this).hide()}))}});var ue,he,Ae=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,pe=/^$|^module$|\/(?:java|ecma)script/i;ue=f.createDocumentFragment().appendChild(f.createElement("div")),(he=f.createElement("input")).setAttribute("type","radio"),he.setAttribute("checked","checked"),he.setAttribute("name","t"),ue.appendChild(he),d.checkClone=ue.cloneNode(!0).cloneNode(!0).lastChild.checked,ue.innerHTML="<textarea>x</textarea>",d.noCloneChecked=!!ue.cloneNode(!0).lastChild.defaultValue,ue.innerHTML="<option></option>",d.option=!!ue.lastChild;var ge={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function fe(e,t){var i;return i=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&P(e,t)?y.merge([e],i):i}function me(e,t){for(var i=0,n=e.length;i<n;i++)V.set(e[i],"globalEval",!t||V.get(t[i],"globalEval"))}ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td,d.option||(ge.optgroup=ge.option=[1,"<select multiple='multiple'>","</select>"]);var ve=/<|&#?\w+;/;function we(e,t,i,n,s){for(var a,o,r,l,c,u,h=t.createDocumentFragment(),A=[],d=0,p=e.length;d<p;d++)if((a=e[d])||0===a)if("object"===w(a))y.merge(A,a.nodeType?[a]:a);else if(ve.test(a)){for(o=o||h.appendChild(t.createElement("div")),r=(de.exec(a)||["",""])[1].toLowerCase(),l=ge[r]||ge._default,o.innerHTML=l[1]+y.htmlPrefilter(a)+l[2],u=l[0];u--;)o=o.lastChild;y.merge(A,o.childNodes),(o=h.firstChild).textContent=""}else A.push(t.createTextNode(a));for(h.textContent="",d=0;a=A[d++];)if(n&&y.inArray(a,n)>-1)s&&s.push(a);else if(c=ne(a),o=fe(h.appendChild(a),"script"),c&&me(o),i)for(u=0;a=o[u++];)pe.test(a.type||"")&&i.push(a);return h}var ye=/^key/,De=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,be=/^([^.]*)(?:\.(.+)|)/;function xe(){return!0}function Ce(){return!1}function Be(e,t){return e===function(){try{return f.activeElement}catch(e){}}()==("focus"===t)}function Pe(e,t,i,n,s,a){var o,r;if("object"==typeof t){for(r in"string"!=typeof i&&(n=n||i,i=void 0),t)Pe(e,r,i,n,t[r],a);return e}if(null==n&&null==s?(s=i,n=i=void 0):null==s&&("string"==typeof i?(s=n,n=void 0):(s=n,n=i,i=void 0)),!1===s)s=Ce;else if(!s)return e;return 1===a&&(o=s,(s=function(e){return y().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=y.guid++)),e.each((function(){y.event.add(this,t,s,n,i)}))}function Ee(e,t,i){i?(V.set(e,t,!1),y.event.add(e,t,{namespace:!1,handler:function(e){var n,a,o=V.get(this,t);if(1&e.isTrigger&&this[t]){if(o.length)(y.event.special[t]||{}).delegateType&&e.stopPropagation();else if(o=s.call(arguments),V.set(this,t,o),n=i(this,t),this[t](),o!==(a=V.get(this,t))||n?V.set(this,t,!1):a={},o!==a)return e.stopImmediatePropagation(),e.preventDefault(),a.value}else o.length&&(V.set(this,t,{value:y.event.trigger(y.extend(o[0],y.Event.prototype),o.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===V.get(e,t)&&y.event.add(e,t,xe)}y.event={global:{},add:function(e,t,i,n,s){var a,o,r,l,c,u,h,A,d,p,g,f=V.get(e);if(Y(e))for(i.handler&&(i=(a=i).handler,s=a.selector),s&&y.find.matchesSelector(ie,s),i.guid||(i.guid=y.guid++),(l=f.events)||(l=f.events=Object.create(null)),(o=f.handle)||(o=f.handle=function(t){return void 0!==y&&y.event.triggered!==t.type?y.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(I)||[""]).length;c--;)d=g=(r=be.exec(t[c])||[])[1],p=(r[2]||"").split(".").sort(),d&&(h=y.event.special[d]||{},d=(s?h.delegateType:h.bindType)||d,h=y.event.special[d]||{},u=y.extend({type:d,origType:g,data:n,handler:i,guid:i.guid,selector:s,needsContext:s&&y.expr.match.needsContext.test(s),namespace:p.join(".")},a),(A=l[d])||((A=l[d]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,n,p,o)||e.addEventListener&&e.addEventListener(d,o)),h.add&&(h.add.call(e,u),u.handler.guid||(u.handler.guid=i.guid)),s?A.splice(A.delegateCount++,0,u):A.push(u),y.event.global[d]=!0)},remove:function(e,t,i,n,s){var a,o,r,l,c,u,h,A,d,p,g,f=V.hasData(e)&&V.get(e);if(f&&(l=f.events)){for(c=(t=(t||"").match(I)||[""]).length;c--;)if(d=g=(r=be.exec(t[c])||[])[1],p=(r[2]||"").split(".").sort(),d){for(h=y.event.special[d]||{},A=l[d=(n?h.delegateType:h.bindType)||d]||[],r=r[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=A.length;a--;)u=A[a],!s&&g!==u.origType||i&&i.guid!==u.guid||r&&!r.test(u.namespace)||n&&n!==u.selector&&("**"!==n||!u.selector)||(A.splice(a,1),u.selector&&A.delegateCount--,h.remove&&h.remove.call(e,u));o&&!A.length&&(h.teardown&&!1!==h.teardown.call(e,p,f.handle)||y.removeEvent(e,d,f.handle),delete l[d])}else for(d in l)y.event.remove(e,d+t[c],i,n,!0);y.isEmptyObject(l)&&V.remove(e,"handle events")}},dispatch:function(e){var t,i,n,s,a,o,r=new Array(arguments.length),l=y.event.fix(e),c=(V.get(this,"events")||Object.create(null))[l.type]||[],u=y.event.special[l.type]||{};for(r[0]=l,t=1;t<arguments.length;t++)r[t]=arguments[t];if(l.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,l)){for(o=y.event.handlers.call(this,l,c),t=0;(s=o[t++])&&!l.isPropagationStopped();)for(l.currentTarget=s.elem,i=0;(a=s.handlers[i++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==a.namespace&&!l.rnamespace.test(a.namespace)||(l.handleObj=a,l.data=a.data,void 0!==(n=((y.event.special[a.origType]||{}).handle||a.handler).apply(s.elem,r))&&!1===(l.result=n)&&(l.preventDefault(),l.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,l),l.result}},handlers:function(e,t){var i,n,s,a,o,r=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(a=[],o={},i=0;i<l;i++)void 0===o[s=(n=t[i]).selector+" "]&&(o[s]=n.needsContext?y(s,this).index(c)>-1:y.find(s,this,null,[c]).length),o[s]&&a.push(n);a.length&&r.push({elem:c,handlers:a})}return c=this,l<t.length&&r.push({elem:c,handlers:t.slice(l)}),r},addProp:function(e,t){Object.defineProperty(y.Event.prototype,e,{enumerable:!0,configurable:!0,get:p(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[y.expando]?e:new y.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return Ae.test(t.type)&&t.click&&P(t,"input")&&Ee(t,"click",xe),!1},trigger:function(e){var t=this||e;return Ae.test(t.type)&&t.click&&P(t,"input")&&Ee(t,"click"),!0},_default:function(e){var t=e.target;return Ae.test(t.type)&&t.click&&P(t,"input")&&V.get(t,"click")||P(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},y.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)},y.Event=function(e,t){if(!(this instanceof y.Event))return new y.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?xe:Ce,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&y.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[y.expando]=!0},y.Event.prototype={constructor:y.Event,isDefaultPrevented:Ce,isPropagationStopped:Ce,isImmediatePropagationStopped:Ce,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=xe,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=xe,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=xe,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},y.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&ye.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&De.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},y.event.addProp),y.each({focus:"focusin",blur:"focusout"},(function(e,t){y.event.special[e]={setup:function(){return Ee(this,e,Be),!1},trigger:function(){return Ee(this,e),!0},delegateType:t}})),y.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){y.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,s=e.relatedTarget,a=e.handleObj;return s&&(s===n||y.contains(n,s))||(e.type=a.origType,i=a.handler.apply(this,arguments),e.type=t),i}}})),y.fn.extend({on:function(e,t,i,n){return Pe(this,e,t,i,n)},one:function(e,t,i,n){return Pe(this,e,t,i,n,1)},off:function(e,t,i){var n,s;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,y(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(s in e)this.off(s,t,e[s]);return this}return!1!==t&&"function"!=typeof t||(i=t,t=void 0),!1===i&&(i=Ce),this.each((function(){y.event.remove(this,e,i,t)}))}});var _e=/<script|<style|<link/i,Me=/checked\s*(?:[^=]|=\s*.checked.)/i,Se=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Fe(e,t){return P(e,"table")&&P(11!==t.nodeType?t:t.firstChild,"tr")&&y(e).children("tbody")[0]||e}function Te(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function ke(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Ie(e,t){var i,n,s,a,o,r;if(1===t.nodeType){if(V.hasData(e)&&(r=V.get(e).events))for(s in V.remove(t,"handle events"),r)for(i=0,n=r[s].length;i<n;i++)y.event.add(t,s,r[s][i]);X.hasData(e)&&(a=X.access(e),o=y.extend({},a),X.set(t,o))}}function Le(e,t){var i=t.nodeName.toLowerCase();"input"===i&&Ae.test(e.type)?t.checked=e.checked:"input"!==i&&"textarea"!==i||(t.defaultValue=e.defaultValue)}function Oe(e,t,i,n){t=a(t);var s,o,r,l,c,u,h=0,A=e.length,g=A-1,f=t[0],m=p(f);if(m||A>1&&"string"==typeof f&&!d.checkClone&&Me.test(f))return e.each((function(s){var a=e.eq(s);m&&(t[0]=f.call(this,s,a.html())),Oe(a,t,i,n)}));if(A&&(o=(s=we(t,e[0].ownerDocument,!1,e,n)).firstChild,1===s.childNodes.length&&(s=o),o||n)){for(l=(r=y.map(fe(s,"script"),Te)).length;h<A;h++)c=s,h!==g&&(c=y.clone(c,!0,!0),l&&y.merge(r,fe(c,"script"))),i.call(e[h],c,h);if(l)for(u=r[r.length-1].ownerDocument,y.map(r,ke),h=0;h<l;h++)c=r[h],pe.test(c.type||"")&&!V.access(c,"globalEval")&&y.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?y._evalUrl&&!c.noModule&&y._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},u):v(c.textContent.replace(Se,""),c,u))}return e}function Re(e,t,i){for(var n,s=t?y.filter(t,e):e,a=0;null!=(n=s[a]);a++)i||1!==n.nodeType||y.cleanData(fe(n)),n.parentNode&&(i&&ne(n)&&me(fe(n,"script")),n.parentNode.removeChild(n));return e}y.extend({htmlPrefilter:function(e){return e},clone:function(e,t,i){var n,s,a,o,r=e.cloneNode(!0),l=ne(e);if(!(d.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||y.isXMLDoc(e)))for(o=fe(r),n=0,s=(a=fe(e)).length;n<s;n++)Le(a[n],o[n]);if(t)if(i)for(a=a||fe(e),o=o||fe(r),n=0,s=a.length;n<s;n++)Ie(a[n],o[n]);else Ie(e,r);return(o=fe(r,"script")).length>0&&me(o,!l&&fe(e,"script")),r},cleanData:function(e){for(var t,i,n,s=y.event.special,a=0;void 0!==(i=e[a]);a++)if(Y(i)){if(t=i[V.expando]){if(t.events)for(n in t.events)s[n]?y.event.remove(i,n):y.removeEvent(i,n,t.handle);i[V.expando]=void 0}i[X.expando]&&(i[X.expando]=void 0)}}}),y.fn.extend({detach:function(e){return Re(this,e,!0)},remove:function(e){return Re(this,e)},text:function(e){return j(this,(function(e){return void 0===e?y.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Oe(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Fe(this,e).appendChild(e)}))},prepend:function(){return Oe(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Fe(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Oe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Oe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(y.cleanData(fe(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return y.clone(this,e,t)}))},html:function(e){return j(this,(function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!_e.test(e)&&!ge[(de.exec(e)||["",""])[1].toLowerCase()]){e=y.htmlPrefilter(e);try{for(;i<n;i++)1===(t=this[i]||{}).nodeType&&(y.cleanData(fe(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Oe(this,arguments,(function(t){var i=this.parentNode;y.inArray(this,e)<0&&(y.cleanData(fe(this)),i&&i.replaceChild(t,this))}),e)}}),y.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){y.fn[e]=function(e){for(var i,n=[],s=y(e),a=s.length-1,r=0;r<=a;r++)i=r===a?this:this.clone(!0),y(s[r])[t](i),o.apply(n,i.get());return this.pushStack(n)}}));var Ne=new RegExp("^("+$+")(?!px)[a-z%]+$","i"),He=function(t){var i=t.ownerDocument.defaultView;return i&&i.opener||(i=e),i.getComputedStyle(t)},Qe=function(e,t,i){var n,s,a={};for(s in t)a[s]=e.style[s],e.style[s]=t[s];for(s in n=i.call(e),t)e.style[s]=a[s];return n},je=new RegExp(te.join("|"),"i");function ze(e,t,i){var n,s,a,o,r=e.style;return(i=i||He(e))&&(""!==(o=i.getPropertyValue(t)||i[t])||ne(e)||(o=y.style(e,t)),!d.pixelBoxStyles()&&Ne.test(o)&&je.test(t)&&(n=r.width,s=r.minWidth,a=r.maxWidth,r.minWidth=r.maxWidth=r.width=o,o=i.width,r.width=n,r.minWidth=s,r.maxWidth=a)),void 0!==o?o+"":o}function Ue(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ie.appendChild(c).appendChild(u);var t=e.getComputedStyle(u);n="1%"!==t.top,l=12===i(t.marginLeft),u.style.right="60%",o=36===i(t.right),s=36===i(t.width),u.style.position="absolute",a=12===i(u.offsetWidth/3),ie.removeChild(c),u=null}}function i(e){return Math.round(parseFloat(e))}var n,s,a,o,r,l,c=f.createElement("div"),u=f.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",d.clearCloneStyle="content-box"===u.style.backgroundClip,y.extend(d,{boxSizingReliable:function(){return t(),s},pixelBoxStyles:function(){return t(),o},pixelPosition:function(){return t(),n},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),a},reliableTrDimensions:function(){var t,i,n,s;return null==r&&(t=f.createElement("table"),i=f.createElement("tr"),n=f.createElement("div"),t.style.cssText="position:absolute;left:-11111px",i.style.height="1px",n.style.height="9px",ie.appendChild(t).appendChild(i).appendChild(n),s=e.getComputedStyle(i),r=parseInt(s.height)>3,ie.removeChild(t)),r}}))}();var We=["Webkit","Moz","ms"],Ge=f.createElement("div").style,Ye={};function qe(e){var t=y.cssProps[e]||Ye[e];return t||(e in Ge?e:Ye[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),i=We.length;i--;)if((e=We[i]+t)in Ge)return e}(e)||e)}var Ve=/^(none|table(?!-c[ea]).+)/,Xe=/^--/,Ze={position:"absolute",visibility:"hidden",display:"block"},Je={letterSpacing:"0",fontWeight:"400"};function Ke(e,t,i){var n=ee.exec(t);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):t}function $e(e,t,i,n,s,a){var o="width"===t?1:0,r=0,l=0;if(i===(n?"border":"content"))return 0;for(;o<4;o+=2)"margin"===i&&(l+=y.css(e,i+te[o],!0,s)),n?("content"===i&&(l-=y.css(e,"padding"+te[o],!0,s)),"margin"!==i&&(l-=y.css(e,"border"+te[o]+"Width",!0,s))):(l+=y.css(e,"padding"+te[o],!0,s),"padding"!==i?l+=y.css(e,"border"+te[o]+"Width",!0,s):r+=y.css(e,"border"+te[o]+"Width",!0,s));return!n&&a>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-a-l-r-.5))||0),l}function et(e,t,i){var n=He(e),s=(!d.boxSizingReliable()||i)&&"border-box"===y.css(e,"boxSizing",!1,n),a=s,o=ze(e,t,n),r="offset"+t[0].toUpperCase()+t.slice(1);if(Ne.test(o)){if(!i)return o;o="auto"}return(!d.boxSizingReliable()&&s||!d.reliableTrDimensions()&&P(e,"tr")||"auto"===o||!parseFloat(o)&&"inline"===y.css(e,"display",!1,n))&&e.getClientRects().length&&(s="border-box"===y.css(e,"boxSizing",!1,n),(a=r in e)&&(o=e[r])),(o=parseFloat(o)||0)+$e(e,t,i||(s?"border":"content"),a,n,o)+"px"}function tt(e,t,i,n,s){return new tt.prototype.init(e,t,i,n,s)}y.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=ze(e,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var s,a,o,r=G(t),l=Xe.test(t),c=e.style;if(l||(t=qe(r)),o=y.cssHooks[t]||y.cssHooks[r],void 0===i)return o&&"get"in o&&void 0!==(s=o.get(e,!1,n))?s:c[t];"string"===(a=typeof i)&&(s=ee.exec(i))&&s[1]&&(i=oe(e,t,s),a="number"),null!=i&&i==i&&("number"!==a||l||(i+=s&&s[3]||(y.cssNumber[r]?"":"px")),d.clearCloneStyle||""!==i||0!==t.indexOf("background")||(c[t]="inherit"),o&&"set"in o&&void 0===(i=o.set(e,i,n))||(l?c.setProperty(t,i):c[t]=i))}},css:function(e,t,i,n){var s,a,o,r=G(t);return Xe.test(t)||(t=qe(r)),(o=y.cssHooks[t]||y.cssHooks[r])&&"get"in o&&(s=o.get(e,!0,i)),void 0===s&&(s=ze(e,t,n)),"normal"===s&&t in Je&&(s=Je[t]),""===i||i?(a=parseFloat(s),!0===i||isFinite(a)?a||0:s):s}}),y.each(["height","width"],(function(e,t){y.cssHooks[t]={get:function(e,i,n){if(i)return!Ve.test(y.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?et(e,t,n):Qe(e,Ze,(function(){return et(e,t,n)}))},set:function(e,i,n){var s,a=He(e),o=!d.scrollboxSize()&&"absolute"===a.position,r=(o||n)&&"border-box"===y.css(e,"boxSizing",!1,a),l=n?$e(e,t,n,r,a):0;return r&&o&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(a[t])-$e(e,t,"border",!1,a)-.5)),l&&(s=ee.exec(i))&&"px"!==(s[3]||"px")&&(e.style[t]=i,i=y.css(e,t)),Ke(0,i,l)}}})),y.cssHooks.marginLeft=Ue(d.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(ze(e,"marginLeft"))||e.getBoundingClientRect().left-Qe(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),y.each({margin:"",padding:"",border:"Width"},(function(e,t){y.cssHooks[e+t]={expand:function(i){for(var n=0,s={},a="string"==typeof i?i.split(" "):[i];n<4;n++)s[e+te[n]+t]=a[n]||a[n-2]||a[0];return s}},"margin"!==e&&(y.cssHooks[e+t].set=Ke)})),y.fn.extend({css:function(e,t){return j(this,(function(e,t,i){var n,s,a={},o=0;if(Array.isArray(t)){for(n=He(e),s=t.length;o<s;o++)a[t[o]]=y.css(e,t[o],!1,n);return a}return void 0!==i?y.style(e,t,i):y.css(e,t)}),e,t,arguments.length>1)}}),y.Tween=tt,tt.prototype={constructor:tt,init:function(e,t,i,n,s,a){this.elem=e,this.prop=i,this.easing=s||y.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=a||(y.cssNumber[i]?"":"px")},cur:function(){var e=tt.propHooks[this.prop];return e&&e.get?e.get(this):tt.propHooks._default.get(this)},run:function(e){var t,i=tt.propHooks[this.prop];return this.options.duration?this.pos=t=y.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):tt.propHooks._default.set(this),this}},tt.prototype.init.prototype=tt.prototype,tt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=y.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){y.fx.step[e.prop]?y.fx.step[e.prop](e):1!==e.elem.nodeType||!y.cssHooks[e.prop]&&null==e.elem.style[qe(e.prop)]?e.elem[e.prop]=e.now:y.style(e.elem,e.prop,e.now+e.unit)}}},tt.propHooks.scrollTop=tt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},y.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},y.fx=tt.prototype.init,y.fx.step={};var it,nt,st=/^(?:toggle|show|hide)$/,at=/queueHooks$/;function ot(){nt&&(!1===f.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(ot):e.setTimeout(ot,y.fx.interval),y.fx.tick())}function rt(){return e.setTimeout((function(){it=void 0})),it=Date.now()}function lt(e,t){var i,n=0,s={height:e};for(t=t?1:0;n<4;n+=2-t)s["margin"+(i=te[n])]=s["padding"+i]=e;return t&&(s.opacity=s.width=e),s}function ct(e,t,i){for(var n,s=(ut.tweeners[t]||[]).concat(ut.tweeners["*"]),a=0,o=s.length;a<o;a++)if(n=s[a].call(i,t,e))return n}function ut(e,t,i){var n,s,a=0,o=ut.prefilters.length,r=y.Deferred().always((function(){delete l.elem})),l=function(){if(s)return!1;for(var t=it||rt(),i=Math.max(0,c.startTime+c.duration-t),n=1-(i/c.duration||0),a=0,o=c.tweens.length;a<o;a++)c.tweens[a].run(n);return r.notifyWith(e,[c,n,i]),n<1&&o?i:(o||r.notifyWith(e,[c,1,0]),r.resolveWith(e,[c]),!1)},c=r.promise({elem:e,props:y.extend({},t),opts:y.extend(!0,{specialEasing:{},easing:y.easing._default},i),originalProperties:t,originalOptions:i,startTime:it||rt(),duration:i.duration,tweens:[],createTween:function(t,i){var n=y.Tween(e,c.opts,t,i,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var i=0,n=t?c.tweens.length:0;if(s)return this;for(s=!0;i<n;i++)c.tweens[i].run(1);return t?(r.notifyWith(e,[c,1,0]),r.resolveWith(e,[c,t])):r.rejectWith(e,[c,t]),this}}),u=c.props;for(!function(e,t){var i,n,s,a,o;for(i in e)if(s=t[n=G(i)],a=e[i],Array.isArray(a)&&(s=a[1],a=e[i]=a[0]),i!==n&&(e[n]=a,delete e[i]),(o=y.cssHooks[n])&&"expand"in o)for(i in a=o.expand(a),delete e[n],a)i in e||(e[i]=a[i],t[i]=s);else t[n]=s}(u,c.opts.specialEasing);a<o;a++)if(n=ut.prefilters[a].call(c,e,u,c.opts))return p(n.stop)&&(y._queueHooks(c.elem,c.opts.queue).stop=n.stop.bind(n)),n;return y.map(u,ct,c),p(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),y.fx.timer(y.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}y.Animation=y.extend(ut,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return oe(i.elem,e,ee.exec(t),i),i}]},tweener:function(e,t){p(e)?(t=e,e=["*"]):e=e.match(I);for(var i,n=0,s=e.length;n<s;n++)i=e[n],ut.tweeners[i]=ut.tweeners[i]||[],ut.tweeners[i].unshift(t)},prefilters:[function(e,t,i){var n,s,a,o,r,l,c,u,h="width"in t||"height"in t,A=this,d={},p=e.style,g=e.nodeType&&ae(e),f=V.get(e,"fxshow");for(n in i.queue||(null==(o=y._queueHooks(e,"fx")).unqueued&&(o.unqueued=0,r=o.empty.fire,o.empty.fire=function(){o.unqueued||r()}),o.unqueued++,A.always((function(){A.always((function(){o.unqueued--,y.queue(e,"fx").length||o.empty.fire()}))}))),t)if(s=t[n],st.test(s)){if(delete t[n],a=a||"toggle"===s,s===(g?"hide":"show")){if("show"!==s||!f||void 0===f[n])continue;g=!0}d[n]=f&&f[n]||y.style(e,n)}if((l=!y.isEmptyObject(t))||!y.isEmptyObject(d))for(n in h&&1===e.nodeType&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=f&&f.display)&&(c=V.get(e,"display")),"none"===(u=y.css(e,"display"))&&(c?u=c:(ce([e],!0),c=e.style.display||c,u=y.css(e,"display"),ce([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===y.css(e,"float")&&(l||(A.done((function(){p.display=c})),null==c&&(u=p.display,c="none"===u?"":u)),p.display="inline-block")),i.overflow&&(p.overflow="hidden",A.always((function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]}))),l=!1,d)l||(f?"hidden"in f&&(g=f.hidden):f=V.access(e,"fxshow",{display:c}),a&&(f.hidden=!g),g&&ce([e],!0),A.done((function(){for(n in g||ce([e]),V.remove(e,"fxshow"),d)y.style(e,n,d[n])}))),l=ct(g?f[n]:0,n,A),n in f||(f[n]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?ut.prefilters.unshift(e):ut.prefilters.push(e)}}),y.speed=function(e,t,i){var n=e&&"object"==typeof e?y.extend({},e):{complete:i||!i&&t||p(e)&&e,duration:e,easing:i&&t||t&&!p(t)&&t};return y.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in y.fx.speeds?n.duration=y.fx.speeds[n.duration]:n.duration=y.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){p(n.old)&&n.old.call(this),n.queue&&y.dequeue(this,n.queue)},n},y.fn.extend({fadeTo:function(e,t,i,n){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var s=y.isEmptyObject(e),a=y.speed(t,i,n),o=function(){var t=ut(this,y.extend({},e),a);(s||V.get(this,"finish"))&&t.stop(!0)};return o.finish=o,s||!1===a.queue?this.each(o):this.queue(a.queue,o)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,s=null!=e&&e+"queueHooks",a=y.timers,o=V.get(this);if(s)o[s]&&o[s].stop&&n(o[s]);else for(s in o)o[s]&&o[s].stop&&at.test(s)&&n(o[s]);for(s=a.length;s--;)a[s].elem!==this||null!=e&&a[s].queue!==e||(a[s].anim.stop(i),t=!1,a.splice(s,1));!t&&i||y.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,i=V.get(this),n=i[e+"queue"],s=i[e+"queueHooks"],a=y.timers,o=n?n.length:0;for(i.finish=!0,y.queue(this,e,[]),s&&s.stop&&s.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;t<o;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish}))}}),y.each(["toggle","show","hide"],(function(e,t){var i=y.fn[t];y.fn[t]=function(e,n,s){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(lt(t,!0),e,n,s)}})),y.each({slideDown:lt("show"),slideUp:lt("hide"),slideToggle:lt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){y.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}})),y.timers=[],y.fx.tick=function(){var e,t=0,i=y.timers;for(it=Date.now();t<i.length;t++)(e=i[t])()||i[t]!==e||i.splice(t--,1);i.length||y.fx.stop(),it=void 0},y.fx.timer=function(e){y.timers.push(e),y.fx.start()},y.fx.interval=13,y.fx.start=function(){nt||(nt=!0,ot())},y.fx.stop=function(){nt=null},y.fx.speeds={slow:600,fast:200,_default:400},y.fn.delay=function(t,i){return t=y.fx&&y.fx.speeds[t]||t,i=i||"fx",this.queue(i,(function(i,n){var s=e.setTimeout(i,t);n.stop=function(){e.clearTimeout(s)}}))},function(){var e=f.createElement("input"),t=f.createElement("select").appendChild(f.createElement("option"));e.type="checkbox",d.checkOn=""!==e.value,d.optSelected=t.selected,(e=f.createElement("input")).value="t",e.type="radio",d.radioValue="t"===e.value}();var ht,At=y.expr.attrHandle;y.fn.extend({attr:function(e,t){return j(this,y.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){y.removeAttr(this,e)}))}}),y.extend({attr:function(e,t,i){var n,s,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===e.getAttribute?y.prop(e,t,i):(1===a&&y.isXMLDoc(e)||(s=y.attrHooks[t.toLowerCase()]||(y.expr.match.bool.test(t)?ht:void 0)),void 0!==i?null===i?void y.removeAttr(e,t):s&&"set"in s&&void 0!==(n=s.set(e,i,t))?n:(e.setAttribute(t,i+""),i):s&&"get"in s&&null!==(n=s.get(e,t))?n:null==(n=y.find.attr(e,t))?void 0:n)},attrHooks:{type:{set:function(e,t){if(!d.radioValue&&"radio"===t&&P(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,n=0,s=t&&t.match(I);if(s&&1===e.nodeType)for(;i=s[n++];)e.removeAttribute(i)}}),ht={set:function(e,t,i){return!1===t?y.removeAttr(e,i):e.setAttribute(i,i),i}},y.each(y.expr.match.bool.source.match(/\w+/g),(function(e,t){var i=At[t]||y.find.attr;At[t]=function(e,t,n){var s,a,o=t.toLowerCase();return n||(a=At[o],At[o]=s,s=null!=i(e,t,n)?o:null,At[o]=a),s}}));var dt=/^(?:input|select|textarea|button)$/i,pt=/^(?:a|area)$/i;function gt(e){return(e.match(I)||[]).join(" ")}function ft(e){return e.getAttribute&&e.getAttribute("class")||""}function mt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(I)||[]}y.fn.extend({prop:function(e,t){return j(this,y.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[y.propFix[e]||e]}))}}),y.extend({prop:function(e,t,i){var n,s,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&y.isXMLDoc(e)||(t=y.propFix[t]||t,s=y.propHooks[t]),void 0!==i?s&&"set"in s&&void 0!==(n=s.set(e,i,t))?n:e[t]=i:s&&"get"in s&&null!==(n=s.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=y.find.attr(e,"tabindex");return t?parseInt(t,10):dt.test(e.nodeName)||pt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),d.optSelected||(y.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),y.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){y.propFix[this.toLowerCase()]=this})),y.fn.extend({addClass:function(e){var t,i,n,s,a,o,r,l=0;if(p(e))return this.each((function(t){y(this).addClass(e.call(this,t,ft(this)))}));if((t=mt(e)).length)for(;i=this[l++];)if(s=ft(i),n=1===i.nodeType&&" "+gt(s)+" "){for(o=0;a=t[o++];)n.indexOf(" "+a+" ")<0&&(n+=a+" ");s!==(r=gt(n))&&i.setAttribute("class",r)}return this},removeClass:function(e){var t,i,n,s,a,o,r,l=0;if(p(e))return this.each((function(t){y(this).removeClass(e.call(this,t,ft(this)))}));if(!arguments.length)return this.attr("class","");if((t=mt(e)).length)for(;i=this[l++];)if(s=ft(i),n=1===i.nodeType&&" "+gt(s)+" "){for(o=0;a=t[o++];)for(;n.indexOf(" "+a+" ")>-1;)n=n.replace(" "+a+" "," ");s!==(r=gt(n))&&i.setAttribute("class",r)}return this},toggleClass:function(e,t){var i=typeof e,n="string"===i||Array.isArray(e);return"boolean"==typeof t&&n?t?this.addClass(e):this.removeClass(e):p(e)?this.each((function(i){y(this).toggleClass(e.call(this,i,ft(this),t),t)})):this.each((function(){var t,s,a,o;if(n)for(s=0,a=y(this),o=mt(e);t=o[s++];)a.hasClass(t)?a.removeClass(t):a.addClass(t);else void 0!==e&&"boolean"!==i||((t=ft(this))&&V.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":V.get(this,"__className__")||""))}))},hasClass:function(e){var t,i,n=0;for(t=" "+e+" ";i=this[n++];)if(1===i.nodeType&&(" "+gt(ft(i))+" ").indexOf(t)>-1)return!0;return!1}});var vt=/\r/g;y.fn.extend({val:function(e){var t,i,n,s=this[0];return arguments.length?(n=p(e),this.each((function(i){var s;1===this.nodeType&&(null==(s=n?e.call(this,i,y(this).val()):e)?s="":"number"==typeof s?s+="":Array.isArray(s)&&(s=y.map(s,(function(e){return null==e?"":e+""}))),(t=y.valHooks[this.type]||y.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,s,"value")||(this.value=s))}))):s?(t=y.valHooks[s.type]||y.valHooks[s.nodeName.toLowerCase()])&&"get"in t&&void 0!==(i=t.get(s,"value"))?i:"string"==typeof(i=s.value)?i.replace(vt,""):null==i?"":i:void 0}}),y.extend({valHooks:{option:{get:function(e){var t=y.find.attr(e,"value");return null!=t?t:gt(y.text(e))}},select:{get:function(e){var t,i,n,s=e.options,a=e.selectedIndex,o="select-one"===e.type,r=o?null:[],l=o?a+1:s.length;for(n=a<0?l:o?a:0;n<l;n++)if(((i=s[n]).selected||n===a)&&!i.disabled&&(!i.parentNode.disabled||!P(i.parentNode,"optgroup"))){if(t=y(i).val(),o)return t;r.push(t)}return r},set:function(e,t){for(var i,n,s=e.options,a=y.makeArray(t),o=s.length;o--;)((n=s[o]).selected=y.inArray(y.valHooks.option.get(n),a)>-1)&&(i=!0);return i||(e.selectedIndex=-1),a}}}}),y.each(["radio","checkbox"],(function(){y.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=y.inArray(y(e).val(),t)>-1}},d.checkOn||(y.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),d.focusin="onfocusin"in e;var wt=/^(?:focusinfocus|focusoutblur)$/,yt=function(e){e.stopPropagation()};y.extend(y.event,{trigger:function(t,i,n,s){var a,o,r,l,c,h,A,d,m=[n||f],v=u.call(t,"type")?t.type:t,w=u.call(t,"namespace")?t.namespace.split("."):[];if(o=d=r=n=n||f,3!==n.nodeType&&8!==n.nodeType&&!wt.test(v+y.event.triggered)&&(v.indexOf(".")>-1&&(w=v.split("."),v=w.shift(),w.sort()),c=v.indexOf(":")<0&&"on"+v,(t=t[y.expando]?t:new y.Event(v,"object"==typeof t&&t)).isTrigger=s?2:3,t.namespace=w.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+w.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),i=null==i?[t]:y.makeArray(i,[t]),A=y.event.special[v]||{},s||!A.trigger||!1!==A.trigger.apply(n,i))){if(!s&&!A.noBubble&&!g(n)){for(l=A.delegateType||v,wt.test(l+v)||(o=o.parentNode);o;o=o.parentNode)m.push(o),r=o;r===(n.ownerDocument||f)&&m.push(r.defaultView||r.parentWindow||e)}for(a=0;(o=m[a++])&&!t.isPropagationStopped();)d=o,t.type=a>1?l:A.bindType||v,(h=(V.get(o,"events")||Object.create(null))[t.type]&&V.get(o,"handle"))&&h.apply(o,i),(h=c&&o[c])&&h.apply&&Y(o)&&(t.result=h.apply(o,i),!1===t.result&&t.preventDefault());return t.type=v,s||t.isDefaultPrevented()||A._default&&!1!==A._default.apply(m.pop(),i)||!Y(n)||c&&p(n[v])&&!g(n)&&((r=n[c])&&(n[c]=null),y.event.triggered=v,t.isPropagationStopped()&&d.addEventListener(v,yt),n[v](),t.isPropagationStopped()&&d.removeEventListener(v,yt),y.event.triggered=void 0,r&&(n[c]=r)),t.result}},simulate:function(e,t,i){var n=y.extend(new y.Event,i,{type:e,isSimulated:!0});y.event.trigger(n,null,t)}}),y.fn.extend({trigger:function(e,t){return this.each((function(){y.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var i=this[0];if(i)return y.event.trigger(e,t,i,!0)}}),d.focusin||y.each({focus:"focusin",blur:"focusout"},(function(e,t){var i=function(e){y.event.simulate(t,e.target,y.event.fix(e))};y.event.special[t]={setup:function(){var n=this.ownerDocument||this.document||this,s=V.access(n,t);s||n.addEventListener(e,i,!0),V.access(n,t,(s||0)+1)},teardown:function(){var n=this.ownerDocument||this.document||this,s=V.access(n,t)-1;s?V.access(n,t,s):(n.removeEventListener(e,i,!0),V.remove(n,t))}}}));var Dt=e.location,bt={guid:Date.now()},xt=/\?/;y.parseXML=function(t){var i;if(!t||"string"!=typeof t)return null;try{i=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){i=void 0}return i&&!i.getElementsByTagName("parsererror").length||y.error("Invalid XML: "+t),i};var Ct=/\[\]$/,Bt=/\r?\n/g,Pt=/^(?:submit|button|image|reset|file)$/i,Et=/^(?:input|select|textarea|keygen)/i;function _t(e,t,i,n){var s;if(Array.isArray(t))y.each(t,(function(t,s){i||Ct.test(e)?n(e,s):_t(e+"["+("object"==typeof s&&null!=s?t:"")+"]",s,i,n)}));else if(i||"object"!==w(t))n(e,t);else for(s in t)_t(e+"["+s+"]",t[s],i,n)}y.param=function(e,t){var i,n=[],s=function(e,t){var i=p(t)?t():t;n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==i?"":i)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!y.isPlainObject(e))y.each(e,(function(){s(this.name,this.value)}));else for(i in e)_t(i,e[i],t,s);return n.join("&")},y.fn.extend({serialize:function(){return y.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=y.prop(this,"elements");return e?y.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!y(this).is(":disabled")&&Et.test(this.nodeName)&&!Pt.test(e)&&(this.checked||!Ae.test(e))})).map((function(e,t){var i=y(this).val();return null==i?null:Array.isArray(i)?y.map(i,(function(e){return{name:t.name,value:e.replace(Bt,"\r\n")}})):{name:t.name,value:i.replace(Bt,"\r\n")}})).get()}});var Mt=/%20/g,St=/#.*$/,Ft=/([?&])_=[^&]*/,Tt=/^(.*?):[ \t]*([^\r\n]*)$/gm,kt=/^(?:GET|HEAD)$/,It=/^\/\//,Lt={},Ot={},Rt="*/".concat("*"),Nt=f.createElement("a");function Ht(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,s=0,a=t.toLowerCase().match(I)||[];if(p(i))for(;n=a[s++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function Qt(e,t,i,n){var s={},a=e===Ot;function o(r){var l;return s[r]=!0,y.each(e[r]||[],(function(e,r){var c=r(t,i,n);return"string"!=typeof c||a||s[c]?a?!(l=c):void 0:(t.dataTypes.unshift(c),o(c),!1)})),l}return o(t.dataTypes[0])||!s["*"]&&o("*")}function jt(e,t){var i,n,s=y.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((s[i]?e:n||(n={}))[i]=t[i]);return n&&y.extend(!0,e,n),e}Nt.href=Dt.href,y.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Dt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Dt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Rt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":y.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?jt(jt(e,y.ajaxSettings),t):jt(y.ajaxSettings,e)},ajaxPrefilter:Ht(Lt),ajaxTransport:Ht(Ot),ajax:function(t,i){"object"==typeof t&&(i=t,t=void 0),i=i||{};var n,s,a,o,r,l,c,u,h,A,d=y.ajaxSetup({},i),p=d.context||d,g=d.context&&(p.nodeType||p.jquery)?y(p):y.event,m=y.Deferred(),v=y.Callbacks("once memory"),w=d.statusCode||{},D={},b={},x="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(c){if(!o)for(o={};t=Tt.exec(a);)o[t[1].toLowerCase()+" "]=(o[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=o[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(e,t){return null==c&&(e=b[e.toLowerCase()]=b[e.toLowerCase()]||e,D[e]=t),this},overrideMimeType:function(e){return null==c&&(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)C.always(e[C.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||x;return n&&n.abort(t),B(0,t),this}};if(m.promise(C),d.url=((t||d.url||Dt.href)+"").replace(It,Dt.protocol+"//"),d.type=i.method||i.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(I)||[""],null==d.crossDomain){l=f.createElement("a");try{l.href=d.url,l.href=l.href,d.crossDomain=Nt.protocol+"//"+Nt.host!=l.protocol+"//"+l.host}catch(e){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=y.param(d.data,d.traditional)),Qt(Lt,d,i,C),c)return C;for(h in(u=y.event&&d.global)&&0==y.active++&&y.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!kt.test(d.type),s=d.url.replace(St,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Mt,"+")):(A=d.url.slice(s.length),d.data&&(d.processData||"string"==typeof d.data)&&(s+=(xt.test(s)?"&":"?")+d.data,delete d.data),!1===d.cache&&(s=s.replace(Ft,"$1"),A=(xt.test(s)?"&":"?")+"_="+bt.guid+++A),d.url=s+A),d.ifModified&&(y.lastModified[s]&&C.setRequestHeader("If-Modified-Since",y.lastModified[s]),y.etag[s]&&C.setRequestHeader("If-None-Match",y.etag[s])),(d.data&&d.hasContent&&!1!==d.contentType||i.contentType)&&C.setRequestHeader("Content-Type",d.contentType),C.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Rt+"; q=0.01":""):d.accepts["*"]),d.headers)C.setRequestHeader(h,d.headers[h]);if(d.beforeSend&&(!1===d.beforeSend.call(p,C,d)||c))return C.abort();if(x="abort",v.add(d.complete),C.done(d.success),C.fail(d.error),n=Qt(Ot,d,i,C)){if(C.readyState=1,u&&g.trigger("ajaxSend",[C,d]),c)return C;d.async&&d.timeout>0&&(r=e.setTimeout((function(){C.abort("timeout")}),d.timeout));try{c=!1,n.send(D,B)}catch(e){if(c)throw e;B(-1,e)}}else B(-1,"No Transport");function B(t,i,o,l){var h,A,f,D,b,x=i;c||(c=!0,r&&e.clearTimeout(r),n=void 0,a=l||"",C.readyState=t>0?4:0,h=t>=200&&t<300||304===t,o&&(D=function(e,t,i){for(var n,s,a,o,r=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(s in r)if(r[s]&&r[s].test(n)){l.unshift(s);break}if(l[0]in i)a=l[0];else{for(s in i){if(!l[0]||e.converters[s+" "+l[0]]){a=s;break}o||(o=s)}a=a||o}if(a)return a!==l[0]&&l.unshift(a),i[a]}(d,C,o)),!h&&y.inArray("script",d.dataTypes)>-1&&(d.converters["text script"]=function(){}),D=function(e,t,i,n){var s,a,o,r,l,c={},u=e.dataTypes.slice();if(u[1])for(o in e.converters)c[o.toLowerCase()]=e.converters[o];for(a=u.shift();a;)if(e.responseFields[a]&&(i[e.responseFields[a]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=a,a=u.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(!(o=c[l+" "+a]||c["* "+a]))for(s in c)if((r=s.split(" "))[1]===a&&(o=c[l+" "+r[0]]||c["* "+r[0]])){!0===o?o=c[s]:!0!==c[s]&&(a=r[0],u.unshift(r[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+l+" to "+a}}}return{state:"success",data:t}}(d,D,C,h),h?(d.ifModified&&((b=C.getResponseHeader("Last-Modified"))&&(y.lastModified[s]=b),(b=C.getResponseHeader("etag"))&&(y.etag[s]=b)),204===t||"HEAD"===d.type?x="nocontent":304===t?x="notmodified":(x=D.state,A=D.data,h=!(f=D.error))):(f=x,!t&&x||(x="error",t<0&&(t=0))),C.status=t,C.statusText=(i||x)+"",h?m.resolveWith(p,[A,x,C]):m.rejectWith(p,[C,x,f]),C.statusCode(w),w=void 0,u&&g.trigger(h?"ajaxSuccess":"ajaxError",[C,d,h?A:f]),v.fireWith(p,[C,x]),u&&(g.trigger("ajaxComplete",[C,d]),--y.active||y.event.trigger("ajaxStop")))}return C},getJSON:function(e,t,i){return y.get(e,t,i,"json")},getScript:function(e,t){return y.get(e,void 0,t,"script")}}),y.each(["get","post"],(function(e,t){y[t]=function(e,i,n,s){return p(i)&&(s=s||n,n=i,i=void 0),y.ajax(y.extend({url:e,type:t,dataType:s,data:i,success:n},y.isPlainObject(e)&&e))}})),y.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),y._evalUrl=function(e,t,i){return y.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){y.globalEval(e,t,i)}})},y.fn.extend({wrapAll:function(e){var t;return this[0]&&(p(e)&&(e=e.call(this[0])),t=y(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return p(e)?this.each((function(t){y(this).wrapInner(e.call(this,t))})):this.each((function(){var t=y(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)}))},wrap:function(e){var t=p(e);return this.each((function(i){y(this).wrapAll(t?e.call(this,i):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){y(this).replaceWith(this.childNodes)})),this}}),y.expr.pseudos.hidden=function(e){return!y.expr.pseudos.visible(e)},y.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},y.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var zt={0:200,1223:204},Ut=y.ajaxSettings.xhr();d.cors=!!Ut&&"withCredentials"in Ut,d.ajax=Ut=!!Ut,y.ajaxTransport((function(t){var i,n;if(d.cors||Ut&&!t.crossDomain)return{send:function(s,a){var o,r=t.xhr();if(r.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)r[o]=t.xhrFields[o];for(o in t.mimeType&&r.overrideMimeType&&r.overrideMimeType(t.mimeType),t.crossDomain||s["X-Requested-With"]||(s["X-Requested-With"]="XMLHttpRequest"),s)r.setRequestHeader(o,s[o]);i=function(e){return function(){i&&(i=n=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?a(0,"error"):a(r.status,r.statusText):a(zt[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=i(),n=r.onerror=r.ontimeout=i("error"),void 0!==r.onabort?r.onabort=n:r.onreadystatechange=function(){4===r.readyState&&e.setTimeout((function(){i&&n()}))},i=i("abort");try{r.send(t.hasContent&&t.data||null)}catch(e){if(i)throw e}},abort:function(){i&&i()}}})),y.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),y.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return y.globalEval(e),e}}}),y.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),y.ajaxTransport("script",(function(e){var t,i;if(e.crossDomain||e.scriptAttrs)return{send:function(n,s){t=y("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&s("error"===e.type?404:200,e.type)}),f.head.appendChild(t[0])},abort:function(){i&&i()}}}));var Wt,Gt=[],Yt=/(=)\?(?=&|$)|\?\?/;y.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Gt.pop()||y.expando+"_"+bt.guid++;return this[e]=!0,e}}),y.ajaxPrefilter("json jsonp",(function(t,i,n){var s,a,o,r=!1!==t.jsonp&&(Yt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Yt.test(t.data)&&"data");if(r||"jsonp"===t.dataTypes[0])return s=t.jsonpCallback=p(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,r?t[r]=t[r].replace(Yt,"$1"+s):!1!==t.jsonp&&(t.url+=(xt.test(t.url)?"&":"?")+t.jsonp+"="+s),t.converters["script json"]=function(){return o||y.error(s+" was not called"),o[0]},t.dataTypes[0]="json",a=e[s],e[s]=function(){o=arguments},n.always((function(){void 0===a?y(e).removeProp(s):e[s]=a,t[s]&&(t.jsonpCallback=i.jsonpCallback,Gt.push(s)),o&&p(a)&&a(o[0]),o=a=void 0})),"script"})),d.createHTMLDocument=((Wt=f.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Wt.childNodes.length),y.parseHTML=function(e,t,i){return"string"!=typeof e?[]:("boolean"==typeof t&&(i=t,t=!1),t||(d.createHTMLDocument?((n=(t=f.implementation.createHTMLDocument("")).createElement("base")).href=f.location.href,t.head.appendChild(n)):t=f),a=!i&&[],(s=E.exec(e))?[t.createElement(s[1])]:(s=we([e],t,a),a&&a.length&&y(a).remove(),y.merge([],s.childNodes)));var n,s,a},y.fn.load=function(e,t,i){var n,s,a,o=this,r=e.indexOf(" ");return r>-1&&(n=gt(e.slice(r)),e=e.slice(0,r)),p(t)?(i=t,t=void 0):t&&"object"==typeof t&&(s="POST"),o.length>0&&y.ajax({url:e,type:s||"GET",dataType:"html",data:t}).done((function(e){a=arguments,o.html(n?y("<div>").append(y.parseHTML(e)).find(n):e)})).always(i&&function(e,t){o.each((function(){i.apply(this,a||[e.responseText,t,e])}))}),this},y.expr.pseudos.animated=function(e){return y.grep(y.timers,(function(t){return e===t.elem})).length},y.offset={setOffset:function(e,t,i){var n,s,a,o,r,l,c=y.css(e,"position"),u=y(e),h={};"static"===c&&(e.style.position="relative"),r=u.offset(),a=y.css(e,"top"),l=y.css(e,"left"),("absolute"===c||"fixed"===c)&&(a+l).indexOf("auto")>-1?(o=(n=u.position()).top,s=n.left):(o=parseFloat(a)||0,s=parseFloat(l)||0),p(t)&&(t=t.call(e,i,y.extend({},r))),null!=t.top&&(h.top=t.top-r.top+o),null!=t.left&&(h.left=t.left-r.left+s),"using"in t?t.using.call(e,h):("number"==typeof h.top&&(h.top+="px"),"number"==typeof h.left&&(h.left+="px"),u.css(h))}},y.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){y.offset.setOffset(this,e,t)}));var t,i,n=this[0];return n?n.getClientRects().length?(t=n.getBoundingClientRect(),i=n.ownerDocument.defaultView,{top:t.top+i.pageYOffset,left:t.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,i,n=this[0],s={top:0,left:0};if("fixed"===y.css(n,"position"))t=n.getBoundingClientRect();else{for(t=this.offset(),i=n.ownerDocument,e=n.offsetParent||i.documentElement;e&&(e===i.body||e===i.documentElement)&&"static"===y.css(e,"position");)e=e.parentNode;e&&e!==n&&1===e.nodeType&&((s=y(e).offset()).top+=y.css(e,"borderTopWidth",!0),s.left+=y.css(e,"borderLeftWidth",!0))}return{top:t.top-s.top-y.css(n,"marginTop",!0),left:t.left-s.left-y.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===y.css(e,"position");)e=e.offsetParent;return e||ie}))}}),y.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var i="pageYOffset"===t;y.fn[e]=function(n){return j(this,(function(e,n,s){var a;if(g(e)?a=e:9===e.nodeType&&(a=e.defaultView),void 0===s)return a?a[t]:e[n];a?a.scrollTo(i?a.pageXOffset:s,i?s:a.pageYOffset):e[n]=s}),e,n,arguments.length)}})),y.each(["top","left"],(function(e,t){y.cssHooks[t]=Ue(d.pixelPosition,(function(e,i){if(i)return i=ze(e,t),Ne.test(i)?y(e).position()[t]+"px":i}))})),y.each({Height:"height",Width:"width"},(function(e,t){y.each({padding:"inner"+e,content:t,"":"outer"+e},(function(i,n){y.fn[n]=function(s,a){var o=arguments.length&&(i||"boolean"!=typeof s),r=i||(!0===s||!0===a?"margin":"border");return j(this,(function(t,i,s){var a;return g(t)?0===n.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(a=t.documentElement,Math.max(t.body["scroll"+e],a["scroll"+e],t.body["offset"+e],a["offset"+e],a["client"+e])):void 0===s?y.css(t,i,r):y.style(t,i,s,r)}),t,o?s:void 0,o)}}))})),y.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){y.fn[t]=function(e){return this.on(t,e)}})),y.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),y.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){y.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}));var qt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;y.proxy=function(e,t){var i,n,a;if("string"==typeof t&&(i=e[t],t=e,e=i),p(e))return n=s.call(arguments,2),(a=function(){return e.apply(t||this,n.concat(s.call(arguments)))}).guid=e.guid=e.guid||y.guid++,a},y.holdReady=function(e){e?y.readyWait++:y.ready(!0)},y.isArray=Array.isArray,y.parseJSON=JSON.parse,y.nodeName=P,y.isFunction=p,y.isWindow=g,y.camelCase=G,y.type=w,y.now=Date.now,y.isNumeric=function(e){var t=y.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},y.trim=function(e){return null==e?"":(e+"").replace(qt,"")},"function"==typeof define&&define.amd&&define("jquery",[],(function(){return y}));var Vt=e.jQuery,Xt=e.$;return y.noConflict=function(t){return e.$===y&&(e.$=Xt),t&&e.jQuery===y&&(e.jQuery=Vt),y},void 0===t&&(e.jQuery=e.$=y),y}));const Bn="v0.11.0";console.info("Calla",Bn);class Pn extends Event{constructor(e,t,i){super(e),this.id=t;for(let e in i)"isTrusted"===e||Object.prototype.hasOwnProperty.call(Event.prototype,e)||(this[e]=i[e])}}const En=["userMoved","userTurned","userPosed","emote","userInitRequest","userInitResponse","audioMuteStatusChanged","videoMuteStatusChanged","localAudioMuteStatusChanged","localVideoMuteStatusChanged","videoConferenceJoined","videoConferenceLeft","participantJoined","participantLeft","avatarChanged","displayNameChange","audioActivity","setAvatarEmoji","deviceListChanged","participantRoleChanged","audioAdded","videoAdded","audioRemoved","videoRemoved","audioChanged","videoChanged"],_n=new e;function R(e,t){if("localhost"===window.location.hostname){const i=(...e)=>{"conference.endpoint_message_received"===t&&e.length>=2&&("e2e-ping-request"===e[1].type||"e2e-ping-response"===e[1].type||"stats"===e[1].type)||console.log(t,...e)};e.addEventListener(t,i)}}function N(e,t){for(let i of Object.values(t))-1===i.indexOf("audioLevelsChanged")&&R(e,i)}class Mn extends wt{constructor(e,t,i){super(),this.host=e,this.bridgeHost=t,this.bridgeMUC=i,this._prepTask=null,this.joined=!1,this.connection=null,this.conference=null,this.audio=new Cn,this.audio.addEventListener("audioActivity",e=>{_n.id=e.id,_n.isActive=e.isActive,this.dispatchEvent(_n)}),this.hasAudioPermission=!1,this.hasVideoPermission=!1,this.localUserID=null,this.preferredAudioOutputID=null,this.preferredAudioInputID=null,this.preferredVideoInputID=null,this.addEventListener("participantJoined",async e=>{const t=await this.userInitRequestAsync(e.id);o(t.x)&&o(t.y)&&o(t.z)?this.audio.setUserPosition(t.id,t.x,t.y,t.z):o(t.fx)&&o(t.fy)&&o(t.fz)&&o(t.ux)&&o(t.uy)&&o(t.uz)&&(o(t.px)&&o(t.py)&&o(t.pz)?this.audio.setUserPose(t.id,t.px,t.py,t.pz,t.fx,t.fy,t.fz,t.ux,t.uy,t.uz):this.audio.setUserOrientation(t.id,t.fx,t.fy,t.fz,t.ux,t.uy,t.uz))}),this.addEventListener("userInitRequest",e=>{const t=this.audio.getUser(this.localUserID),{p:i,f:n,u:s}=t.pose.end;this.userInitResponse(e.id,{id:this.localUserID,px:i.x,py:i.y,pz:i.z,fx:n.x,fy:n.y,fz:n.z,ux:s.x,uy:s.y,uz:s.z})}),this.addEventListener("userMoved",e=>{this.audio.setUserPosition(e.id,e.x,e.y,e.z)}),this.addEventListener("userTurned",e=>{this.audio.setUserOrientation(e.id,e.fx,e.fy,e.fz,e.ux,e.uy,e.uz)}),this.addEventListener("userPosed",e=>{this.audio.setUserPose(e.id,e.px,e.py,e.pz,e.fx,e.fy,e.fz,e.ux,e.uy,e.uz)}),this.addEventListener("participantLeft",e=>{this.removeUser(e.id)});const n=e=>{const t=Object.assign(new Event("audioChanged"),{id:e.id,stream:e.stream});this.dispatchEvent(t)},s=e=>{const t=Object.assign(new Event("videoChanged"),{id:e.id,stream:e.stream});this.dispatchEvent(t)};this.addEventListener("audioAdded",n),this.addEventListener("audioRemoved",n),this.addEventListener("videoAdded",s),this.addEventListener("videoRemoved",s),this.addEventListener("audioMuteStatusChanged",e=>{if(e.id===this.localUserID){const t=Object.assign(new Event("localAudioMuteStatusChanged"),{id:e.id,muted:e.muted});this.dispatchEvent(t)}}),this.addEventListener("videoMuteStatusChanged",e=>{if(e.id===this.localUserID){const t=Object.assign(new Event("localVideoMuteStatusChanged"),{id:e.id,muted:e.muted});this.dispatchEvent(t)}});const a=()=>this.dispose();window.addEventListener("beforeunload",a),window.addEventListener("unload",a),window.addEventListener("pagehide",a),Object.seal(this)}get appFingerPrint(){return"Calla"}userIDs(){return Object.keys(this.conference.participants)}userExists(e){return!!this.conference.participants[e]}users(){return Object.keys(this.conference.participants).map(e=>[e,this.conference.participants[e].getDisplayName()])}update(){this.audio.update()}_prepareAsync(){return this._prepTask||(console.info("Connecting to:",this.host),this._prepTask=import(`https://${this.host}/libs/lib-jitsi-meet.min.js`)),this._prepTask}async join(e,t){await this.leaveAsync(),await this._prepareAsync(),e=e.toLocaleLowerCase(),JitsiMeetJS.setLogLevel(JitsiMeetJS.logLevels.ERROR),JitsiMeetJS.init(),this.connection=new JitsiMeetJS.JitsiConnection(null,null,{hosts:{domain:this.bridgeHost,muc:this.bridgeMUC},serviceUrl:`https://${this.host}/http-bind`,enableLipSync:!0});const{CONNECTION_ESTABLISHED:i,CONNECTION_FAILED:n,CONNECTION_DISCONNECTED:s}=JitsiMeetJS.events.connection;N(this.connection,JitsiMeetJS.events.connection);const a=()=>{this.dispatchEvent(Object.assign(new Event("videoConferenceLeft"),{roomName:e})),this.localUserID=null,this.conference=null,this.joined=!1},o=e=>{console.error("Connection failed",e),this.dispose(),a(),r()},r=()=>{this.connection.removeEventListener(i,l),this.connection.removeEventListener(n,o),this.connection.removeEventListener(s,r),this.connection=null},l=i=>{this.conference=this.connection.initJitsiConference(e,{openBridgeChannel:!0});const{TRACK_ADDED:n,TRACK_REMOVED:s,CONFERENCE_JOINED:r,CONFERENCE_LEFT:l,USER_JOINED:c,USER_LEFT:u,DISPLAY_NAME_CHANGED:h,ENDPOINT_MESSAGE_RECEIVED:A,CONNECTION_INTERRUPTED:d}=JitsiMeetJS.events.conference;N(this.conference,JitsiMeetJS.events.conference),this.conference.addEventListener(r,async()=>{this.localUserID=this.conference.myUserId(),console.log("======== CONFERENCE_JOINED ::",this.localUserID);const i=this.audio.createLocalUser(this.localUserID);this.joined=!0,this.setDisplayName(t),this.dispatchEvent(Object.assign(new Event("videoConferenceJoined"),{id:this.localUserID,roomName:e,displayName:t,pose:i.pose})),await this.setPreferredDevicesAsync()}),this.conference.addEventListener(l,a);const p=(e,t)=>{const i=e.getParticipantId()||this.localUserID,n=e.getType()+"MuteStatusChanged",s=Object.assign(new Event(n),{id:i,muted:t});this.dispatchEvent(s)},g=e=>{p(e,e.isMuted())};this.conference.addEventListener(c,(e,t)=>{console.log("======== USER_JOINED ::",e);const i=this.audio.createUser(e),n=Object.assign(new Event("participantJoined"),{id:e,displayName:t.getDisplayName(),pose:i.pose});this.dispatchEvent(n)}),this.conference.addEventListener(u,e=>{const t=Object.assign(new Event("participantLeft"),{id:e});this.dispatchEvent(t)}),this.conference.addEventListener(h,(e,t)=>{const i=Object.assign(new Event("displayNameChange"),{id:e,displayName:t});this.dispatchEvent(i)}),this.conference.addEventListener(n,e=>{const t=e.getParticipantId()||this.localUserID,i=e.isLocal(),n=e.getType(),s=Object.assign(new Event(n+"Added"),{id:t,stream:e.stream}),a=this.audio.getUser(t);N(e,JitsiMeetJS.events.track),e.addEventListener(JitsiMeetJS.events.track.TRACK_MUTE_CHANGED,g),a.tracks.has(n)&&(a.tracks.get(n).dispose(),a.tracks.delete(n)),a.tracks.set(n,e),"audio"!==n||i||this.audio.setUserStream(t,e.stream),this.dispatchEvent(s),p(e,!1)}),this.conference.addEventListener(s,e=>{const t=e.getParticipantId()||this.localUserID,i=e.isLocal(),n=e.getType(),s=Object.assign(new Event(n+"Removed"),{id:t,stream:null}),a=this.audio.getUser(t);a&&a.tracks.has(n)&&(a.tracks.get(n).dispose(),a.tracks.delete(n)),"audio"!==n||i||this.audio.setUserStream(t,null),e.dispose(),p(e,!0),this.dispatchEvent(s)}),this.conference.addEventListener(A,(e,t)=>{this.rxGameData({user:e,data:t})}),this.conference.addEventListener(d,(...e)=>{console.log("CONNECTION_INTERRUPTED"),o(e)}),this.conference.join()};this.connection.addEventListener(i,l),this.connection.addEventListener(n,o),this.connection.addEventListener(s,r),N(JitsiMeetJS.mediaDevices,JitsiMeetJS.events.mediaDevices),this.connection.connect()}dispatchEvent(e){null!==e.id&&void 0!==e.id&&"local"!==e.id||(null===this.localUserID&&console.warn("I DON'T KNOW THE LOCAL USER ID YET!"),e.id=this.localUserID),super.dispatchEvent(e)}async setPreferredDevicesAsync(){await this.setPreferredAudioInputAsync(!0),await this.setPreferredVideoInputAsync(!1),await this.setPreferredAudioOutputAsync(!0)}async getPreferredAudioOutputAsync(e){return i(await this.getAudioOutputDevicesAsync(),e=>e.deviceId===this.preferredAudioOutputID,e=>"communications"===e.deviceId,e=>"default"===e.deviceId,t=>e&&t&&t.deviceId)}async setPreferredAudioOutputAsync(e){const t=await this.getPreferredAudioOutputAsync(e);t&&await this.setAudioOutputDeviceAsync(t)}async getPreferredAudioInputAsync(e){return i(await this.getAudioInputDevicesAsync(),e=>e.deviceId===this.preferredAudioInputID,e=>"communications"===e.deviceId,e=>"default"===e.deviceId,t=>e&&t&&t.deviceId)}async setPreferredAudioInputAsync(e){const t=await this.getPreferredAudioInputAsync(e);t&&await this.setAudioInputDeviceAsync(t)}async getPreferredVideoInputAsync(e){return i(await this.getVideoInputDevicesAsync(),e=>e.deviceId===this.preferredVideoInputID,t=>e&&t&&/front/i.test(t.label),t=>e&&t&&t.deviceId)}async setPreferredVideoInputAsync(e){const t=await this.getPreferredVideoInputAsync(e);t&&await this.setVideoInputDeviceAsync(t)}dispose(){if(this.localUserID){const e=this.audio.getUser(this.localUserID);if(e)for(let t of e.tracks.values())t.dispose()}}setDisplayName(e){this.conference.setDisplayName(e)}async leaveAsync(){if(this.conference){if(null!==this.localUserID){const e=this.audio.getUser(this.localUserID);if(e){if(e.tracks.has("video")){const t=O(this,"videoRemoved");this.conference.removeTrack(e.tracks.get("video")),await t}if(e.tracks.has("audio")){const t=O(this,"audioRemoved");this.conference.removeTrack(e.tracks.get("audio")),await t}}}await this.conference.leave(),await this.connection.disconnect()}}async _getDevicesAsync(){await this._prepareAsync();const e=await navigator.mediaDevices.enumerateDevices();for(let t of e)t.deviceId.length>0&&(this.hasAudioPermission|="audioinput"===t.kind&&t.label.length>0,this.hasVideoPermission|="videoinput"===t.kind&&t.label.length>0);return e}async getAvailableDevicesAsync(){let e=await this._getDevicesAsync();for(let t=0;t<3&&!this.hasAudioPermission;++t){e=null;try{await navigator.mediaDevices.getUserMedia({audio:!this.hasAudioPermission,video:!this.hasVideoPermission})}catch(e){console.warn(e)}e=await this._getDevicesAsync()}return{audioOutput:Tt?e.filter(e=>"audiooutput"===e.kind):[],audioInput:e.filter(e=>"audioinput"===e.kind),videoInput:e.filter(e=>"videoinput"===e.kind)}}async getAudioOutputDevicesAsync(){if(!Tt)return[];const e=await this.getAvailableDevicesAsync();return e&&e.audioOutput||[]}async getAudioInputDevicesAsync(){const e=await this.getAvailableDevicesAsync();return e&&e.audioInput||[]}async getVideoInputDevicesAsync(){const e=await this.getAvailableDevicesAsync();return e&&e.videoInput||[]}async setAudioOutputDeviceAsync(e){Tt&&(this.preferredAudioOutputID=e&&e.deviceId||null,await JitsiMeetJS.mediaDevices.setAudioOutputDevice(this.preferredAudioOutputID))}taskOf(e){return function(e,t,i,n){if(!a(t))throw new Error("Need an event name on which to resolve the operation.");if(!s(i))throw new Error("Filtering tests function is required. Otherwise, use `once`.");return new Promise((i,s)=>{const a=()=>{e.removeEventListener(t,i)};if(i=L(a,i),s=L(a,s),o(n)){const e=setTimeout(s,n,`'${t}' has timed out.`),a=()=>clearTimeout(e);i=L(a,i),s=L(a,s)}e.addEventListener(t,i)})}(this,e,e=>e.id===this.localUserID,5e3)}getCurrentMediaTrack(e){if(null===this.localUserID)return null;const t=this.audio.getUser(this.localUserID);return t&&t.tracks.has(e)?t.tracks.get(e):null}async setAudioInputDeviceAsync(e){this.preferredAudioInputID=e&&e.deviceId||null;const t=this.getCurrentMediaTrack("audio");if(t){const e=this.taskOf("audioRemoved");this.conference.removeTrack(t),await e}if(this.joined&&this.preferredAudioInputID){const e=this.taskOf("audioAdded"),t=await JitsiMeetJS.createLocalTracks({devices:["audio"],micDeviceId:this.preferredAudioInputID});for(let e of t)this.conference.addTrack(e);await e}}async setVideoInputDeviceAsync(e){this.preferredVideoInputID=e&&e.deviceId||null;const t=this.getCurrentMediaTrack("video");if(t){const e=this.taskOf("videoRemoved");this.conference.removeTrack(t),await e}if(this.joined&&this.preferredVideoInputID){const e=this.taskOf("videoAdded"),t=await JitsiMeetJS.createLocalTracks({devices:["video"],cameraDeviceId:this.preferredVideoInputID});for(let e of t)this.conference.addTrack(e);await e}}async getCurrentAudioInputDeviceAsync(){const e=this.getCurrentMediaTrack("audio"),t=(await this.getAudioInputDevicesAsync()).filter(t=>null!==e&&t.deviceId===e.deviceId);return 0===t.length?null:t[0]}async getCurrentAudioOutputDeviceAsync(){if(!Tt)return null;const e=JitsiMeetJS.mediaDevices.getAudioOutputDevice(),t=(await this.getAudioOutputDevicesAsync()).filter(t=>t.deviceId===e);return 0===t.length?null:t[0]}async getCurrentVideoInputDeviceAsync(){const e=this.getCurrentMediaTrack("video"),t=(await this.getVideoInputDevicesAsync()).filter(t=>null!==e&&t.deviceId===e.deviceId);return 0===t.length?null:t[0]}async toggleAudioMutedAsync(){const e=this.taskOf("audioMuteStatusChanged"),t=this.getCurrentMediaTrack("audio");if(t){t.isMuted()?await t.unmute():await t.mute()}else await this.setPreferredAudioInputAsync(!0);return(await e).muted}async toggleVideoMutedAsync(){const e=this.taskOf("videoMuteStatusChanged");this.getCurrentMediaTrack("video")?await this.setVideoInputDeviceAsync(null):await this.setPreferredVideoInputAsync(!0);return(await e).muted}isMediaMuted(e){const t=this.getCurrentMediaTrack(e);return null===t||t.isMuted()}get isAudioMuted(){return this.isMediaMuted("audio")}get isVideoMuted(){return this.isMediaMuted("video")}txGameData(e,t){this.conference.sendMessage(t,e)}rxGameData(e){e.data.hax===this.appFingerPrint&&this.receiveMessageFrom(e.user.getId(),e.data.command,e.data.value)}sendMessageTo(e,t,i){this.txGameData(e,{hax:this.appFingerPrint,command:t,value:i})}receiveMessageFrom(e,t,i){const n=new Pn(t,e,i);this.dispatchEvent(n)}setAudioProperties(e,t,i,n){this.audio.setAudioProperties(e,t,i,n)}setLocalPosition(e,t,i){this.audio.setUserPosition(this.localUserID,e,t,i);for(let n of this.userIDs())this.sendMessageTo(n,"userMoved",{x:e,y:t,z:i})}setLocalOrientation(e,t,i,n,s,a){this.audio.setUserOrientation(this.localUserID,e,t,i,n,s,a);for(let o of this.userIDs())this.sendMessageTo(o,"userTurned",{fx:e,fy:t,fz:i,ux:n,uy:s,uz:a})}setLocalPose(e,t,i,n,s,a,o,r,l){this.audio.setUserPose(this.localUserID,e,t,i,n,s,a,o,r,l);for(let c of this.userIDs())this.sendMessageTo(c,"userPosed",{px:e,py:t,pz:i,fx:n,fy:s,fz:a,ux:o,uy:r,uz:l})}removeUser(e){this.audio.removeUser(e)}async setAudioMutedAsync(e){let t=this.isAudioMuted;return e!==t&&(t=await this.toggleAudioMutedAsync()),t}async setVideoMutedAsync(e){let t=this.isVideoMuted;return e!==t&&(t=await this.toggleVideoMutedAsync()),t}addEventListener(e,t,i){if(-1===En.indexOf(e))throw new Error("Unsupported event type: "+e);super.addEventListener(e,t,i)}async userInitRequestAsync(e){return await(t=this,i="userInitResponse",n=()=>this.sendMessageTo(e,"userInitRequest"),s=t=>t.id===e&&r(t.px)&&r(t.py)&&r(t.pz),a=1e3,new Promise((e,r)=>{let l=null,c=null;const u=()=>{null!==l&&clearTimeout(l),null!==c&&clearTimeout(c),t.removeEventListener(i,h)};function h(t){s(t)&&(u(),e(t))}if(t.addEventListener(i,h),void 0!==a){void 0!==o&&(c=setTimeout(()=>{u(),r(`'${i}' has timed out.`)},o));const e=()=>{n(),l=setTimeout(e,a)};l=setTimeout(e,0)}}));var t,i,n,s,a,o}userInitResponse(e,t){this.sendMessageTo(e,"userInitResponse",t)}set avatarEmoji(e){for(let t of this.userIDs())this.sendMessageTo(t,"setAvatarEmoji",e)}set avatarURL(e){for(let t of this.userIDs())this.sendMessageTo(t,"avatarChanged",{url:e})}emote(e){for(let t of this.userIDs())this.sendMessageTo(t,"emote",e)}}function H(e,t){for(let i in t){let n=t[i],s=void 0;n instanceof Array&&(s=n[1],n=n[0]),e.addEventListener(i,n,s)}}function Q(e,t,i){return(1-i)*e+i*t}function j(e,t,i){return e*(i-t)+t}class Sn{constructor(e,t){this.value=e,this.desc=t}contains(e){return this.value.indexOf(e.value)>=0}}function z(e,t,i=null){return Object.assign(new Sn(e,t),i)}class Fn extends Sn{constructor(e,t,...i){super(e,t),this.alts=i,this.width=null}random(){const e=Math.floor(Math.random()*this.alts.length);if(e<0)return null;const t=this.alts[e];return t instanceof Fn?t.random():t}contains(e){return super.contains(e)||this.alts.reduce((t,i)=>t||i.contains(e),!1)}}function U(e,t,...i){return new Fn(e,t,...i)}function W(e,t,i,...n){return Object.assign(U(e,t,...Object.values(i).filter(e=>e instanceof Sn),...n),i)}const Tn=z("︎","Variation Selector-15: text style"),kn=z("️","Variation Selector-16: emoji style"),In=z("‍","Zero Width Joiner"),Ln=(z("⃣","Combining Enclosing Circle Backslash"),z("⃣","Combining Enclosing Keycap"),z("♀️","Female")),On=z("♂️","Male"),Rn=z("🏻","Light Skin Tone"),Nn=z("🏼","Medium-Light Skin Tone"),Hn=z("🏽","Medium Skin Tone"),Qn=z("🏾","Medium-Dark Skin Tone"),jn=z("🏿","Dark Skin Tone"),zn=z("🦰","Red Hair"),Un=z("🦱","Curly Hair"),Wn=z("🦳","White Hair"),Gn=z("🦲","Bald");function G(e,t){if(e instanceof Array)return e.map(e=>G(e,t));if(e instanceof Fn){const{value:i,desc:n}=G(z(e.value,e.desc),t);return U(i,n,...G(e.alts,t))}return t instanceof Array?t.map(t=>G(e,t)):z(e.value+t.value,e.desc+": "+t.desc)}function Y(e,t){if(e instanceof Array)return e.map(e=>Y(e,t));if(e instanceof Fn){const{value:i,desc:n}=Y(z(e.value,e.desc),t);return U(i,n,...Y(e.alts,t))}return t instanceof Array?t.map(t=>Y(e,t)):z(e.value+In.value+t.value,e.desc+": "+t.desc)}function q(e,t,...i){const n=z(e,t),s=G(n,Rn),a=G(n,Nn),o=G(n,Hn),r=G(n,Qn),l=G(n,jn);return W(n.value,n.desc,{default:n,light:s,mediumLight:a,medium:o,mediumDark:r,dark:l},...i)}function V(e){const t=Y(e,On),i=Y(e,Ln);return W(e.value,e.desc,{default:e,man:t,woman:i})}function X(e,t){return V(q(e,t))}function Z(e,t,...i){const n=q(e,t),s=Y(n,zn),a=Y(n,Un),o=Y(n,Wn),r=Y(n,Gn);return W(n.value,n.desc,{default:n,red:s,curly:a,white:o,bald:r},...i)}function J(e,t){const i=z(e.value,t),n=Y(Fs.default,i),s=Y(Os.default,i);return W(e.value,e.desc,{symbol:e,men:n,women:s})}const Yn=X("🙍","Frowning"),qn=X("🙎","Pouting"),Vn=X("🙅","Gesturing NO"),Xn=X("🙆","Gesturing OK"),Zn=X("💁","Tipping Hand"),Jn=X("🙋","Raising Hand"),Kn=X("🙇","Bowing"),$n=X("🤦","Facepalming"),es=X("🤷","Shrugging"),ts=X("🧏","Can't Hear"),is=X("💆","Getting Massage"),ns=X("💇","Getting Haircut"),ss=X("👷","Construction Worker"),as=X("💂","Guard"),os=X("🕵","Spy"),rs=(X("👮","Police"),X("👳","Wearing Turban")),ls=X("🦸","Superhero"),cs=X("🦹","Supervillain"),us=X("🧙","Mage"),hs=X("🧚","Fairy"),As=X("🧛","Vampire"),ds=X("🧜","Merperson"),ps=X("🧝","Elf"),gs=X("🚶","Walking"),fs=X("🧍","Standing"),ms=X("🧎","Kneeling"),vs=X("🏃","Running"),ws=U("Gestures","Gestures",Yn,qn,Vn,Xn,Zn,Jn,Kn,$n,es,ts,is,ns),ys=q("👶","Baby"),Ds=q("🧒","Child"),bs=q("👦","Boy"),xs=q("👧","Girl"),Cs=W(Ds.value,Ds.desc,{default:Ds,male:bs,female:xs}),Bs=X("👱","Blond Person"),Ps=q("🧑","Person",Bs.default,rs.default),Es=q("🧔","Bearded Man"),_s=z("🕴️","Man in Suit, Levitating"),Ms=q("👲","Man With Chinese Cap"),Ss=q("🤵","Man in Tuxedo"),Fs=Z("👨","Man",Bs.man,Es,_s,Ms,rs.man,Ss),Ts=q("🤰","Pregnant Woman"),ks=q("🤱","Breast-Feeding"),Is=q("🧕","Woman With Headscarf"),Ls=q("👰","Bride With Veil"),Os=Z("👩","Woman",Bs.woman,Ts,ks,Is,rs.woman,Ls),Rs=W(Ps.value,"Adult",{default:Ps,male:Fs,female:Os}),Ns=q("🧓","Older Person"),Hs=q("👴","Old Man"),Qs=q("👵","Old Woman"),js=W(Ns.value,Ns.desc,{default:Ns,male:Hs,female:Qs}),zs=z("⚕️","Medical"),Us=J(zs,"Health Care"),Ws=z("🎓","Graduation Cap"),Gs=J(Ws,"Student"),Ys=z("🏫","School"),qs=J(Ys,"Teacher"),Vs=z("⚖️","Balance Scale"),Xs=J(Vs,"Judge"),Zs=z("🌾","Sheaf of Rice"),Js=J(Zs,"Farmer"),Ks=z("🍳","Cooking"),$s=J(Ks,"Cook"),ea=z("🔧","Wrench"),ta=J(ea,"Mechanic"),ia=z("🏭","Factory"),na=J(ia,"Factory Worker"),sa=z("💼","Briefcase"),aa=J(sa,"Office Worker"),oa=z("🚒","Fire Engine"),ra=J(oa,"Fire Fighter"),la=z("🚀","Rocket"),ca=J(la,"Astronaut"),ua=z("✈️","Airplane"),ha=J(ua,"Pilot"),Aa=z("🎨","Artist Palette"),da=J(Aa,"Artist"),pa=z("🎤","Microphone"),ga=J(pa,"Singer"),fa=z("💻","Laptop"),ma=J(fa,"Technologist"),va=z("🔬","Microscope"),wa=J(va,"Scientist"),ya=z("👑","Crown"),Da=q("🤴","Prince"),ba=q("👸","Princess"),xa=W(ya.value,ya.desc,{symbol:ya,male:Da,female:ba}),Ca=W("Roles","Depictions of people working",{healthCareWorkers:Us,students:Gs,teachers:qs,judges:Xs,farmers:Js,cooks:$s,mechanics:ta,factoryWorkers:na,officeWorkers:aa,scientists:wa,technologists:ma,singers:ga,artists:da,pilots:ha,astronauts:ca,fireFighters:ra,spies:os,guards:as,constructionWorkers:ss,royalty:xa}),Ba=q("👼","Cherub"),Pa=q("🎅","Santa Claus"),Ea=q("🤶","Mrs. Claus"),_a=V(z("🧞","Genie")),Ma=V(z("🧟","Zombie")),Sa=W("Fantasy","Depictions of fantasy characters",{cherub:Ba,santaClaus:Pa,mrsClaus:Ea,superheroes:ls,supervillains:cs,mages:us,fairies:hs,vampires:As,merpeople:ds,elves:ps,genies:_a,zombies:Ma}),Fa=z("🦯","Probing Cane"),Ta=J(Fa,"Probing"),ka=z("🦼","Motorized Wheelchair"),Ia=J(ka,"In Motorized Wheelchair"),La=z("🦽","Manual Wheelchair"),Oa=J(La,"In Manual Wheelchair"),Ra=q("🕺","Man Dancing"),Na=q("💃","Woman Dancing"),Ha=W(Ra.value,"Dancing",{male:Ra,female:Na}),Qa=X("🤹","Juggler"),ja=X("🧗","Climber"),za=z("🤺","Fencer"),Ua=q("🏇","Jockey"),Wa=z("⛷️","Skier"),Ga=q("🏂","Snowboarder"),Ya=X("🏌️","Golfer"),qa=X("🏄","Surfing"),Va=X("🚣","Rowing Boat"),Xa=X("🏊","Swimming"),Za=X("⛹️","Basket Baller"),Ja=X("🏋️","Weight Lifter"),Ka=X("🚴","Biker"),$a=X("🚵","Mountain Biker"),eo=X("🤸","Cartwheeler"),to=V(z("🤼","Wrestler")),io=X("🤽","Water Polo Player"),no=X("🤾","Hand Baller"),so=W("In Motion","Depictions of people in motion",{walking:gs,standing:fs,kneeling:ms,withProbingCane:Ta,inMotorizedWheelchair:Ia,inManualWheelchair:Oa,dancers:Ha,jugglers:Qa,climbers:ja,fencer:za,jockeys:Ua,skier:Wa,snowboarders:Ga,golfers:Ya,surfers:qa,rowers:Va,swimmers:Xa,runners:vs,basketballers:Za,weightLifters:Ja,bikers:Ka,mountainBikers:$a,cartwheelers:eo,wrestlers:to,waterPoloers:io,handBallers:no}),ao=X("🧘","In Lotus Position"),oo=q("🛀","In Bath"),ro=q("🛌","In Bed"),lo=X("🧖","In Sauna"),co=W("Resting","Depictions of people at rest",{inLotusPosition:ao,inBath:oo,inBed:ro,inSauna:lo}),uo=U(ys.value,ys.desc,ys,Ba),ho=W("People","People",{babies:uo,children:Cs,adults:Rs,elderly:js}),Ao=W("All People","All People",{people:ho,gestures:ws,inMotion:so,resting:co,roles:Ca,fantasy:Sa}),po=z("👹","Ogre"),go=z("👺","Goblin"),fo=z("👻","Ghost"),mo=z("👽","Alien"),vo=z("👾","Alien Monster"),wo=z("👿","Angry Face with Horns"),yo=z("💀","Skull"),Do=z("💩","Pile of Poo"),bo=z("😀","Grinning Face"),xo=z("😁","Beaming Face with Smiling Eyes"),Co=z("😂","Face with Tears of Joy"),Bo=z("😃","Grinning Face with Big Eyes"),Po=z("😄","Grinning Face with Smiling Eyes"),Eo=z("😅","Grinning Face with Sweat"),_o=z("😆","Grinning Squinting Face"),Mo=z("😇","Smiling Face with Halo"),So=z("😈","Smiling Face with Horns"),Fo=z("😉","Winking Face"),To=z("😊","Smiling Face with Smiling Eyes"),ko=z("😋","Face Savoring Food"),Io=z("😌","Relieved Face"),Lo=z("😍","Smiling Face with Heart-Eyes"),Oo=z("😎","Smiling Face with Sunglasses"),Ro=z("😏","Smirking Face"),No=z("😐","Neutral Face"),Ho=z("😑","Expressionless Face"),Qo=z("😒","Unamused Face"),jo=z("😓","Downcast Face with Sweat"),zo=z("😔","Pensive Face"),Uo=z("😕","Confused Face"),Wo=z("😖","Confounded Face"),Go=z("😗","Kissing Face"),Yo=z("😘","Face Blowing a Kiss"),qo=z("😙","Kissing Face with Smiling Eyes"),Vo=z("😚","Kissing Face with Closed Eyes"),Xo=z("😛","Face with Tongue"),Zo=z("😜","Winking Face with Tongue"),Jo=z("😝","Squinting Face with Tongue"),Ko=z("😞","Disappointed Face"),$o=z("😟","Worried Face"),er=z("😠","Angry Face"),tr=z("😡","Pouting Face"),ir=z("😢","Crying Face"),nr=z("😣","Persevering Face"),sr=z("😤","Face with Steam From Nose"),ar=z("😥","Sad but Relieved Face"),or=z("😦","Frowning Face with Open Mouth"),rr=z("😧","Anguished Face"),lr=z("😨","Fearful Face"),cr=z("😩","Weary Face"),ur=z("😪","Sleepy Face"),hr=z("😫","Tired Face"),Ar=z("😬","Grimacing Face"),dr=z("😭","Loudly Crying Face"),pr=z("😮","Face with Open Mouth"),gr=z("😯","Hushed Face"),fr=z("😰","Anxious Face with Sweat"),mr=z("😱","Face Screaming in Fear"),vr=z("😲","Astonished Face"),wr=z("😳","Flushed Face"),yr=z("😴","Sleeping Face"),Dr=z("😵","Dizzy Face"),br=z("😶","Face Without Mouth"),xr=z("😷","Face with Medical Mask"),Cr=z("😸","Grinning Cat with Smiling Eyes"),Br=z("😹","Cat with Tears of Joy"),Pr=z("😺","Grinning Cat"),Er=z("😻","Smiling Cat with Heart-Eyes"),_r=z("😼","Cat with Wry Smile"),Mr=z("😽","Kissing Cat"),Sr=z("😾","Pouting Cat"),Fr=z("😿","Crying Cat"),Tr=z("🙀","Weary Cat"),kr=z("🙁","Slightly Frowning Face"),Ir=z("🙂","Slightly Smiling Face"),Lr=z("🙃","Upside-Down Face"),Or=z("🙄","Face with Rolling Eyes"),Rr=z("🙈","See-No-Evil Monkey"),Nr=z("🙉","Hear-No-Evil Monkey"),Hr=z("🙊","Speak-No-Evil Monkey"),Qr=z("🤐","Zipper-Mouth Face"),jr=z("🤑","Money-Mouth Face"),zr=z("🤒","Face with Thermometer"),Ur=z("🤓","Nerd Face"),Wr=z("🤔","Thinking Face"),Gr=z("🤕","Face with Head-Bandage"),Yr=z("🤖","Robot"),qr=z("🤗","Hugging Face"),Vr=z("🤠","Cowboy Hat Face"),Xr=z("🤡","Clown Face"),Zr=z("🤢","Nauseated Face"),Jr=z("🤣","Rolling on the Floor Laughing"),Kr=z("🤤","Drooling Face"),$r=z("🤥","Lying Face"),el=z("🤧","Sneezing Face"),tl=z("🤨","Face with Raised Eyebrow"),il=z("🤩","Star-Struck"),nl=z("🤪","Zany Face"),sl=z("🤫","Shushing Face"),al=z("🤬","Face with Symbols on Mouth"),ol=z("🤭","Face with Hand Over Mouth"),rl=z("🤮","Face Vomiting"),ll=z("🤯","Exploding Head"),cl=z("🥰","Smiling Face with Hearts"),ul=z("🥱","Yawning Face"),hl=z("🥳","Partying Face"),Al=z("🥴","Woozy Face"),dl=z("🥵","Hot Face"),pl=z("🥶","Cold Face"),gl=z("🥺","Pleading Face"),fl=z("🧐","Face with Monocle"),ml=z("☠️","Skull and Crossbones"),vl=z("☹️","Frowning Face"),wl=z("☺️","Smiling Face"),yl=z("🗣️","Speaking Head"),Dl=z("👤","Bust in Silhouette"),bl=W("Faces","Round emoji faces",{ogre:po,goblin:go,ghost:fo,alien:mo,alienMonster:vo,angryFaceWithHorns:wo,skull:yo,pileOfPoo:Do,grinningFace:bo,beamingFaceWithSmilingEyes:xo,faceWithTearsOfJoy:Co,grinningFaceWithBigEyes:Bo,grinningFaceWithSmilingEyes:Po,grinningFaceWithSweat:Eo,grinningSquitingFace:_o,smillingFaceWithHalo:Mo,smilingFaceWithHorns:So,winkingFace:Fo,smilingFaceWithSmilingEyes:To,faceSavoringFood:ko,relievedFace:Io,smilingFaceWithHeartEyes:Lo,smilingFaceWithSunglasses:Oo,smirkingFace:Ro,neutralFace:No,expressionlessFace:Ho,unamusedFace:Qo,downcastFaceWithSweat:jo,pensiveFace:zo,confusedFace:Uo,confoundedFace:Wo,kissingFace:Go,faceBlowingAKiss:Yo,kissingFaceWithSmilingEyes:qo,kissingFaceWithClosedEyes:Vo,faceWithTongue:Xo,winkingFaceWithTongue:Zo,squintingFaceWithTongue:Jo,disappointedFace:Ko,worriedFace:$o,angryFace:er,poutingFace:tr,cryingFace:ir,perseveringFace:nr,faceWithSteamFromNose:sr,sadButRelievedFace:ar,frowningFaceWithOpenMouth:or,anguishedFace:rr,fearfulFace:lr,wearyFace:cr,sleepyFace:ur,tiredFace:hr,grimacingFace:Ar,loudlyCryingFace:dr,faceWithOpenMouth:pr,hushedFace:gr,anxiousFaceWithSweat:fr,faceScreamingInFear:mr,astonishedFace:vr,flushedFace:wr,sleepingFace:yr,dizzyFace:Dr,faceWithoutMouth:br,faceWithMedicalMask:xr,grinningCatWithSmilingEyes:Cr,catWithTearsOfJoy:Br,grinningCat:Pr,smilingCatWithHeartEyes:Er,catWithWrySmile:_r,kissingCat:Mr,poutingCat:Sr,cryingCat:Fr,wearyCat:Tr,slightlyFrowningFace:kr,slightlySmilingFace:Ir,updisdeDownFace:Lr,faceWithRollingEyes:Or,seeNoEvilMonkey:Rr,hearNoEvilMonkey:Nr,speakNoEvilMonkey:Hr,zipperMouthFace:Qr,moneyMouthFace:jr,faceWithThermometer:zr,nerdFace:Ur,thinkingFace:Wr,faceWithHeadBandage:Gr,robot:Yr,huggingFace:qr,cowboyHatFace:Vr,clownFace:Xr,nauseatedFace:Zr,rollingOnTheFloorLaughing:Jr,droolingFace:Kr,lyingFace:$r,sneezingFace:el,faceWithRaisedEyebrow:tl,starStruck:il,zanyFace:nl,shushingFace:sl,faceWithSymbolsOnMouth:al,faceWithHandOverMouth:ol,faceVomitting:rl,explodingHead:ll,smilingFaceWithHearts:cl,yawningFace:ul,partyingFace:hl,woozyFace:Al,hotFace:dl,coldFace:pl,pleadingFace:gl,faceWithMonocle:fl,skullAndCrossbones:ml,frowningFace:vl,smilingFace:wl,speakingHead:yl,bust:Dl}),xl=z("💋","Kiss Mark"),Cl=z("💌","Love Letter"),Bl=z("💓","Beating Heart"),Pl=z("💔","Broken Heart"),El=z("💕","Two Hearts"),_l=z("💖","Sparkling Heart"),Ml=z("💗","Growing Heart"),Sl=z("💘","Heart with Arrow"),Fl=z("💙","Blue Heart"),Tl=z("💚","Green Heart"),kl=z("💛","Yellow Heart"),Il=z("💜","Purple Heart"),Ll=z("💝","Heart with Ribbon"),Ol=z("💞","Revolving Hearts"),Rl=z("💟","Heart Decoration"),Nl=z("🖤","Black Heart"),Hl=z("🤍","White Heart"),Ql=z("🤎","Brown Heart"),jl=z("🧡","Orange Heart"),zl=z("❣️","Heart Exclamation"),Ul=z("❤️","Red Heart"),Wl=W("Love","Hearts and kisses",{kissMark:xl,loveLetter:Cl,beatingHeart:Bl,brokenHeart:Pl,twoHearts:El,sparklingHeart:_l,growingHeart:Ml,heartWithArrow:Sl,blueHeart:Fl,greenHeart:Tl,yellowHeart:kl,purpleHeart:Il,heartWithRibbon:Ll,revolvingHearts:Ol,heartDecoration:Rl,blackHeart:Nl,whiteHeart:Hl,brownHeart:Ql,orangeHeart:jl,heartExclamation:zl,redHeart:Ul}),Gl=z("💢","Anger Symbol"),Yl=z("💣","Bomb"),ql=z("💤","Zzz"),Vl=z("💥","Collision"),Xl=z("💦","Sweat Droplets"),Zl=z("💨","Dashing Away"),Jl=z("💫","Dizzy"),Kl=z("💬","Speech Balloon"),$l=z("💭","Thought Balloon"),ec=z("💯","Hundred Points"),tc=z("🕳️","Hole"),ic=z("🗨️","Left Speech Bubble"),nc=z("🗩️","Right Speech Bubble"),sc=z("🗪️","Conversation Bubbles 2"),ac=z("🗫️","Conversation Bubbles 3"),oc=z("🗬️","Left Thought Bubble"),rc=z("🗭️","Right Thought Bubble"),lc=z("🗮️","Left Anger Bubble"),cc=z("🗯️","Right Anger Bubble"),uc=z("🗰️","Anger Bubble"),hc=z("🗱️","Anger Bubble Lightning"),Ac=z("🗲️","Lightning Bolt"),dc=U("Cartoon","Cartoon symbols",Gl,Yl,ql,Vl,Xl,Zl,Jl,Kl,$l,ec,tc,ic,nc,sc,ac,oc,rc,lc,cc,uc,hc,Ac),pc=z("👆","Backhand Index Pointing Up"),gc=z("👇","Backhand Index Pointing Down"),fc=z("👈","Backhand Index Pointing Left"),mc=z("👉","Backhand Index Pointing Right"),vc=z("👊","Oncoming Fist"),wc=z("👋","Waving Hand"),yc=z("🖏","OK Hand"),Dc=z("👍","Thumbs Up"),bc=z("👎","Thumbs Down"),xc=z("👏","Clapping Hands"),Cc=z("👐","Open Hands"),Bc=z("💅","Nail Polish"),Pc=z("🖐️","Hand with Fingers Splayed"),Ec=z("🖑️","Hand with Fingers Splayed 2"),_c=z("🖒","Thumbs Up 2"),Mc=z("🖓","Thumbs Down 2"),Sc=z("🖔","Peace Fingers"),Fc=z("🖕","Middle Finger"),Tc=z("🖖","Vulcan Salute"),kc=z("🖗","Hand Pointing Down"),Ic=z("🖘","Hand Pointing Left"),Lc=z("🖙","Hand Pointing Right"),Oc=z("🖚","Hand Pointing Left 2"),Rc=z("🖛","Hand Pointing Right 2"),Nc=z("🖜","Index Pointing Left"),Hc=z("🖝","Index Pointing Right"),Qc=z("🖞","Index Pointing Up"),jc=z("🖟","Index Pointing Down"),zc=z("🖠","Index Pointing Up 2"),Uc=z("🖡","Index Pointing Down 2"),Wc=z("🖢","Index Pointing Up 3"),Gc=z("🖣","Index Pointing Down 3"),Yc=z("🙌","Raising Hands"),qc=z("🙏","Folded Hands"),Vc=z("🤏","Pinching Hand"),Xc=z("🤘","Sign of the Horns"),Zc=z("🤙","Call Me Hand"),Jc=z("🤚","Raised Back of Hand"),Kc=z("🤛","Left-Facing Fist"),$c=z("🤜","Right-Facing Fist"),eu=z("🤝","Handshake"),tu=z("🤞","Crossed Fingers"),iu=z("🤟","Love-You Gesture"),nu=z("🤲","Palms Up Together"),su=z("☝️","Index Pointing Up 4"),au=z("✊","Raised Fist"),ou=z("✋","Raised Hand"),ru=z("✌️","Victory Hand"),lu=z("✍️","Writing Hand"),cu=U("Hands","Hands pointing at things",pc,gc,fc,mc,vc,wc,yc,Dc,bc,xc,Cc,Bc,Pc,Ec,Ec,_c,Mc,Sc,Fc,Tc,kc,Ic,Lc,Oc,Rc,Nc,Hc,Qc,jc,zc,Uc,Wc,Gc,Yc,qc,Vc,Xc,Zc,Jc,Kc,$c,eu,tu,iu,nu,su,au,ou,ru,lu),uu=U("Body Parts","General body parts",z("👀","Eyes"),z("👁️","Eye"),z("👁️‍🗨️","Eye in Speech Bubble"),z("👂","Ear"),z("👃","Nose"),z("👄","Mouth"),z("👅","Tongue"),z("💪","Flexed Biceps"),z("🤳","Selfie"),z("🦴","Bone"),z("🦵","Leg"),z("🦶","Foot"),z("🦷","Tooth"),z("🦻","Ear with Hearing Aid"),z("🦾","Mechanical Arm"),z("🦿","Mechanical Leg"),z("🧠","Brain")),hu=U("Animals","Animals and insects",z("🐀","Rat"),z("🐁","Mouse"),z("🐂","Ox"),z("🐃","Water Buffalo"),z("🐄","Cow"),z("🐅","Tiger"),z("🐆","Leopard"),z("🐇","Rabbit"),z("🐈","Cat"),z("🐉","Dragon"),z("🐊","Crocodile"),z("🐋","Whale"),z("🐌","Snail"),z("🐍","Snake"),z("🐎","Horse"),z("🐏","Ram"),z("🐐","Goat"),z("🐑","Ewe"),z("🐒","Monkey"),z("🐓","Rooster"),z("🐔","Chicken"),z("🐕","Dog"),z("🐕‍🦺","Service Dog"),z("🐖","Pig"),z("🐗","Boar"),z("🐘","Elephant"),z("🐙","Octopus"),z("🐚","Spiral Shell"),z("🐛","Bug"),z("🐜","Ant"),z("🐝","Honeybee"),z("🐞","Lady Beetle"),z("🐟","Fish"),z("🐠","Tropical Fish"),z("🐡","Blowfish"),z("🐢","Turtle"),z("🐣","Hatching Chick"),z("🐤","Baby Chick"),z("🐥","Front-Facing Baby Chick"),z("🐦","Bird"),z("🐧","Penguin"),z("🐨","Koala"),z("🐩","Poodle"),z("🐪","Camel"),z("🐫","Two-Hump Camel"),z("🐬","Dolphin"),z("🐭","Mouse Face"),z("🐮","Cow Face"),z("🐯","Tiger Face"),z("🐰","Rabbit Face"),z("🐱","Cat Face"),z("🐲","Dragon Face"),z("🐳","Spouting Whale"),z("🐴","Horse Face"),z("🐵","Monkey Face"),z("🐶","Dog Face"),z("🐷","Pig Face"),z("🐸","Frog"),z("🐹","Hamster"),z("🐺","Wolf"),z("🐻","Bear"),z("🐻‍❄️","Polar Bear"),z("🐼","Panda"),z("🐽","Pig Nose"),z("🐾","Paw Prints"),z("🐿️","Chipmunk"),z("🕊️","Dove"),z("🕷️","Spider"),z("🕸️","Spider Web"),z("🦁","Lion"),z("🦂","Scorpion"),z("🦃","Turkey"),z("🦄","Unicorn"),z("🦅","Eagle"),z("🦆","Duck"),z("🦇","Bat"),z("🦈","Shark"),z("🦉","Owl"),z("🦊","Fox"),z("🦋","Butterfly"),z("🦌","Deer"),z("🦍","Gorilla"),z("🦎","Lizard"),z("🦏","Rhinoceros"),z("🦒","Giraffe"),z("🦓","Zebra"),z("🦔","Hedgehog"),z("🦕","Sauropod"),z("🦖","T-Rex"),z("🦗","Cricket"),z("🦘","Kangaroo"),z("🦙","Llama"),z("🦚","Peacock"),z("🦛","Hippopotamus"),z("🦜","Parrot"),z("🦝","Raccoon"),z("🦟","Mosquito"),z("🦠","Microbe"),z("🦡","Badger"),z("🦢","Swan"),z("🦥","Sloth"),z("🦦","Otter"),z("🦧","Orangutan"),z("🦨","Skunk"),z("🦩","Flamingo"),z("🦮","Guide Dog")),Au=z("💮","White Flower"),du=U("Plants","Flowers, trees, and things",z("🌱","Seedling"),z("🌲","Evergreen Tree"),z("🌳","Deciduous Tree"),z("🌴","Palm Tree"),z("🌵","Cactus"),z("🌷","Tulip"),z("🌸","Cherry Blossom"),z("🌹","Rose"),z("🌺","Hibiscus"),z("🌻","Sunflower"),z("🌼","Blossom"),Zs,z("🌿","Herb"),z("🍀","Four Leaf Clover"),z("🍁","Maple Leaf"),z("🍂","Fallen Leaf"),z("🍃","Leaf Fluttering in Wind"),z("🏵️","Rosette"),z("💐","Bouquet"),Au,z("🥀","Wilted Flower"),z("☘️","Shamrock")),pu=z("🍌","Banana"),gu=U("Food","Food, drink, and utensils",z("🌭","Hot Dog"),z("🌮","Taco"),z("🌯","Burrito"),z("🌰","Chestnut"),z("🌶️","Hot Pepper"),z("🌽","Ear of Corn"),z("🍄","Mushroom"),z("🍅","Tomato"),z("🍆","Eggplant"),z("🍇","Grapes"),z("🍈","Melon"),z("🍉","Watermelon"),z("🍊","Tangerine"),z("🍋","Lemon"),pu,z("🍍","Pineapple"),z("🍎","Red Apple"),z("🍏","Green Apple"),z("🍐","Pear"),z("🍑","Peach"),z("🍒","Cherries"),z("🍓","Strawberry"),z("🍔","Hamburger"),z("🍕","Pizza"),z("🍖","Meat on Bone"),z("🍗","Poultry Leg"),z("🍘","Rice Cracker"),z("🍙","Rice Ball"),z("🍚","Cooked Rice"),z("🍛","Curry Rice"),z("🍜","Steaming Bowl"),z("🍝","Spaghetti"),z("🍞","Bread"),z("🍟","French Fries"),z("🍠","Roasted Sweet Potato"),z("🍡","Dango"),z("🍢","Oden"),z("🍣","Sushi"),z("🍤","Fried Shrimp"),z("🍥","Fish Cake with Swirl"),z("🍱","Bento Box"),z("🍲","Pot of Food"),Ks,z("🍿","Popcorn"),z("🥐","Croissant"),z("🥑","Avocado"),z("🥒","Cucumber"),z("🥓","Bacon"),z("🥔","Potato"),z("🥕","Carrot"),z("🥖","Baguette Bread"),z("🥗","Green Salad"),z("🥘","Shallow Pan of Food"),z("🥙","Stuffed Flatbread"),z("🥚","Egg"),z("🥜","Peanuts"),z("🥝","Kiwi Fruit"),z("🥞","Pancakes"),z("🥟","Dumpling"),z("🥠","Fortune Cookie"),z("🥡","Takeout Box"),z("🥣","Bowl with Spoon"),z("🥥","Coconut"),z("🥦","Broccoli"),z("🥨","Pretzel"),z("🥩","Cut of Meat"),z("🥪","Sandwich"),z("🥫","Canned Food"),z("🥬","Leafy Green"),z("🥭","Mango"),z("🥮","Moon Cake"),z("🥯","Bagel"),z("🦀","Crab"),z("🦐","Shrimp"),z("🦑","Squid"),z("🦞","Lobster"),z("🦪","Oyster"),z("🧀","Cheese Wedge"),z("🧂","Salt"),z("🧄","Garlic"),z("🧅","Onion"),z("🧆","Falafel"),z("🧇","Waffle"),z("🧈","Butter"),z("🍦","Soft Ice Cream"),z("🍧","Shaved Ice"),z("🍨","Ice Cream"),z("🍩","Doughnut"),z("🍪","Cookie"),z("🍫","Chocolate Bar"),z("🍬","Candy"),z("🍭","Lollipop"),z("🍮","Custard"),z("🍯","Honey Pot"),z("🍰","Shortcake"),z("🎂","Birthday Cake"),z("🥧","Pie"),z("🧁","Cupcake"),z("🍵","Teacup Without Handle"),z("🍶","Sake"),z("🍷","Wine Glass"),z("🍸","Cocktail Glass"),z("🍹","Tropical Drink"),z("🍺","Beer Mug"),z("🍻","Clinking Beer Mugs"),z("🍼","Baby Bottle"),z("🍾","Bottle with Popping Cork"),z("🥂","Clinking Glasses"),z("🥃","Tumbler Glass"),z("🥛","Glass of Milk"),z("🥤","Cup with Straw"),z("🧃","Beverage Box"),z("🧉","Mate"),z("🧊","Ice"),z("☕","Hot Beverage"),z("🍴","Fork and Knife"),z("🍽️","Fork and Knife with Plate"),z("🏺","Amphora"),z("🔪","Kitchen Knife"),z("🥄","Spoon"),z("🥢","Chopsticks")),fu=(U("National Flags","Flags of countries from around the world",z("🇦🇨","Flag: Ascension Island"),z("🇦🇩","Flag: Andorra"),z("🇦🇪","Flag: United Arab Emirates"),z("🇦🇫","Flag: Afghanistan"),z("🇦🇬","Flag: Antigua & Barbuda"),z("🇦🇮","Flag: Anguilla"),z("🇦🇱","Flag: Albania"),z("🇦🇲","Flag: Armenia"),z("🇦🇴","Flag: Angola"),z("🇦🇶","Flag: Antarctica"),z("🇦🇷","Flag: Argentina"),z("🇦🇸","Flag: American Samoa"),z("🇦🇹","Flag: Austria"),z("🇦🇺","Flag: Australia"),z("🇦🇼","Flag: Aruba"),z("🇦🇽","Flag: Åland Islands"),z("🇦🇿","Flag: Azerbaijan"),z("🇧🇦","Flag: Bosnia & Herzegovina"),z("🇧🇧","Flag: Barbados"),z("🇧🇩","Flag: Bangladesh"),z("🇧🇪","Flag: Belgium"),z("🇧🇫","Flag: Burkina Faso"),z("🇧🇬","Flag: Bulgaria"),z("🇧🇭","Flag: Bahrain"),z("🇧🇮","Flag: Burundi"),z("🇧🇯","Flag: Benin"),z("🇧🇱","Flag: St. Barthélemy"),z("🇧🇲","Flag: Bermuda"),z("🇧🇳","Flag: Brunei"),z("🇧🇴","Flag: Bolivia"),z("🇧🇶","Flag: Caribbean Netherlands"),z("🇧🇷","Flag: Brazil"),z("🇧🇸","Flag: Bahamas"),z("🇧🇹","Flag: Bhutan"),z("🇧🇻","Flag: Bouvet Island"),z("🇧🇼","Flag: Botswana"),z("🇧🇾","Flag: Belarus"),z("🇧🇿","Flag: Belize"),z("🇨🇦","Flag: Canada"),z("🇨🇨","Flag: Cocos (Keeling) Islands"),z("🇨🇩","Flag: Congo - Kinshasa"),z("🇨🇫","Flag: Central African Republic"),z("🇨🇬","Flag: Congo - Brazzaville"),z("🇨🇭","Flag: Switzerland"),z("🇨🇮","Flag: Côte d’Ivoire"),z("🇨🇰","Flag: Cook Islands"),z("🇨🇱","Flag: Chile"),z("🇨🇲","Flag: Cameroon"),z("🇨🇳","Flag: China"),z("🇨🇴","Flag: Colombia"),z("🇨🇵","Flag: Clipperton Island"),z("🇨🇷","Flag: Costa Rica"),z("🇨🇺","Flag: Cuba"),z("🇨🇻","Flag: Cape Verde"),z("🇨🇼","Flag: Curaçao"),z("🇨🇽","Flag: Christmas Island"),z("🇨🇾","Flag: Cyprus"),z("🇨🇿","Flag: Czechia"),z("🇩🇪","Flag: Germany"),z("🇩🇬","Flag: Diego Garcia"),z("🇩🇯","Flag: Djibouti"),z("🇩🇰","Flag: Denmark"),z("🇩🇲","Flag: Dominica"),z("🇩🇴","Flag: Dominican Republic"),z("🇩🇿","Flag: Algeria"),z("🇪🇦","Flag: Ceuta & Melilla"),z("🇪🇨","Flag: Ecuador"),z("🇪🇪","Flag: Estonia"),z("🇪🇬","Flag: Egypt"),z("🇪🇭","Flag: Western Sahara"),z("🇪🇷","Flag: Eritrea"),z("🇪🇸","Flag: Spain"),z("🇪🇹","Flag: Ethiopia"),z("🇪🇺","Flag: European Union"),z("🇫🇮","Flag: Finland"),z("🇫🇯","Flag: Fiji"),z("🇫🇰","Flag: Falkland Islands"),z("🇫🇲","Flag: Micronesia"),z("🇫🇴","Flag: Faroe Islands"),z("🇫🇷","Flag: France"),z("🇬🇦","Flag: Gabon"),z("🇬🇧","Flag: United Kingdom"),z("🇬🇩","Flag: Grenada"),z("🇬🇪","Flag: Georgia"),z("🇬🇫","Flag: French Guiana"),z("🇬🇬","Flag: Guernsey"),z("🇬🇭","Flag: Ghana"),z("🇬🇮","Flag: Gibraltar"),z("🇬🇱","Flag: Greenland"),z("🇬🇲","Flag: Gambia"),z("🇬🇳","Flag: Guinea"),z("🇬🇵","Flag: Guadeloupe"),z("🇬🇶","Flag: Equatorial Guinea"),z("🇬🇷","Flag: Greece"),z("🇬🇸","Flag: South Georgia & South Sandwich Islands"),z("🇬🇹","Flag: Guatemala"),z("🇬🇺","Flag: Guam"),z("🇬🇼","Flag: Guinea-Bissau"),z("🇬🇾","Flag: Guyana"),z("🇭🇰","Flag: Hong Kong SAR China"),z("🇭🇲","Flag: Heard & McDonald Islands"),z("🇭🇳","Flag: Honduras"),z("🇭🇷","Flag: Croatia"),z("🇭🇹","Flag: Haiti"),z("🇭🇺","Flag: Hungary"),z("🇮🇨","Flag: Canary Islands"),z("🇮🇩","Flag: Indonesia"),z("🇮🇪","Flag: Ireland"),z("🇮🇱","Flag: Israel"),z("🇮🇲","Flag: Isle of Man"),z("🇮🇳","Flag: India"),z("🇮🇴","Flag: British Indian Ocean Territory"),z("🇮🇶","Flag: Iraq"),z("🇮🇷","Flag: Iran"),z("🇮🇸","Flag: Iceland"),z("🇮🇹","Flag: Italy"),z("🇯🇪","Flag: Jersey"),z("🇯🇲","Flag: Jamaica"),z("🇯🇴","Flag: Jordan"),z("🇯🇵","Flag: Japan"),z("🇰🇪","Flag: Kenya"),z("🇰🇬","Flag: Kyrgyzstan"),z("🇰🇭","Flag: Cambodia"),z("🇰🇮","Flag: Kiribati"),z("🇰🇲","Flag: Comoros"),z("🇰🇳","Flag: St. Kitts & Nevis"),z("🇰🇵","Flag: North Korea"),z("🇰🇷","Flag: South Korea"),z("🇰🇼","Flag: Kuwait"),z("🇰🇾","Flag: Cayman Islands"),z("🇰🇿","Flag: Kazakhstan"),z("🇱🇦","Flag: Laos"),z("🇱🇧","Flag: Lebanon"),z("🇱🇨","Flag: St. Lucia"),z("🇱🇮","Flag: Liechtenstein"),z("🇱🇰","Flag: Sri Lanka"),z("🇱🇷","Flag: Liberia"),z("🇱🇸","Flag: Lesotho"),z("🇱🇹","Flag: Lithuania"),z("🇱🇺","Flag: Luxembourg"),z("🇱🇻","Flag: Latvia"),z("🇱🇾","Flag: Libya"),z("🇲🇦","Flag: Morocco"),z("🇲🇨","Flag: Monaco"),z("🇲🇩","Flag: Moldova"),z("🇲🇪","Flag: Montenegro"),z("🇲🇫","Flag: St. Martin"),z("🇲🇬","Flag: Madagascar"),z("🇲🇭","Flag: Marshall Islands"),z("🇲🇰","Flag: North Macedonia"),z("🇲🇱","Flag: Mali"),z("🇲🇲","Flag: Myanmar (Burma)"),z("🇲🇳","Flag: Mongolia"),z("🇲🇴","Flag: Macao Sar China"),z("🇲🇵","Flag: Northern Mariana Islands"),z("🇲🇶","Flag: Martinique"),z("🇲🇷","Flag: Mauritania"),z("🇲🇸","Flag: Montserrat"),z("🇲🇹","Flag: Malta"),z("🇲🇺","Flag: Mauritius"),z("🇲🇻","Flag: Maldives"),z("🇲🇼","Flag: Malawi"),z("🇲🇽","Flag: Mexico"),z("🇲🇾","Flag: Malaysia"),z("🇲🇿","Flag: Mozambique"),z("🇳🇦","Flag: Namibia"),z("🇳🇨","Flag: New Caledonia"),z("🇳🇪","Flag: Niger"),z("🇳🇫","Flag: Norfolk Island"),z("🇳🇬","Flag: Nigeria"),z("🇳🇮","Flag: Nicaragua"),z("🇳🇱","Flag: Netherlands"),z("🇳🇴","Flag: Norway"),z("🇳🇵","Flag: Nepal"),z("🇳🇷","Flag: Nauru"),z("🇳🇺","Flag: Niue"),z("🇳🇿","Flag: New Zealand"),z("🇴🇲","Flag: Oman"),z("🇵🇦","Flag: Panama"),z("🇵🇪","Flag: Peru"),z("🇵🇫","Flag: French Polynesia"),z("🇵🇬","Flag: Papua New Guinea"),z("🇵🇭","Flag: Philippines"),z("🇵🇰","Flag: Pakistan"),z("🇵🇱","Flag: Poland"),z("🇵🇲","Flag: St. Pierre & Miquelon"),z("🇵🇳","Flag: Pitcairn Islands"),z("🇵🇷","Flag: Puerto Rico"),z("🇵🇸","Flag: Palestinian Territories"),z("🇵🇹","Flag: Portugal"),z("🇵🇼","Flag: Palau"),z("🇵🇾","Flag: Paraguay"),z("🇶🇦","Flag: Qatar"),z("🇷🇪","Flag: Réunion"),z("🇷🇴","Flag: Romania"),z("🇷🇸","Flag: Serbia"),z("🇷🇺","Flag: Russia"),z("🇷🇼","Flag: Rwanda"),z("🇸🇦","Flag: Saudi Arabia"),z("🇸🇧","Flag: Solomon Islands"),z("🇸🇨","Flag: Seychelles"),z("🇸🇩","Flag: Sudan"),z("🇸🇪","Flag: Sweden"),z("🇸🇬","Flag: Singapore"),z("🇸🇭","Flag: St. Helena"),z("🇸🇮","Flag: Slovenia"),z("🇸🇯","Flag: Svalbard & Jan Mayen"),z("🇸🇰","Flag: Slovakia"),z("🇸🇱","Flag: Sierra Leone"),z("🇸🇲","Flag: San Marino"),z("🇸🇳","Flag: Senegal"),z("🇸🇴","Flag: Somalia"),z("🇸🇷","Flag: Suriname"),z("🇸🇸","Flag: South Sudan"),z("🇸🇹","Flag: São Tomé & Príncipe"),z("🇸🇻","Flag: El Salvador"),z("🇸🇽","Flag: Sint Maarten"),z("🇸🇾","Flag: Syria"),z("🇸🇿","Flag: Eswatini"),z("🇹🇦","Flag: Tristan Da Cunha"),z("🇹🇨","Flag: Turks & Caicos Islands"),z("🇹🇩","Flag: Chad"),z("🇹🇫","Flag: French Southern Territories"),z("🇹🇬","Flag: Togo"),z("🇹🇭","Flag: Thailand"),z("🇹🇯","Flag: Tajikistan"),z("🇹🇰","Flag: Tokelau"),z("🇹🇱","Flag: Timor-Leste"),z("🇹🇲","Flag: Turkmenistan"),z("🇹🇳","Flag: Tunisia"),z("🇹🇴","Flag: Tonga"),z("🇹🇷","Flag: Turkey"),z("🇹🇹","Flag: Trinidad & Tobago"),z("🇹🇻","Flag: Tuvalu"),z("🇹🇼","Flag: Taiwan"),z("🇹🇿","Flag: Tanzania"),z("🇺🇦","Flag: Ukraine"),z("🇺🇬","Flag: Uganda"),z("🇺🇲","Flag: U.S. Outlying Islands"),z("🇺🇳","Flag: United Nations"),z("🇺🇸","Flag: United States"),z("🇺🇾","Flag: Uruguay"),z("🇺🇿","Flag: Uzbekistan"),z("🇻🇦","Flag: Vatican City"),z("🇻🇨","Flag: St. Vincent & Grenadines"),z("🇻🇪","Flag: Venezuela"),z("🇻🇬","Flag: British Virgin Islands"),z("🇻🇮","Flag: U.S. Virgin Islands"),z("🇻🇳","Flag: Vietnam"),z("🇻🇺","Flag: Vanuatu"),z("🇼🇫","Flag: Wallis & Futuna"),z("🇼🇸","Flag: Samoa"),z("🇽🇰","Flag: Kosovo"),z("🇾🇪","Flag: Yemen"),z("🇾🇹","Flag: Mayotte"),z("🇿🇦","Flag: South Africa"),z("🇿🇲","Flag: Zambia"),z("🇿🇼","Flag: Zimbabwe")),U("Flags","Basic flags",z("🎌","Crossed Flags"),z("🏁","Chequered Flag"),z("🏳️","White Flag"),z("🏳️‍🌈","Rainbow Flag"),z("🏴","Black Flag"),z("🏴󠁧󠁢󠁥󠁮󠁧󠁿","Flag: England"),z("🏴󠁧󠁢󠁳󠁣󠁴󠁿","Flag: Scotland"),z("🏴󠁧󠁢󠁷󠁬󠁳󠁿","Flag: Wales"),z("🚩","Triangular Flag"))),mu=z("🏍️","Motorcycle"),vu=z("🏎️","Racing Car"),wu=z("💺","Seat"),yu=z("🚁","Helicopter"),Du=z("🚂","Locomotive"),bu=z("🚃","Railway Car"),xu=z("🚄","High-Speed Train"),Cu=z("🚅","Bullet Train"),Bu=z("🚆","Train"),Pu=z("🚇","Metro"),Eu=z("🚈","Light Rail"),_u=z("🚉","Station"),Mu=z("🚊","Tram"),Su=z("🚋","Tram Car"),Fu=z("🚌","Bus"),Tu=z("🚍","Oncoming Bus"),ku=z("🚎","Trolleybus"),Iu=z("🚏","Bus Stop"),Lu=z("🚐","Minibus"),Ou=z("🚑","Ambulance"),Ru=(z("🚓","Police Car"),z("🚔","Oncoming Police Car"),z("🚕","Taxi")),Nu=z("🚖","Oncoming Taxi"),Hu=z("🚗","Automobile"),Qu=z("🚘","Oncoming Automobile"),ju=z("🚙","Sport Utility Vehicle"),zu=z("🚚","Delivery Truck"),Uu=z("🚛","Articulated Lorry"),Wu=z("🚜","Tractor"),Gu=z("🚝","Monorail"),Yu=z("🚞","Mountain Railway"),qu=z("🚟","Suspension Railway"),Vu=z("🚠","Mountain Cableway"),Xu=z("🚡","Aerial Tramway"),Zu=z("🚢","Ship"),Ju=z("🚤","Speedboat"),Ku=z("🚥","Horizontal Traffic Light"),$u=z("🚦","Vertical Traffic Light"),eh=z("🚧","Construction"),th=(z("🚨","Police Car Light"),z("🚲","Bicycle")),ih=z("🛑","Stop Sign"),nh=z("🛢️","Oil Drum"),sh=z("🛣️","Motorway"),ah=z("🛤️","Railway Track"),oh=z("🛥️","Motor Boat"),rh=z("🛩️","Small Airplane"),lh=z("🛫","Airplane Departure"),ch=z("🛬","Airplane Arrival"),uh=z("🛰️","Satellite"),hh=z("🛳️","Passenger Ship"),Ah=z("🛴","Kick Scooter"),dh=z("🛵","Motor Scooter"),ph=z("🛶","Canoe"),gh=z("🛸","Flying Saucer"),fh=z("🛹","Skateboard"),mh=z("🛺","Auto Rickshaw"),vh=z("🪂","Parachute"),wh=z("⚓","Anchor"),yh=z("⛴️","Ferry"),Dh=z("⛵","Sailboat"),bh=z("⛽","Fuel Pump"),xh=U("Vehicles","Things that go",mu,vu,wu,la,yu,Du,bu,xu,Cu,Bu,Pu,Eu,_u,Mu,Su,Fu,Tu,ku,Iu,Lu,Ou,oa,Ru,Nu,Hu,Qu,ju,zu,Uu,Wu,Gu,Yu,qu,Vu,Xu,Zu,Ju,Ku,$u,eh,th,ih,nh,sh,ah,oh,rh,lh,ch,uh,hh,Ah,dh,ph,gh,fh,mh,ka,La,vh,wh,yh,Dh,bh,ua),Ch=(U("Blood Types","Blood types",z("🅰","A Button (Blood Type)"),z("🅱","B Button (Blood Type)"),z("🅾","O Button (Blood Type)"),z("🆎","AB Button (Blood Type)")),U("Regions","Region indicators",z("🇦","Regional Indicator Symbol Letter A"),z("🇧","Regional Indicator Symbol Letter B"),z("🇨","Regional Indicator Symbol Letter C"),z("🇩","Regional Indicator Symbol Letter D"),z("🇪","Regional Indicator Symbol Letter E"),z("🇫","Regional Indicator Symbol Letter F"),z("🇬","Regional Indicator Symbol Letter G"),z("🇭","Regional Indicator Symbol Letter H"),z("🇮","Regional Indicator Symbol Letter I"),z("🇯","Regional Indicator Symbol Letter J"),z("🇰","Regional Indicator Symbol Letter K"),z("🇱","Regional Indicator Symbol Letter L"),z("🇲","Regional Indicator Symbol Letter M"),z("🇳","Regional Indicator Symbol Letter N"),z("🇴","Regional Indicator Symbol Letter O"),z("🇵","Regional Indicator Symbol Letter P"),z("🇶","Regional Indicator Symbol Letter Q"),z("🇷","Regional Indicator Symbol Letter R"),z("🇸","Regional Indicator Symbol Letter S"),z("🇹","Regional Indicator Symbol Letter T"),z("🇺","Regional Indicator Symbol Letter U"),z("🇻","Regional Indicator Symbol Letter V"),z("🇼","Regional Indicator Symbol Letter W"),z("🇽","Regional Indicator Symbol Letter X"),z("🇾","Regional Indicator Symbol Letter Y"),z("🇿","Regional Indicator Symbol Letter Z")),U("Japanese","Japanse symbology",z("🔰","Japanese Symbol for Beginner"),z("🈁","Japanese “Here” Button"),z("🈂️","Japanese “Service Charge” Button"),z("🈚","Japanese “Free of Charge” Button"),z("🈯","Japanese “Reserved” Button"),z("🈲","Japanese “Prohibited” Button"),z("🈳","Japanese “Vacancy” Button"),z("🈴","Japanese “Passing Grade” Button"),z("🈵","Japanese “No Vacancy” Button"),z("🈶","Japanese “Not Free of Charge” Button"),z("🈷️","Japanese “Monthly Amount” Button"),z("🈸","Japanese “Application” Button"),z("🈹","Japanese “Discount” Button"),z("🈺","Japanese “Open for Business” Button"),z("🉐","Japanese “Bargain” Button"),z("🉑","Japanese “Acceptable” Button"),z("㊗️","Japanese “Congratulations” Button"),z("㊙️","Japanese “Secret” Button")),U("Clocks","Time-keeping pieces",z("🕐","One O’Clock"),z("🕑","Two O’Clock"),z("🕒","Three O’Clock"),z("🕓","Four O’Clock"),z("🕔","Five O’Clock"),z("🕕","Six O’Clock"),z("🕖","Seven O’Clock"),z("🕗","Eight O’Clock"),z("🕘","Nine O’Clock"),z("🕙","Ten O’Clock"),z("🕚","Eleven O’Clock"),z("🕛","Twelve O’Clock"),z("🕜","One-Thirty"),z("🕝","Two-Thirty"),z("🕞","Three-Thirty"),z("🕟","Four-Thirty"),z("🕠","Five-Thirty"),z("🕡","Six-Thirty"),z("🕢","Seven-Thirty"),z("🕣","Eight-Thirty"),z("🕤","Nine-Thirty"),z("🕥","Ten-Thirty"),z("🕦","Eleven-Thirty"),z("🕧","Twelve-Thirty"),z("🕰️","Mantelpiece Clock"),z("⌚","Watch"),z("⏰","Alarm Clock"),z("⏱️","Stopwatch"),z("⏲️","Timer Clock"),z("⌛","Hourglass Done"),z("⏳","Hourglass Not Done"))),Bh=z("🔃️","Clockwise Vertical Arrows"),Ph=z("🔄️","Counterclockwise Arrows Button"),Eh=z("↔️","Left-Right Arrow"),_h=z("↕️","Up-Down Arrow"),Mh=z("↖️","Up-Left Arrow"),Sh=z("↗️","Up-Right Arrow"),Fh=z("↘","Down-Right Arrow"),Th=(z("↘︎","Down-Right Arrow"),z("↘️","Down-Right Arrow")),kh=z("↙️","Down-Left Arrow"),Ih=z("↩️","Right Arrow Curving Left"),Lh=z("↪️","Left Arrow Curving Right"),Oh=z("➡️","Right Arrow"),Rh=z("⤴️","Right Arrow Curving Up"),Nh=z("⤵️","Right Arrow Curving Down"),Hh=z("⬅️","Left Arrow"),Qh=z("⬆️","Up Arrow"),jh=z("⬇️","Down Arrow"),zh=U("Arrows","Arrows pointing in different directions",Bh,Ph,Eh,_h,Mh,Sh,Th,kh,Ih,Lh,Oh,Rh,Nh,Hh,Qh,jh),Uh=U("Shapes","Colored shapes",z("🔴","Red Circle"),z("🔵","Blue Circle"),z("🔶","Large Orange Diamond"),z("🔷","Large Blue Diamond"),z("🔸","Small Orange Diamond"),z("🔹","Small Blue Diamond"),z("🔺","Red Triangle Pointed Up"),z("🔻","Red Triangle Pointed Down"),z("🟠","Orange Circle"),z("🟡","Yellow Circle"),z("🟢","Green Circle"),z("🟣","Purple Circle"),z("🟤","Brown Circle"),z("⭕","Hollow Red Circle"),z("⚪","White Circle"),z("⚫","Black Circle"),z("🟥","Red Square"),z("🟦","Blue Square"),z("🟧","Orange Square"),z("🟨","Yellow Square"),z("🟩","Green Square"),z("🟪","Purple Square"),z("🟫","Brown Square"),z("🔲","Black Square Button"),z("🔳","White Square Button"),z("▪️","Black Small Square"),z("▫️","White Small Square"),z("◽","White Medium-Small Square"),z("◾","Black Medium-Small Square"),z("◻️","White Medium Square"),z("◼️","Black Medium Square"),z("⬛","Black Large Square"),z("⬜","White Large Square"),z("⭐","Star"),z("💠","Diamond with a Dot")),Wh=z("🆑","CL Button"),Gh=z("🆒","Cool Button"),Yh=z("🆓","Free Button"),qh=z("🆔","ID Button"),Vh=z("🆕","New Button"),Xh=z("🆖","NG Button"),Zh=z("🆗","OK Button"),Jh=z("🆘","SOS Button"),Kh=z("🆙","Up! Button"),$h=z("🆚","Vs Button"),eA=z("🔘","Radio Button"),tA=z("🔙","Back Arrow"),iA=z("🔚","End Arrow"),nA=z("🔛","On! Arrow"),sA=z("🔜","Soon Arrow"),aA=z("🔝","Top Arrow"),oA=z("☑️","Check Box with Check"),rA=z("🔠","Input Latin Uppercase"),lA=z("🔡","Input Latin Lowercase"),cA=z("🔢","Input Numbers"),uA=z("🔣","Input Symbols"),hA=z("🔤","Input Latin Letters"),AA=z("🔀","Shuffle Tracks Button"),dA=z("🔁","Repeat Button"),pA=z("🔂","Repeat Single Button"),gA=z("🔼","Upwards Button"),fA=z("🔽","Downwards Button"),mA=z("▶️","Play Button"),vA=z("◀️","Reverse Button"),wA=z("⏏️","Eject Button"),yA=z("⏩","Fast-Forward Button"),DA=z("⏪","Fast Reverse Button"),bA=z("⏫","Fast Up Button"),xA=z("⏬","Fast Down Button"),CA=z("⏭️","Next Track Button"),BA=z("⏮️","Last Track Button"),PA=z("⏯️","Play or Pause Button"),EA=z("⏸️","Pause Button"),_A=z("⏹️","Stop Button"),MA=z("⏺️","Record Button"),SA=U("Buttons","Buttons",Wh,Gh,Yh,qh,Vh,Xh,Zh,Jh,Kh,$h,eA,tA,iA,nA,sA,aA,oA,rA,lA,cA,uA,hA,AA,dA,pA,gA,fA,mA,EA,vA,wA,yA,DA,bA,xA,CA,BA,PA,EA,_A,MA),FA=U("Zodiac","The symbology of astrology",z("♈","Aries"),z("♉","Taurus"),z("♊","Gemini"),z("♋","Cancer"),z("♌","Leo"),z("♍","Virgo"),z("♎","Libra"),z("♏","Scorpio"),z("♐","Sagittarius"),z("♑","Capricorn"),z("♒","Aquarius"),z("♓","Pisces"),z("⛎","Ophiuchus")),TA=(U("Numbers","Numbers",z("0️","Digit Zero"),z("1️","Digit One"),z("2️","Digit Two"),z("3️","Digit Three"),z("4️","Digit Four"),z("5️","Digit Five"),z("6️","Digit Six"),z("7️","Digit Seven"),z("8️","Digit Eight"),z("9️","Digit Nine"),z("*️","Asterisk"),z("#️","Number Sign"),z("0️⃣","Keycap Digit Zero"),z("1️⃣","Keycap Digit One"),z("2️⃣","Keycap Digit Two"),z("3️⃣","Keycap Digit Three"),z("4️⃣","Keycap Digit Four"),z("5️⃣","Keycap Digit Five"),z("6️⃣","Keycap Digit Six"),z("7️⃣","Keycap Digit Seven"),z("8️⃣","Keycap Digit Eight"),z("9️⃣","Keycap Digit Nine"),z("*️⃣","Keycap Asterisk"),z("#️⃣","Keycap Number Sign"),z("🔟","Keycap: 10")),z("󠀫","Tag Plus Sign")),kA=z("󠀭","Tag Hyphen-Minus"),IA=(U("Tags","Tags",z("󠀠","Tag Space"),z("󠀡","Tag Exclamation Mark"),z("󠀢","Tag Quotation Mark"),z("󠀣","Tag Number Sign"),z("󠀤","Tag Dollar Sign"),z("󠀥","Tag Percent Sign"),z("󠀦","Tag Ampersand"),z("󠀧","Tag Apostrophe"),z("󠀨","Tag Left Parenthesis"),z("󠀩","Tag Right Parenthesis"),z("󠀪","Tag Asterisk"),TA,z("󠀬","Tag Comma"),kA,z("󠀮","Tag Full Stop"),z("󠀯","Tag Solidus"),z("󠀰","Tag Digit Zero"),z("󠀱","Tag Digit One"),z("󠀲","Tag Digit Two"),z("󠀳","Tag Digit Three"),z("󠀴","Tag Digit Four"),z("󠀵","Tag Digit Five"),z("󠀶","Tag Digit Six"),z("󠀷","Tag Digit Seven"),z("󠀸","Tag Digit Eight"),z("󠀹","Tag Digit Nine"),z("󠀺","Tag Colon"),z("󠀻","Tag Semicolon"),z("󠀼","Tag Less-Than Sign"),z("󠀽","Tag Equals Sign"),z("󠀾","Tag Greater-Than Sign"),z("󠀿","Tag Question Mark"),z("󠁀","Tag Commercial at"),z("󠁁","Tag Latin Capital Letter a"),z("󠁂","Tag Latin Capital Letter B"),z("󠁃","Tag Latin Capital Letter C"),z("󠁄","Tag Latin Capital Letter D"),z("󠁅","Tag Latin Capital Letter E"),z("󠁆","Tag Latin Capital Letter F"),z("󠁇","Tag Latin Capital Letter G"),z("󠁈","Tag Latin Capital Letter H"),z("󠁉","Tag Latin Capital Letter I"),z("󠁊","Tag Latin Capital Letter J"),z("󠁋","Tag Latin Capital Letter K"),z("󠁌","Tag Latin Capital Letter L"),z("󠁍","Tag Latin Capital Letter M"),z("󠁎","Tag Latin Capital Letter N"),z("󠁏","Tag Latin Capital Letter O"),z("󠁐","Tag Latin Capital Letter P"),z("󠁑","Tag Latin Capital Letter Q"),z("󠁒","Tag Latin Capital Letter R"),z("󠁓","Tag Latin Capital Letter S"),z("󠁔","Tag Latin Capital Letter T"),z("󠁕","Tag Latin Capital Letter U"),z("󠁖","Tag Latin Capital Letter V"),z("󠁗","Tag Latin Capital Letter W"),z("󠁘","Tag Latin Capital Letter X"),z("󠁙","Tag Latin Capital Letter Y"),z("󠁚","Tag Latin Capital Letter Z"),z("󠁛","Tag Left Square Bracket"),z("󠁜","Tag Reverse Solidus"),z("󠁝","Tag Right Square Bracket"),z("󠁞","Tag Circumflex Accent"),z("󠁟","Tag Low Line"),z("󠁠","Tag Grave Accent"),z("󠁡","Tag Latin Small Letter a"),z("󠁢","Tag Latin Small Letter B"),z("󠁣","Tag Latin Small Letter C"),z("󠁤","Tag Latin Small Letter D"),z("󠁥","Tag Latin Small Letter E"),z("󠁦","Tag Latin Small Letter F"),z("󠁧","Tag Latin Small Letter G"),z("󠁨","Tag Latin Small Letter H"),z("󠁩","Tag Latin Small Letter I"),z("󠁪","Tag Latin Small Letter J"),z("󠁫","Tag Latin Small Letter K"),z("󠁬","Tag Latin Small Letter L"),z("󠁭","Tag Latin Small Letter M"),z("󠁮","Tag Latin Small Letter N"),z("󠁯","Tag Latin Small Letter O"),z("󠁰","Tag Latin Small Letter P"),z("󠁱","Tag Latin Small Letter Q"),z("󠁲","Tag Latin Small Letter R"),z("󠁳","Tag Latin Small Letter S"),z("󠁴","Tag Latin Small Letter T"),z("󠁵","Tag Latin Small Letter U"),z("󠁶","Tag Latin Small Letter V"),z("󠁷","Tag Latin Small Letter W"),z("󠁸","Tag Latin Small Letter X"),z("󠁹","Tag Latin Small Letter Y"),z("󠁺","Tag Latin Small Letter Z"),z("󠁻","Tag Left Curly Bracket"),z("󠁼","Tag Vertical Line"),z("󠁽","Tag Right Curly Bracket"),z("󠁾","Tag Tilde"),z("󠁿","Cancel Tag")),U("Math","Math",z("✖️","Multiply"),z("➕","Plus"),z("➖","Minus"),z("➗","Divide"))),LA=U("Games","Games",z("♠️","Spade Suit"),z("♣️","Club Suit"),z("♥️","Heart Suit",{color:"red"}),z("♦️","Diamond Suit",{color:"red"}),z("🀄","Mahjong Red Dragon"),z("🃏","Joker"),z("🎯","Direct Hit"),z("🎰","Slot Machine"),z("🎱","Pool 8 Ball"),z("🎲","Game Die"),z("🎳","Bowling"),z("🎴","Flower Playing Cards"),z("🧩","Puzzle Piece"),z("♟️","Chess Pawn"),z("🪀","Yo-Yo"),z("🪁","Kite")),OA=U("Sports Equipment","Sports equipment",z("🎽","Running Shirt"),z("🎾","Tennis"),z("🎿","Skis"),z("🏀","Basketball"),z("🏅","Sports Medal"),z("🏆","Trophy"),z("🏈","American Football"),z("🏉","Rugby Football"),z("🏏","Cricket Game"),z("🏐","Volleyball"),z("🏑","Field Hockey"),z("🏒","Ice Hockey"),z("🏓","Ping Pong"),z("🏸","Badminton"),z("🛷","Sled"),z("🥅","Goal Net"),z("🥇","1st Place Medal"),z("🥈","2nd Place Medal"),z("🥉","3rd Place Medal"),z("🥊","Boxing Glove"),z("🥌","Curling Stone"),z("🥍","Lacrosse"),z("🥎","Softball"),z("🥏","Flying Disc"),z("⚽","Soccer Ball"),z("⚾","Baseball"),z("⛸️","Ice Skate")),RA=U("Clothing","Clothing",z("🎩","Top Hat"),z("🤿","Diving Mask"),z("👒","Woman’s Hat"),z("👓","Glasses"),z("🕶️","Sunglasses"),z("👔","Necktie"),z("👕","T-Shirt"),z("👖","Jeans"),z("👗","Dress"),z("👘","Kimono"),z("👙","Bikini"),z("👚","Woman’s Clothes"),z("👛","Purse"),z("👜","Handbag"),z("👝","Clutch Bag"),z("👞","Man’s Shoe"),z("👟","Running Shoe"),z("👠","High-Heeled Shoe"),z("👡","Woman’s Sandal"),z("👢","Woman’s Boot"),z("🥋","Martial Arts Uniform"),z("🥻","Sari"),z("🥼","Lab Coat"),z("🥽","Goggles"),z("🥾","Hiking Boot"),z("🥿","Flat Shoe"),Fa,z("🦺","Safety Vest"),z("🧢","Billed Cap"),z("🧣","Scarf"),z("🧤","Gloves"),z("🧥","Coat"),z("🧦","Socks"),z("🧿","Nazar Amulet"),z("🩰","Ballet Shoes"),z("🩱","One-Piece Swimsuit"),z("🩲","Briefs"),z("🩳","Shorts")),NA=U("Town","Town",z("🏗️","Building Construction"),z("🏘️","Houses"),z("🏙️","Cityscape"),z("🏚️","Derelict House"),z("🏛️","Classical Building"),z("🏜️","Desert"),z("🏝️","Desert Island"),z("🏞️","National Park"),z("🏟️","Stadium"),z("🏠","House"),z("🏡","House with Garden"),z("🏢","Office Building"),z("🏣","Japanese Post Office"),z("🏤","Post Office"),z("🏥","Hospital"),z("🏦","Bank"),z("🏧","ATM Sign"),z("🏨","Hotel"),z("🏩","Love Hotel"),z("🏪","Convenience Store"),Ys,z("🏬","Department Store"),ia,z("🌉","Bridge at Night"),z("⛲","Fountain"),z("🛍️","Shopping Bags"),z("🧾","Receipt"),z("🛒","Shopping Cart"),z("💈","Barber Pole"),z("💒","Wedding"),z("🗳️","Ballot Box with Ballot")),HA=U("Music","Music",z("🎼","Musical Score"),z("🎶","Musical Notes"),z("🎵","Musical Note"),z("🎷","Saxophone"),z("🎸","Guitar"),z("🎹","Musical Keyboard"),z("🎺","Trumpet"),z("🎻","Violin"),z("🥁","Drum"),z("🪕","Banjo")),QA=U("Weather","Weather",z("🌄","Sunrise Over Mountains"),z("🌅","Sunrise"),z("🌆","Cityscape at Dusk"),z("🌇","Sunset"),z("🌃","Night with Stars"),z("🌂","Closed Umbrella"),z("☂️","Umbrella"),z("☔️","Umbrella with Rain Drops"),z("☃️","Snowman"),z("⛄","Snowman Without Snow"),z("☀️","Sun"),z("☁️","Cloud"),z("🌤️","Sun Behind Small Cloud"),z("⛅","Sun Behind Cloud"),z("🌥️","Sun Behind Large Cloud"),z("🌦️","Sun Behind Rain Cloud"),z("🌧️","Cloud with Rain"),z("🌨️","Cloud with Snow"),z("🌩️","Cloud with Lightning"),z("⛈️","Cloud with Lightning and Rain"),z("❄️","Snowflake"),z("🌀","Cyclone"),z("🌪️","Tornado"),z("🌬️","Wind Face"),z("🌊","Water Wave"),z("🌫️","Fog"),z("🌁","Foggy"),z("🌈","Rainbow"),z("🌡️","Thermometer")),jA=U("Astronomy","Astronomy",z("🌌","Milky Way"),z("🌍","Globe Showing Europe-Africa"),z("🌎","Globe Showing Americas"),z("🌏","Globe Showing Asia-Australia"),z("🌐","Globe with Meridians"),z("🌑","New Moon"),z("🌒","Waxing Crescent Moon"),z("🌓","First Quarter Moon"),z("🌔","Waxing Gibbous Moon"),z("🌕","Full Moon"),z("🌖","Waning Gibbous Moon"),z("🌗","Last Quarter Moon"),z("🌘","Waning Crescent Moon"),z("🌙","Crescent Moon"),z("🌚","New Moon Face"),z("🌛","First Quarter Moon Face"),z("🌜","Last Quarter Moon Face"),z("🌝","Full Moon Face"),z("🌞","Sun with Face"),z("🌟","Glowing Star"),z("🌠","Shooting Star"),z("☄️","Comet"),z("🪐","Ringed Planet")),zA=U("Finance","Finance",z("💰","Money Bag"),z("💱","Currency Exchange"),z("💲","Heavy Dollar Sign"),z("💳","Credit Card"),z("💴","Yen Banknote"),z("💵","Dollar Banknote"),z("💶","Euro Banknote"),z("💷","Pound Banknote"),z("💸","Money with Wings"),z("💹","Chart Increasing with Yen")),UA=U("Writing","Writing",z("🖊️","Pen"),z("🖋️","Fountain Pen"),z("🖌️","Paintbrush"),z("🖍️","Crayon"),z("✏️","Pencil"),z("✒️","Black Nib")),WA=z("⚗️","Alembic"),GA=z("⚙️","Gear"),YA=z("⚛️","Atom Symbol"),qA=z("⌨️","Keyboard"),VA=z("☎️","Telephone"),XA=z("🎙️","Studio Microphone"),ZA=z("🎚️","Level Slider"),JA=z("🎛️","Control Knobs"),KA=z("🎥","Movie Camera"),$A=z("🎧","Headphone"),ed=z("🎮","Video Game"),td=z("💡","Light Bulb"),id=z("💽","Computer Disk"),nd=z("💾","Floppy Disk"),sd=z("💿","Optical Disk"),ad=z("📀","DVD"),od=z("📞","Telephone Receiver"),rd=z("📟","Pager"),ld=z("📠","Fax Machine"),cd=z("📡","Satellite Antenna"),ud=z("📢","Loudspeaker"),hd=z("📣","Megaphone"),Ad=z("📱","Mobile Phone"),dd=z("📲","Mobile Phone with Arrow"),pd=z("📳","Mobile Phone Vibrating"),gd=z("📴","Mobile Phone Off"),fd=z("📵","No Mobile Phone"),md=z("📶","Antenna Bars"),vd=z("📷","Camera"),wd=z("📸","Camera with Flash"),yd=z("📹","Video Camera"),Dd=z("📺","Television"),bd=z("📻","Radio"),xd=z("📼","Videocassette"),Cd=z("📽️","Film Projector"),Bd=(z("📾️","Portable Stereo"),z("🔅","Dim Button")),Pd=z("🔆","Bright Button"),Ed=z("🔇","Muted Speaker"),_d=z("🔈","Speaker Low Volume"),Md=z("🔉","Speaker Medium Volume"),Sd=z("🔊","Speaker High Volume"),Fd=z("🔋","Battery"),Td=z("🔌","Electric Plug"),kd=z("🔍","Magnifying Glass Tilted Left"),Id=z("🔎","Magnifying Glass Tilted Right"),Ld=z("🔏","Locked with Pen"),Od=z("🔐","Locked with Key"),Rd=z("🔑","Key"),Nd=z("🔒","Locked"),Hd=z("🔓","Unlocked"),Qd=z("🔔","Bell"),jd=z("🔕","Bell with Slash"),zd=z("🔖","Bookmark"),Ud=z("🔗","Link"),Wd=z("🕹️","Joystick"),Gd=z("🖥️","Desktop Computer"),Yd=z("🖨️","Printer"),qd=z("🖱️","Computer Mouse"),Vd=z("🖲️","Trackball"),Xd=(z("🖿","Black Folder"),z("🗀","Folder"),z("🗁","Open Folder"),z("🗂","Card Index Dividers")),Zd=z("🗃","Card File Box"),Jd=z("🗄","File Cabinet"),Kd=(z("🗅","Empty Note"),z("🗆","Empty Note Page"),z("🗇","Empty Note Pad"),z("🗈","Note"),z("🗉","Note Page"),z("🗊","Note Pad"),z("🗋","Empty Document"),z("🗌","Empty Page"),z("🗍","Empty Pages"),z("🗎","Document"),z("🗏","Page"),z("🗐","Pages"),z("🗑","Wastebasket")),$d=z("🗒","Spiral Note Pad"),ep=z("🗓","Spiral Calendar"),tp=(z("🗔","Desktop Window"),z("🗕","Minimize"),z("🗖","Maximize"),z("🗗","Overlap"),z("🗘","Reload"),z("🗙","Close"),z("🗚","Increase Font Size"),z("🗛","Decrease Font Size"),z("🗜","Compression")),ip=z("🗝","Old Key"),np=U("Technology","Technology",Wd,ed,td,fa,sa,id,nd,sd,ad,Gd,qA,Yd,qd,Vd,VA,od,rd,ld,cd,ud,hd,Dd,bd,xd,Cd,XA,ZA,JA,pa,KA,$A,vd,wd,yd,Ad,gd,dd,Ld,Od,Nd,Hd,Qd,jd,zd,Ud,pd,md,Bd,Pd,Ed,_d,Md,Sd,Fd,Td),sp=U("Mail","Mail",z("📤","Outbox Tray"),z("📥","Inbox Tray"),z("📦","Package"),z("📧","E-Mail"),z("📨","Incoming Envelope"),z("📩","Envelope with Arrow"),z("📪","Closed Mailbox with Lowered Flag"),z("📫","Closed Mailbox with Raised Flag"),z("📬","Open Mailbox with Raised Flag"),z("📭","Open Mailbox with Lowered Flag"),z("📮","Postbox"),z("📯","Postal Horn")),ap=U("Celebration","Celebration",z("🎀","Ribbon"),z("🎁","Wrapped Gift"),z("🎃","Jack-O-Lantern"),z("🎄","Christmas Tree"),z("🧨","Firecracker"),z("🎆","Fireworks"),z("🎇","Sparkler"),z("✨","Sparkles"),z("❇️","Sparkle"),z("🎈","Balloon"),z("🎉","Party Popper"),z("🎊","Confetti Ball"),z("🎋","Tanabata Tree"),z("🎍","Pine Decoration"),z("🎎","Japanese Dolls"),z("🎏","Carp Streamer"),z("🎐","Wind Chime"),z("🎑","Moon Viewing Ceremony"),z("🎒","Backpack"),Ws,z("🧧","Red Envelope"),z("🏮","Red Paper Lantern"),z("🎖️","Military Medal")),op=U("Tools","Tools",z("🎣","Fishing Pole"),z("🔦","Flashlight"),ea,z("🔨","Hammer"),z("🔩","Nut and Bolt"),z("🛠️","Hammer and Wrench"),z("🧭","Compass"),z("🧯","Fire Extinguisher"),z("🧰","Toolbox"),z("🧱","Brick"),z("🪓","Axe"),z("⚒️","Hammer and Pick"),z("⛏️","Pick"),z("⛑️","Rescue Worker’s Helmet"),z("⛓️","Chains"),tp),rp=U("Office","Office",z("📁","File Folder"),z("📂","Open File Folder"),z("📃","Page with Curl"),z("📄","Page Facing Up"),z("📅","Calendar"),z("📆","Tear-Off Calendar"),z("📇","Card Index"),Xd,Zd,Jd,Kd,$d,ep,z("📈","Chart Increasing"),z("📉","Chart Decreasing"),z("📊","Bar Chart"),z("📋","Clipboard"),z("📌","Pushpin"),z("📍","Round Pushpin"),z("📎","Paperclip"),z("🖇️","Linked Paperclips"),z("📏","Straight Ruler"),z("📐","Triangular Ruler"),z("📑","Bookmark Tabs"),z("📒","Ledger"),z("📓","Notebook"),z("📔","Notebook with Decorative Cover"),z("📕","Closed Book"),z("📖","Open Book"),z("📗","Green Book"),z("📘","Blue Book"),z("📙","Orange Book"),z("📚","Books"),z("📛","Name Badge"),z("📜","Scroll"),z("📝","Memo"),z("✂️","Scissors"),z("✉️","Envelope")),lp=U("Signs","Signs",z("🎦","Cinema"),fd,z("🔞","No One Under Eighteen"),z("🚫","Prohibited"),z("🚬","Cigarette"),z("🚭","No Smoking"),z("🚮","Litter in Bin Sign"),z("🚯","No Littering"),z("🚰","Potable Water"),z("🚱","Non-Potable Water"),z("🚳","No Bicycles"),z("🚷","No Pedestrians"),z("🚸","Children Crossing"),z("🚹","Men’s Room"),z("🚺","Women’s Room"),z("🚻","Restroom"),z("🚼","Baby Symbol"),z("🚾","Water Closet"),z("🛂","Passport Control"),z("🛃","Customs"),z("🛄","Baggage Claim"),z("🛅","Left Luggage"),z("🅿️","Parking Button"),z("♿","Wheelchair Symbol"),z("☢️","Radioactive"),z("☣️","Biohazard"),z("⚠️","Warning"),z("⚡","High Voltage"),z("⛔","No Entry"),z("♻️","Recycling Symbol"),Ln,On,z("⚧️","Transgender Symbol")),cp=U("Religion","Religion",z("🔯","Dotted Six-Pointed Star"),z("✡️","Star of David"),z("🕉️","Om"),z("🕋","Kaaba"),z("🕌","Mosque"),z("🕍","Synagogue"),z("🕎","Menorah"),z("🛐","Place of Worship"),z("🛕","Hindu Temple"),z("☦️","Orthodox Cross"),z("✝️","Latin Cross"),z("☪️","Star and Crescent"),z("☮️","Peace Symbol"),z("☯️","Yin Yang"),z("☸️","Wheel of Dharma"),z("♾️","Infinity"),z("🪔","Diya Lamp"),z("⛩️","Shinto Shrine"),z("⛪","Church"),z("✴️","Eight-Pointed Star"),z("📿","Prayer Beads")),up=z("🚪","Door"),hp=U("Household","Household",z("💄","Lipstick"),z("💍","Ring"),z("💎","Gem Stone"),z("📰","Newspaper"),Rd,z("🔥","Fire"),z("🔫","Pistol"),z("🕯️","Candle"),z("🖼️","Framed Picture"),ip,z("🗞️","Rolled-Up Newspaper"),z("🗺️","World Map"),up,z("🚽","Toilet"),z("🚿","Shower"),z("🛁","Bathtub"),z("🛋️","Couch and Lamp"),z("🛏️","Bed"),z("🧴","Lotion Bottle"),z("🧵","Thread"),z("🧶","Yarn"),z("🧷","Safety Pin"),z("🧸","Teddy Bear"),z("🧹","Broom"),z("🧺","Basket"),z("🧻","Roll of Paper"),z("🧼","Soap"),z("🧽","Sponge"),z("🪑","Chair"),z("🪒","Razor"),z("🎗️","Reminder Ribbon")),Ap=U("Activities","Activities",z("🎞️","Film Frames"),z("🎟️","Admission Tickets"),z("🎠","Carousel Horse"),z("🎡","Ferris Wheel"),z("🎢","Roller Coaster"),Aa,z("🎪","Circus Tent"),z("🎫","Ticket"),z("🎬","Clapper Board"),z("🎭","Performing Arts")),dp=U("Travel","Travel",z("🏷️","Label"),z("🌋","Volcano"),z("🏔️","Snow-Capped Mountain"),z("⛰️","Mountain"),z("🏕️","Camping"),z("🏖️","Beach with Umbrella"),z("⛱️","Umbrella on Ground"),z("🏯","Japanese Castle"),z("👣","Footprints"),z("🗻","Mount Fuji"),z("🗼","Tokyo Tower"),z("🗽","Statue of Liberty"),z("🗾","Map of Japan"),z("🗿","Moai"),z("🛎️","Bellhop Bell"),z("🧳","Luggage"),z("⛳","Flag in Hole"),z("⛺","Tent"),z("♨️","Hot Springs")),pp=U("Medieval","Medieval",z("🏰","Castle"),z("🏹","Bow and Arrow"),ya,z("🔱","Trident Emblem"),z("🗡️","Dagger"),z("🛡️","Shield"),z("🔮","Crystal Ball"),z("⚔️","Crossed Swords"),z("⚜️","Fleur-de-lis")),gp=z("‼️","Double Exclamation Mark"),fp=z("⁉️","Exclamation Question Mark"),mp=z("ℹ️","Information"),vp=z("Ⓜ️","Circled M"),wp=z("✅","Check Mark Button"),yp=z("✔️","Check Mark"),Dp=z("✳️","Eight-Spoked Asterisk"),bp=z("❌","Cross Mark"),xp=z("❎","Cross Mark Button"),Cp=z("❓","Question Mark"),Bp=z("❔","White Question Mark"),Pp=z("❕","White Exclamation Mark"),Ep=z("❗","Exclamation Mark"),_p=z("➰","Curly Loop"),Mp=z("➿","Double Curly Loop"),Sp=z("〰️","Wavy Dash"),Fp=z("〽️","Part Alternation Mark"),Tp=z("™️","Trade Mark"),kp=z("©️","Copyright"),Ip=z("®️","Registered"),Lp=z("⛶️","Square: Four Corners"),Op=(W("Marks","Marks",{doubleExclamationMark:gp,interrobang:fp,information:mp,circledM:vp,checkMarkButton:wp,checkMark:yp,eightSpokedAsterisk:Dp,crossMark:bp,crossMarkButton:xp,questionMark:Cp,whiteQuestionMark:Bp,whiteExclamationMark:Pp,exclamationMark:Ep,curlyLoop:_p,doubleCurlyLoop:Mp,wavyDash:Sp,partAlternationMark:Fp,tradeMark:Tp,copyright:kp,registered:Ip}),z("💧","Droplet")),Rp=z("🩸","Drop of Blood"),Np=z("🩹","Adhesive Bandage"),Hp=z("🩺","Stethoscope"),Qp=z("💉","Syringe"),jp=z("💊","Pill"),zp=z("🧪","Test Tube"),Up=z("🧫","Petri Dish"),Wp=z("🧬","DNA"),Gp=z("🧮","Abacus"),Yp=z("🧲","Magnet"),qp=W("Science","Science",{droplet:Op,dropOfBlood:Rp,adhesiveBandage:Np,stethoscope:Hp,syringe:Qp,pill:jp,microscope:va,testTube:zp,petriDish:Up,dna:Wp,abacus:Gp,magnet:Yp,telescope:z("🔭","Telescope"),medical:zs,balanceScale:Vs,alembic:WA,gear:GA,atomSymbol:YA,magnifyingGlassTiltedLeft:kd,magnifyingGlassTiltedRight:Id}),Vp=z("♔","White Chess King"),Xp=z("♕","White Chess Queen"),Zp=z("♖","White Chess Rook"),Jp=z("♗","White Chess Bishop"),Kp=z("♘","White Chess Knight"),$p=z("♙","White Chess Pawn"),eg=W(Vp.value+Xp.value+Zp.value+Jp.value+Kp.value+$p.value,"White Chess Pieces",{width:"auto",king:Vp,queen:Xp,rook:Zp,bishop:Jp,knight:Kp,pawn:$p}),tg=z("♚","Black Chess King"),ig=z("♛","Black Chess Queen"),ng=z("♜","Black Chess Rook"),sg=z("♝","Black Chess Bishop"),ag=z("♞","Black Chess Knight"),og=z("♟","Black Chess Pawn"),rg=W(tg.value+ig.value+ng.value+sg.value+ag.value+og.value,"Black Chess Pieces",{width:"auto",king:tg,queen:ig,rook:ng,bishop:sg,knight:ag,pawn:og}),lg=W($p.value+og.value,"Chess Pawns",{width:"auto",white:$p,black:og}),cg=W(Zp.value+ng.value,"Chess Rooks",{width:"auto",white:Zp,black:ng}),ug=W(Jp.value+sg.value,"Chess Bishops",{width:"auto",white:Jp,black:sg}),hg=W(Kp.value+ag.value,"Chess Knights",{width:"auto",white:Kp,black:ag}),Ag=W(Xp.value+ig.value,"Chess Queens",{width:"auto",white:Xp,black:ig}),dg=W(Vp.value+tg.value,"Chess Kings",{width:"auto",white:Vp,black:tg}),pg=W("Chess Pieces","Chess Pieces",{width:"auto",white:eg,black:rg,pawns:lg,rooks:cg,bishops:ug,knights:hg,queens:Ag,kings:dg}),gg=z("⚀","Dice: Side 1"),fg=z("⚁","Dice: Side 2"),mg=z("⚂","Dice: Side 3"),vg=z("⚃","Dice: Side 4"),wg=z("⚄","Dice: Side 5"),yg=W("Dice","Dice",{dice1:gg,dice2:fg,dice3:mg,dice4:vg,dice5:wg,dice6:z("⚅","Dice: Side 6")}),Dg=W("All Icons","All Icons",{faces:bl,love:Wl,cartoon:dc,hands:cu,bodyParts:uu,people:ho,gestures:ws,inMotion:so,resting:co,roles:Ca,fantasy:Sa,animals:hu,plants:du,food:gu,flags:fu,vehicles:xh,clocks:Ch,arrows:zh,shapes:Uh,buttons:SA,zodiac:FA,chess:pg,dice:yg,math:IA,games:LA,sportsEquipment:OA,clothing:RA,town:NA,music:HA,weather:QA,astro:jA,finance:zA,writing:UA,science:qp,tech:np,mail:sp,celebration:ap,tools:op,office:rp,signs:lp,religion:cp,household:hp,activities:Ap,travel:dp,medieval:pp}),bg="The quick brown fox jumps over the lazy dog",xg=[];function K(e){const t=[];return e.fontStyle&&"normal"!==e.fontStyle&&t.push(e.fontStyle),e.fontVariant&&"normal"!==e.fontVariant&&t.push(e.fontVariant),e.fontWeight&&"normal"!==e.fontWeight&&t.push(e.fontWeight),t.push(e.fontSize+"px"),t.push(e.fontFamily),t.join(" ")}async function $(e,t=null){if(-1===xg.indexOf(e)){t=t||bg;0===(await document.fonts.load(e,t)).length?console.warn(`Failed to load font "${e}". If this is a system font, just set the object's \`value\` property, instead of calling \`loadFontAndSetText\`.`):xg.push(e)}}class Cg{constructor(e,t,...i){this.key=e,this.value=t,this.tags=i.map(e=>e.toLocaleUpperCase()),Object.freeze(this)}apply(e){0===this.tags.length||this.tags.indexOf(e.tagName)>-1?"style"===this.key?Object.assign(e[this.key],this.value):l(ge)?this.value?e.setAttribute(this.key,""):e.removeAttribute(this.key):e[this.key]=this.value:console.warn(`Element ${e.tagName} does not support Attribute ${this.key}`)}}function ee(e){return new Cg("autoplay",e,"audio","video")}function te(e){return new Cg("className",e)}function ie(e){return new Cg("disabled",e,"button","command","fieldset","input","keygen","optgroup","option","select","textarea")}function ne(e){return new Cg("htmlFor",e,"label","output")}function se(e){return new Cg("height",e,"canvas","embed","iframe","img","input","object","video")}function ae(e){return new Cg("href",e,"a","area","base","link")}function oe(e){return new Cg("id",e)}function re(e){return new Cg("max",e,"input","meter","progress")}function le(e){return new Cg("min",e,"input","meter")}function ce(e){return new Cg("muted",e,"audio","video")}function ue(e){return new Cg("placeholder",e,"input","textarea")}function he(e){return new Cg("playsInline",e,"audio","video")}function Ae(e){return new Cg("step",e,"input")}function de(e){return new Cg("title",e)}function pe(e){return new Cg("type",e,"button","input","command","embed","object","script","source","style","menu")}function ge(e){return new Cg("value",e,"button","data","input","li","meter","option","progress","param")}function fe(e){return new Cg("width",e,"canvas","embed","iframe","img","input","object","video")}function me(e){return e.isOpen?e.isOpen():"none"!==e.style.display}function ve(e,t,i=""){e.setOpen?e.setOpen(t,i):t?De(e,i):be(e)}function we(e,t,i,n,s){s=s||"",e.accessKey&&(s+=` <kbd>(ALT+${e.accessKey.toUpperCase()})</kbd>`),e.updateLabel?e.updateLabel(t,i,n,s):e.innerHTML=(t?i:n)+s}function ye(e,t=""){e.toggleOpen?e.toggleOpen(t):me(e)?be(e):De(e)}function De(e,t=""){e.show?e.show():e.style.display=t}function be(e){e.hide?e.hide():e.style.display="none"}const Bg=ie(!0),Pg=ie(!1);function xe(e,t){e.setLocked?e.setLocked(t):t?Bg.apply(e):Pg.apply(e)}class Eg extends Event{constructor(){super("tick"),this.t=0,this.dt=0,this.sdt=0,Object.seal(this)}copy(e){this.t=e.t,this.dt=e.dt,this.sdt=e.sdt}}class _g extends wt{constructor(e){super(),this._timer=null,this.targetFrameRate=e,this._onTick=e=>{const t=new Eg;let i=e;this._onTick=e=>{e>i&&(t.t=e,t.dt=e-i,t.sdt=t.dt,i=e,this._onTick=e=>{const n=e-i;n>0&&n>=this._frameTime&&(t.t=e,t.dt=n,t.sdt=Q(t.sdt,t.dt,.01),i=e,this.dispatchEvent(t))})}}}restart(){this.stop(),this.start()}get isRunning(){return null!==this._timer}start(){throw new Error("Not implemented in base class")}stop(){this._timer=null}get targetFrameRate(){return this._targetFPS}set targetFrameRate(e){this._targetFPS=e,this._frameTime=1e3/e}}class Mg extends _g{constructor(){super(120)}start(){const e=t=>{this._timer=requestAnimationFrame(e),this._onTick(t)};this._timer=requestAnimationFrame(e)}stop(){this.isRunning&&(cancelAnimationFrame(this._timer),super.stop())}}const Sg="tele.calla.chat",Fg=Sg,Tg="conference."+Sg;class kg{constructor(e,t){this.key=e,this.value=t,Object.freeze(this)}apply(e){e.style[this.key]=this.value}}class Ig{constructor(...e){this.set=new Map;const t=(e,t)=>{t||l(t)?this.set.set(e,t):this.set.has(e)&&this.set.delete(e)};for(let i of e)if(i instanceof kg){const{key:e,value:n}=i;t(e,n)}else if(i instanceof Ig)for(let e of i.set.entries()){const[i,n]=e;t(i,n)}}apply(e){for(let t of this.set.entries()){const[i,n]=t;e.style[i]=n}}}function Ce(e){return new kg("backgroundColor",e)}function Be(e){return new kg("fontFamily",e)}function Pe(e){return new kg("margin",e)}function Ee(e){return new kg("width",e)}function _e(e){return new kg("zIndex",e)}Be("'Droid Sans Mono', 'Consolas', 'Lucida Console', 'Courier New', 'Courier', monospace"),Be("-apple-system, '.SFNSText-Regular', 'San Francisco', 'Roboto', 'Segoe UI', 'Helvetica Neue', 'Lucida Grande', sans-serif");class Lg{constructor(e,t,i){if(!s(t))throw new Error("A function instance is required for this parameter");this.name=e,this.callback=t,this.opts=i,Object.freeze(this)}add(e){e.addEventListener(this.name,this.callback,this.opts)}remove(e){e.removeEventListener(this.name,this.callback)}}function Me(e,t){return new Lg("blur",e,t)}function Se(e,t){return new Lg("click",e,t)}function Fe(e,t){return new Lg("focus",e,t)}function Te(e,t){return new Lg("input",e,t)}function ke(e,t){return new Lg("mouseout",e,t)}function Ie(e,...t){let i=null;for(let e=0;e<t.length;++e){const n=t[e];s(n)&&(t[e]=n(!0)),n instanceof Cg&&"id"===n.key&&(i=document.getElementById(n.value))}null===i&&(i=document.createElement(e));for(let e of t)null!=e&&(a(e)||o(e)||l(e)||e instanceof Date?i.appendChild(document.createTextNode(e)):e instanceof Node?i.appendChild(e):e.element instanceof Node?i.appendChild(e.element):e instanceof Cg||e instanceof kg||e instanceof Ig?e.apply(i):e instanceof Lg?e.add(i):console.trace(`Skipping ${e}: unsupported value type.`,e));return i}function Le(...e){return Ie("a",...e)}function Oe(...e){return function(...e){return Ie("button",...e)}(...e,pe("button"))}function Re(...e){return Ie("canvas",...e)}function Ne(...e){return Ie("div",...e)}function He(...e){return Ie("h1",...e)}function Qe(...e){return Ie("input",...e)}function je(...e){return Qe(pe("text"),...e)}function ze(...e){return Qe(pe("url"),...e)}function Ue(...e){return Ie("label",...e)}function We(...e){return Ie("li",...e)}function Ge(...e){return Ie("option",...e)}function Ye(...e){return Ie("p",...e)}function qe(...e){return Ie("span",...e)}function Ve(...e){return Ie("ul",...e)}function Xe(e,t,...i){return window.OffscreenCanvas?new OffscreenCanvas(e,t):Re(...i,fe(e),se(t))}function Ze(...e){return Ne(Pe("auto"),...e)}const Og=new Event("toggleOptions"),Rg=new Event("tweet"),Ng=new Event("leave"),Hg=new Event("toggleFullscreen"),Qg=new Event("toggleInstructions"),jg=new Event("toggleUserDirectory"),zg=new Event("toggleAudio"),Ug=new Event("toggleVideo"),Wg=new Event("changeDevices"),Gg=new Event("emote"),Yg=new Event("selectEmoji"),qg=new Event("zoomChanged");class Vg extends wt{constructor(e,t,i){super();const n=e=>()=>this.dispatchEvent(e),s=e=>{this.zoom+=e,this.dispatchEvent(qg)};this.element=Ne(oe("controls")),this.element.append(this.optionsButton=Oe(oe("optionsButton"),de("Show/hide options"),Se(n(Og)),Ze(GA.value),Ze("Options")),this.instructionsButton=Oe(oe("instructionsButton"),de("Show/hide instructions"),Se(n(Qg)),Ze(Cp.value),Ze("Info")),this.shareButton=Oe(oe("shareButton"),de("Share your current room to twitter"),Se(n(Rg)),function(...e){return Ie("img",...e)}(function(e){return new Cg("src",e,"audio","embed","iframe","img","input","script","source","track","video")}("https://cdn2.iconfinder.com/data/icons/minimalism/512/twitter.png"),function(e){return new Cg("alt",e,"applet","area","img","input")}("icon"),function(e){return new Cg("role",e)}("presentation"),new kg("height","25px"),Pe("2px auto -2px auto")),Ze("Tweet")),this.showUsersButton=Oe(oe("showUsersButton"),de("View user directory"),Se(n(jg)),Ze(yl.value),Ze("Users")),this.fullscreenButton=Oe(oe("fullscreenButton"),de("Toggle fullscreen"),Se(n(Hg)),Se(()=>this.isFullscreen=!this.isFullscreen),Ze(Lp.value),Ze("Expand")),this.leaveButton=Oe(oe("leaveButton"),de("Leave the room"),Se(n(Ng)),Ze(up.value),Ze("Leave")),Ne(oe("toggleAudioControl"),te("comboButton"),this.toggleAudioButton=Oe(oe("toggleAudioButton"),de("Toggle audio mute/unmute"),Se(n(zg)),this.toggleAudioLabel=Ze(Sd.value),Ze("Audio")),this.toggleVideoButton=Oe(oe("toggleVideoButton"),de("Toggle video mute/unmute"),Se(n(Ug)),this.toggleVideoLabel=Ze(fd.value),Ze("Video")),this.changeDevicesButton=Oe(oe("changeDevicesButton"),de("Change devices"),Se(n(Wg)),Ze(gA.value),Ze("Change"))),Ne(oe("emojiControl"),te("comboButton"),function(e){return new kg("textAlign",e)}("center"),Oe(oe("emoteButton"),de("Emote"),Se(n(Gg)),this.emoteButton=Ze(Au.value),Ze("Emote")),Oe(oe("selectEmoteButton"),de("Select Emoji"),Se(n(Yg)),Ze(gA.value),Ze("Change"))),this.zoomInButton=Oe(oe("zoomInButton"),de("Zoom in"),Se(()=>s(.5)),Ze(kd.value),Ze("+")),Ne(oe("zoomSliderContainer"),this.slider=function(...e){return Qe(pe("range"),...e)}(oe("zoomSlider"),de("Zoom"),le(t),re(i),Ae(.1),ge(0),Te(()=>this.dispatchEvent(qg)))),this.zoomOutButton=Oe(oe("zoomOutButton"),de("Zoom out"),Se(()=>s(-.5)),Ze(Id.value),Ze("-"))),this._audioEnabled=!0,this._videoEnabled=!1,Object.seal(this)}get isFullscreen(){return null!==document.fullscreenElement}set isFullscreen(e){e?document.body.requestFullscreen():document.exitFullscreen(),we(this.fullscreenButton,e,Fh.value,Lp.value)}hide(){this.element.style.display="none"}show(){this.element.style.display=""}get enabled(){return!this.instructionsButton.disabled}set enabled(e){for(let t of this.element.querySelectorAll("button"))t.disabled=!e}get audioEnabled(){return this._audioEnabled}set audioEnabled(e){this._audioEnabled=e,we(this.toggleAudioLabel,e,Sd.value,Ed.value)}get videoEnabled(){return this._videoEnabled}set videoEnabled(e){this._videoEnabled=e,we(this.toggleVideoLabel,e,yd.value,fd.value)}setEmojiButton(e,t){this.emoteButton.innerHTML=t.value}get zoom(){return parseFloat(this.slider.value)}set zoom(e){this.slider.value=e}}class Xg extends wt{constructor(e,...t){super(),this.element=Ie(e,...t)}get id(){return this.element.id}get eventTarget(){return this.element}isForwardedEvent(e){return!0}addEventListener(e,t,i){this.isForwardedEvent(e)?this.eventTarget.addEventListener(e,t,i):super.addEventListener(e,t,i)}removeEventListener(e,t){this.isForwardedEvent(e)?this.eventTarget.removeEventListener(e,t):super.removeEventListener(e,t)}get style(){return this.element.style}get tagName(){return this.element.tagName}get disabled(){return this.element.disabled}set disabled(e){this.element.disabled=e}focus(){this.element.focus()}blur(){this.element.blur()}}const Zg=ie(!0),Jg=ie(!1),Kg=new WeakMap;function Je(e){if(function(e){for(;e.lastChild;)e.lastChild.remove()}(e.element),0===e.values.length)e.element.append(Ge(e.noSelectionText)),Zg.apply(e.element);else{e.emptySelectionEnabled&&e.element.append(Ge(e.noSelectionText));for(let t of e.values)e.element.append(Ge(ge(e.makeID(t)),e.makeLabel(t)));Jg.apply(e.element)}}function Ke(e,t,i,n,...s){return new $g(e,t,i,n,...s)}class $g extends Xg{constructor(e,t,i,n,...a){if(super("select",oe(e),...a),!s(i))throw new Error("makeID parameter must be a Function");if(!s(n))throw new Error("makeLabel parameter must be a Function");this.noSelectionText=t,this.makeID=e=>null!==e&&i(e)||null,this.makeLabel=e=>null!==e&&n(e)||"None",this.emptySelectionEnabled=!0,Object.seal(this)}get emptySelectionEnabled(){return this._emptySelectionEnabled}set emptySelectionEnabled(e){this._emptySelectionEnabled=e,Je(this)}get values(){return Kg.has(this)||Kg.set(this,[]),Kg.get(this)}set values(e){const t=this.selectedValue,i=this.values;i.splice(0,i.length,...e),Je(this),this.selectedValue=t}get options(){return this.element.options}get selectedIndex(){let e=this.element.selectedIndex;return this.emptySelectionEnabled&&--e,e}set selectedIndex(e){this.emptySelectionEnabled&&++e,this.element.selectedIndex=e}get selectedValue(){return 0<=this.selectedIndex&&this.selectedIndex<this.values.length?this.values[this.selectedIndex]:null}set selectedValue(e){this.selectedIndex=this.indexOf(e)}get selectedText(){const e=this.element.selectedOptions;if(1===e.length)return e[0].textContent||e[0].innerText}set selectedText(e){const t=this.values.findIndex(t=>null!==e&&this.makeLabel(t)===e);this.selectedIndex=t}indexOf(e){return this.values.findIndex(t=>null!==e&&this.makeID(e)===this.makeID(t))}contains(e){return this.indexOf(e)>=0}}const ef=new Event("hidden"),tf=new Event("shown");class nf extends wt{constructor(e){super(),this.element=Ne(oe(e)),this.header=this.element.querySelector(".header"),this.content=this.element.querySelector(".content"),this.footer=this.element.querySelector(".footer");const t=this.element.querySelector(".dialogTitle > button.closeButton");t&&t.addEventListener("click",()=>be(this))}get tagName(){return this.element.tagName}get disabled(){return this.element.disabled}set disabled(e){this.element.disabled=e}get style(){return this.element.style}appendChild(e){return this.element.appendChild(e)}append(...e){this.element.append(...e)}show(){De(this.element),this.dispatchEvent(tf)}async showAsync(){De(this),await O(this,"hidden")}hide(){be(this.element),this.dispatchEvent(ef)}}const sf=new Event("audioInputChanged"),af=new Event("audioOutputChanged"),of=new Event("videoInputChanged");class rf extends nf{constructor(){super("devices");const e=e=>()=>this.dispatchEvent(e);this.videoInputSelect=Ke("videoInputDevices","No video input",e=>e.deviceId,e=>e.label,Te(e(of))),this.audioInputSelect=Ke("audioInputDevices","No audio input",e=>e.deviceId,e=>e.label,Te(e(sf))),this.audioOutputSelect=Ke("audioOutputDevices","No audio output",e=>e.deviceId,e=>e.label,Te(e(af))),this.audioInputDevices=[],this.audioOutputDevices=[],this.videoInputDevices=[],Object.seal(this)}get audioInputDevices(){return this.audioInputSelect.values}set audioInputDevices(e){this.audioInputSelect.values=e}get currentAudioInputDevice(){return this.audioInputSelect.selectedValue}set currentAudioInputDevice(e){this.audioInputSelect.selectedValue=e}get audioOutputDevices(){return this.audioOutputSelect.values}set audioOutputDevices(e){this.audioOutputSelect.values=e}get currentAudioOutputDevice(){return this.audioOutputSelect.selectedValue}set currentAudioOutputDevice(e){this.audioOutputSelect.selectedValue=e}get videoInputDevices(){return this.videoInputSelect.values}set videoInputDevices(e){this.videoInputSelect.values=e}get currentVideoInputDevice(){return this.videoInputSelect.selectedValue}set currentVideoInputDevice(e){this.videoInputSelect.selectedValue=e}}function $e(e,t,i=null,n=null){return null===i&&(i=1),null===n&&(n=1),new kg("gridArea",`${t}/${e}/${t+n}/${e+i}`)}function et(e,t=null){return null===t&&(t=1),new kg("gridRow",`${e}/${e+t}`)}const lf=new kg("display","grid");function tt(...e){return function(...e){return new Ig(...e)}(lf,function(e){return new kg("gridTemplateColumns",e)}(e.join(" ")))}const cf=ie(!0),uf=ie(!1),hf=new Event("emojiCanceled");class Af extends nf{constructor(){super("emoji"),this.header.append(function(...e){return Ie("h2",...e)}("Recent"),this.recent=Ye("(None)"));const e=[],t=[];let i=null,n=0;function s(e,t){let i=e.value,n=i.indexOf(kn.value);return-1===n&&(n=i.indexOf(Tn.value)),n>=0&&(i=i.substring(0,n)),{value:i+t.value,desc:e.desc+"/"+t.desc}}const a=(e,o,r)=>{const l=e.alts||e;for(let e of l){const l=Oe(de(e.desc),Se(t=>{i=i&&t.ctrlKey?s(i,e):e,this.preview.innerHTML=`${i.value} - ${i.desc}`,uf.apply(this.confirmButton),c&&(ye(c),l.innerHTML=e.value+(me(c)?"-":"+"))}),e.value);let c=null,u=null;r?(l.id="emoji-with-alt-"+n++,u=Ve(We(l,Ue(ne(l.id),e.desc)))):u=qe(l),e.alts&&(c=Ne(),t.push(c),a(e,c,!0),be(c),u.appendChild(c),l.style.width="3em",l.innerHTML+="+"),e.width&&(l.style.width=e.width),e.color&&(l.style.color=e.color),o.appendChild(u)}};for(let e of Object.values(Dg))if(e instanceof Fn){const t=He(),i=Ye(),n=Le(ae("javascript:undefined"),de(e.desc),Se(()=>{ye(i),n.innerHTML=e.value+(me(i)?" -":" +")}),e.value+" -");a(e,i),t.appendChild(n),this.content.appendChild(t),this.content.appendChild(i)}this.footer.append(this.confirmButton=Oe(te("confirm"),"OK",Se(()=>{-1===e.indexOf(i)&&(e.push(i),this.recent.innerHTML="",a(e,this.recent)),this.dispatchEvent(new df(i)),be(this)})),Oe(te("cancel"),"Cancel",Se(()=>{cf.apply(this.confirmButton),this.dispatchEvent(hf),be(this)})),this.preview=qe($e(1,4,3,1))),cf.apply(this.confirmButton),this.selectAsync=()=>new Promise((e,i)=>{let n=null,s=null;const a=()=>{this.removeEventListener("emojiSelected",n),this.removeEventListener("emojiCanceled",s),this.removeEventListener("hidden",s)};n=t=>{a();try{e(t.emoji)}catch(e){i(e)}},s=()=>{a(),e(null)},this.addEventListener("emojiSelected",n),this.addEventListener("emojiCanceled",s),this.addEventListener("hidden",s),(()=>{for(let e of t)be(e)})(),De(this)})}}class df extends Event{constructor(e){super("emojiSelected"),this.emoji=e}}const pf=new WeakMap;class gf{constructor(e){this.ready=!1,this.connecting=!1,this.connected=!1,this.parent=e}validate(){const e=this.parent.roomName.length>0&&this.parent.userName.length>0;xe(this.parent.connectButton,!this.ready||this.connecting||this.connected||!e),this.parent.connectButton.innerHTML=this.connected?"Connected":this.connecting?"Connecting...":this.ready?"Connect":"Loading..."}}class ff extends nf{constructor(){super("login");const e=new gf(this);pf.set(this,e);const t=()=>e.validate();this.addEventListener("shown",()=>e.ready=!0),this.roomSelectControl=Ne(oe("roomSelectorControl")),this.roomEntryControl=Ne(oe("roomEntryControl"));const i=Array.prototype.map.call(this.element.querySelectorAll("#roomSelector option"),e=>({Name:e.textContent||e.innerText,ShortName:e.value}));this.roomSelect=Ke("roomSelector","No rooms available",e=>e.ShortName,e=>e.Name),this.roomSelect.addEventListener("input",t),this.roomSelect.emptySelectionEnabled=!1,this.roomSelect.values=i,this.roomSelect.selectedIndex=0,this.roomInput=je(oe("roomName")),this.roomInput.addEventListener("input",t),this.roomInput.addEventListener("keypress",e=>{"Enter"===e.key&&(0===this.userName.length?this.userNameInput.focus():0===this.email.length&&this.emailInput.focus())}),this.userNameInput=je(oe("userName")),this.userNameInput.addEventListener("input",t),this.userNameInput.addEventListener("keypress",e=>{"Enter"===e.key&&(0===this.userName.length?this.userNameInput.focus():0===this.roomName.length&&(this.roomSelectMode?this.roomSelect.focus():this.roomInput.focus()))}),this.emailInput=function(...e){return Qe(pe("email"),...e)}(oe("email")),this.emailInput.addEventListener("keypress",e=>{"Enter"===e.key&&(0===this.userName.length?this.userNameInput.focus():0===this.roomName.length&&(this.roomSelectMode?this.roomSelect.focus():this.roomInput.focus()))});Oe(oe("createNewRoom")).addEventListener("click",()=>{this.roomSelectMode=!1});Oe(oe("selectRoom")).addEventListener("click",()=>{this.roomSelectMode=!0}),this.connectButton=Oe(oe("connect")),this.addEventListener("login",()=>{this.connecting=!0}),this.roomSelectMode=!0,e.validate()}_checkInput(e,t){!e.shiftKey&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&"Enter"===e.key&&this.userName.length>0&&this.roomName.length>0&&t(e)}addEventListener(e,t,i){"login"===e?(this.connectButton.addEventListener("click",t,i),this.roomInput.addEventListener("keypress",e=>this._checkInput(e,t)),this.userNameInput.addEventListener("keypress",e=>this._checkInput(e,t))):super.addEventListener(e,t,i)}removeEventListener(e,t){"login"===e?this.connectButton.removeEventListener("click",t):super.removeEventListener(e,t)}get roomSelectMode(){return"none"!==this.roomSelectControl.style.display}set roomSelectMode(e){const t=pf.get(this);ve(this.roomSelectControl,e),ve(this.roomEntryControl,!e),e?this.roomSelect.selectedValue={ShortName:this.roomInput.value}:this.roomSelect.selectedIndex>=0&&(this.roomInput.value=this.roomSelect.selectedValue.ShortName),t.validate()}get roomName(){return(this.roomSelectMode?this.roomSelect.selectedValue&&this.roomSelect.selectedValue.ShortName:this.roomInput.value)||""}set roomName(e){null!=e&&0!==e.length||(e=this.roomSelect.values[0].ShortName),this.roomInput.value=e,this.roomSelect.selectedValue={ShortName:e},this.roomSelectMode=this.roomSelect.selectedIndex>-1,pf.get(this).validate()}set userName(e){this.userNameInput.value=e,pf.get(this).validate()}get userName(){return this.userNameInput.value}set email(e){this.emailInput.value=e}get email(){return this.emailInput.value}get connectButtonText(){return this.connectButton.innerText||this.connectButton.textContent}set connectButtonText(e){this.connectButton.innerHTML=e}get ready(){return pf.get(this).ready}set ready(e){const t=pf.get(this);t.ready=e,t.validate()}get connecting(){return pf.get(this).connecting}set connecting(e){const t=pf.get(this);t.connecting=e,t.validate()}get connected(){return pf.get(this).connected}set connected(e){pf.get(this).connected=e,this.connecting=!1}}function it(e,t,i,...n){return new mf(e,t,i,...n)}class mf extends Xg{constructor(e,t,i,...n){super("div"),this.label=Ue(ne(e),i),this.input=Qe(pe(t),...n),this.element.append(this.label,this.input),this.element.style.display="grid",Object.seal(this)}get eventTarget(){return this.input}get value(){return this.input.value}set value(e){this.input.value=e}get checked(){return this.input.checked}set checked(e){this.input.checked=e}setLocked(e){xe(this.input,e)}}const vf=new Event("select");function nt(e,t,...i){return new wf(e,t,...i)}class wf extends Xg{constructor(e,t,...i){super("div",oe(e),Ye(...i)),this.button=Oe(oe(e+"Btn"),Se(()=>this.dispatchEvent(vf)),t)}isForwardedEvent(e){return"select"!==e}get visible(){return null!==this.element.style.display}set visible(e){ve(this.element,e),this.button.className=e?"tabSelected":"tabUnselected",this.element.className=e?"tabSelected":"tabUnselected"}}const yf=new WeakMap;class Df extends wt{constructor(e){if(super(),!(e instanceof Gamepad))throw new Error("Value must be a Gamepad");this.id=e.id,this.displayId=e.displayId,this.connected=e.connected,this.hand=e.hand,this.pose=e.pose;const t={btnDownEvts:[],btnUpEvts:[],btnState:[],axisMaxed:[],axisMaxEvts:[],sticks:[]};this.lastButtons=[],this.buttons=[],this.axes=[],this.hapticActuators=[],this.axisThresholdMax=.9,this.axisThresholdMin=.1,this._isStick=t=>t%2==0&&t<e.axes.length-1;for(let i=0;i<e.buttons.length;++i)t.btnDownEvts[i]=Object.assign(new Event("gamepadbuttondown"),{button:i}),t.btnUpEvts[i]=Object.assign(new Event("gamepadbuttonup"),{button:i}),t.btnState[i]=!1,this.lastButtons[i]=null,this.buttons[i]=e.buttons[i];for(let i=0;i<e.axes.length;++i)t.axisMaxEvts[i]=Object.assign(new Event("gamepadaxismaxed"),{axis:i}),t.axisMaxed[i]=!1,this._isStick(i)&&(t.sticks[i/2]={x:0,y:0}),this.axes[i]=e.axes[i];if(void 0!==e.hapticActuators)for(let t=0;t<e.hapticActuators.length;++t)this.hapticActuators[t]=e.hapticActuators[t];Object.seal(this),yf.set(this,t)}update(e){if(!(e instanceof Gamepad))throw new Error("Value must be a Gamepad");this.connected=e.connected,this.hand=e.hand,this.pose=e.pose;const t=yf.get(this);for(let i=0;i<e.buttons.length;++i){const n=t.btnState[i],s=e.buttons[i].pressed;s!==n&&(t.btnState[i]=s,this.dispatchEvent((s?t.btnDownEvts:t.btnUpEvts)[i])),this.lastButtons[i]=this.buttons[i],this.buttons[i]=e.buttons[i]}for(let i=0;i<e.axes.length;++i){const n=t.axisMaxed[i],s=e.axes[i],a=Math.sign(s),o=Math.abs(s),r=o>=this.axisThresholdMax,l=o<=this.axisThresholdMin;r&&!n&&this.dispatchEvent(t.axisMaxEvts[i]),this.axes[i]=a*(r?1:l?0:o)}for(let e=0;e<this.axes.length-1;e+=2){const i=t.sticks[e/2];i.x=this.axes[e],i.y=this.axes[e+1]}if(void 0!==e.hapticActuators)for(let t=0;t<e.hapticActuators.length;++t)this.hapticActuators[t]=e.hapticActuators[t]}}let bf=null;if(!Object.prototype.hasOwnProperty.call(CanvasRenderingContext2D.prototype,"getTransform")&&Object.prototype.hasOwnProperty.call(CanvasRenderingContext2D.prototype,"mozCurrentTransform")){class e{constructor(e){this.a=e[0],this.b=e[1],this.c=e[2],this.d=e[3],this.e=e[4],this.f=e[5]}get is2D(){return!0}get isIdentity(){return 1===this.a&&0===this.b&&0===this.c&&1===this.d&&0===this.e&&0===this.f}transformPoint(e){return{x:e.x*this.a+e.y*this.c+this.e,y:e.x*this.b+e.y*this.d+this.f}}}bf=t=>new e(t.mozCurrentTransform)}else bf=e=>e.getTransform();function st(e){return bf(e)}function at(e,t,i,n=1){return t=Math.floor(t*n),i=Math.floor(i*n),(e.width!=t||e.height!=i)&&(e.width=t,e.height=i,!0)}function ot(e,t,i,n=1){const s=e.imageSmoothingEnabled,a=e.textBaseline,o=e.textAlign,r=e.font,l=at(e.canvas,t,i,n);return l&&(e.imageSmoothingEnabled=s,e.textBaseline=a,e.textAlign=o,e.font=r),l}const xf=new WeakMap,Cf=new Event("redrawn");class Bf{constructor(){this.color="black",this.bgColor=null,this.fontStyle="normal",this.fontVariant="normal",this.fontWeight="normal",this.fontFamily="sans-serif",this.fontSize=20,this.scale=1,this.padding={top:0,right:0,bottom:0,left:0},this.value=null,this.canvas=Xe(10,10),this.g=this.canvas.getContext("2d"),this.g.textBaseline="top"}redraw(e){if(this.g.clearRect(0,0,this.canvas.width,this.canvas.height),this.fontFamily&&this.fontSize&&this.color&&this.scale&&this.value){const t=this.fontSize*this.scale,i=K(this);this.g.font=i;const n=this.g.measureText(this.value);let s=0,a=0,o=n.width,r=t;void 0!==n.actualBoundingBoxLeft&&(a=n.actualBoundingBoxAscent,o=n.actualBoundingBoxRight-n.actualBoundingBoxLeft,r=n.actualBoundingBoxDescent+n.actualBoundingBoxAscent),s+=this.padding.left,a+=this.padding.top,o+=this.padding.right+this.padding.left,r+=this.padding.top+this.padding.bottom,ot(this.g,o,r),this.bgColor?(this.g.fillStyle=this.bgColor,this.g.fillRect(0,0,this.canvas.width,this.canvas.height)):this.g.clearRect(0,0,this.canvas.width,this.canvas.height),this.g.fillStyle=this.color,this.g.fillText(this.value,s,a),e.dispatchEvent(Cf)}}}class Pf extends wt{constructor(){super(),xf.set(this,new Bf)}async loadFontAndSetText(e=null){const t=K(this);await $(t,e),this.value=e}get canvas(){return xf.get(this).canvas}get width(){const e=xf.get(this);return e.canvas.width/e.scale}get height(){const e=xf.get(this);return e.canvas.height/e.scale}get scale(){return xf.get(this).scale}set scale(e){if(this.scale!==e){const t=xf.get(this);t.scale=e,t.redraw(this)}}get padding(){return xf.get(this).padding}set padding(e){if(e instanceof Array)if(1===e.length)e={top:e[0],right:e[0],bottom:e[0],left:e[0]};else if(2===e.length)e={top:e[0],right:e[1],bottom:e[0],left:e[1]};else{if(4!==e.length)return;e={top:e[0],right:e[1],bottom:e[2],left:e[3]}}else o(e)&&(e={top:e,right:e,bottom:e,left:e});if(this.padding.top!==e.top||this.padding.right!=e.right||this.padding.bottom!=e.bottom||this.padding.left!=e.left){const t=xf.get(this);t.padding=e,t.redraw(this)}}get fontStyle(){return xf.get(this).fontStyle}set fontStyle(e){if(this.fontStyle!==e){const t=xf.get(this);t.fontStyle=e,t.redraw(this)}}get fontVariant(){return xf.get(this).fontVariant}set fontVariant(e){if(this.fontVariant!==e){const t=xf.get(this);t.fontVariant=e,t.redraw(this)}}get fontWeight(){return xf.get(this).fontWeight}set fontWeight(e){if(this.fontWeight!==e){const t=xf.get(this);t.fontWeight=e,t.redraw(this)}}get fontSize(){return xf.get(this).fontSize}set fontSize(e){if(this.fontSize!==e){const t=xf.get(this);t.fontSize=e,t.redraw(this)}}get fontFamily(){return xf.get(this).fontFamily}set fontFamily(e){if(this.fontFamily!==e){const t=xf.get(this);t.fontFamily=e,t.redraw(this)}}get color(){return xf.get(this).color}set color(e){if(this.color!==e){const t=xf.get(this);t.color=e,t.redraw(this)}}get bgColor(){return xf.get(this).bgColor}set bgColor(e){if(this.bgColor!==e){const t=xf.get(this);t.bgColor=e,t.redraw(this)}}get value(){return xf.get(this).value}set value(e){if(this.value!==e){const t=xf.get(this);t.value=e,t.redraw(this)}}draw(e,t,i){const n=xf.get(this);n.canvas.width>0&&n.canvas.height>0&&e.drawImage(n.canvas,t,i,this.width,this.height)}}const Ef=Object.freeze({none:null,emoji:"emoji",photo:"photo",video:"video"});class _f{constructor(e){this.canSwim=e,this.element=Re(128,128),this.g=this.element.getContext("2d")}draw(e,t,i,n){const s=this.element.width/this.element.height,a=s>1?t:s*i,o=s>1?t/s:i,r=(t-a)/2,l=(i-o)/2;e.drawImage(this.element,r,l,a,o)}}class Mf extends _f{constructor(e){super(function(e){return qa.contains(e)||Va.contains(e)||Xa.contains(e)||ds.contains(e)}(e)),this.value=e.value,this.desc=e.desc;const t=new Pf;t.color=e.color||"black",t.fontFamily="Noto Color Emoji",t.fontSize=256,t.value=this.value,ot(this.g,t.width,t.height),t.draw(this.g,0,0)}}class Sf extends _f{constructor(e){super(!1);const t=new Image;t.addEventListener("load",()=>{const e=(t.width-t.height)/2,i=Math.max(0,e),n=Math.max(0,-e),s=Math.min(t.width,t.height);ot(this.g,s,s),this.g.drawImage(t,i,n,s,s,0,0,s,s)}),this.url=t.src=e&&e.href||e}}const Ff="undefined"!=typeof InstallTrigger,Tf=["iPad","iPhone","iPod"].indexOf(navigator.platform)>=0;class kf extends _f{constructor(e){super(!1);let t=null;if(e instanceof HTMLVideoElement)t=e;else{if(!(e instanceof MediaStream))throw new Error("Can only create a video avatar from an HTMLVideoElement or MediaStream.");t=function(...e){return Ie("video",...e)}(ee,he,ce,function(e){return new Cg("volume",e,"audio","video")}(0),function(e){return new Cg("srcObject",e,"audio","video")}(e))}this.video=t,Tf||(t.play(),O(t,"canplay").then(()=>t.play()))}draw(e,t,i,n){if(this.video.videoWidth>0&&this.video.videoHeight>0){const e=(this.video.videoWidth-this.video.videoHeight)/2,t=Math.max(0,e),i=Math.max(0,-e),s=Math.min(this.video.videoWidth,this.video.videoHeight);ot(this.g,s,s),this.g.save(),n&&(this.g.translate(s,0),this.g.scale(-1,1)),this.g.drawImage(this.video,t,i,s,s,0,0,s,s),this.g.restore()}super.draw(e,t,i,n)}}const If=1,Lf=5,Of=5,Rf=["userMoved","userPositionNeeded"],Nf=new Pf,Hf=new Pf;Nf.fontFamily="Noto Color Emoji",Nf.value=Ed.value,Hf.fontFamily="Noto Color Emoji",Hf.value=Md.value;class Qf extends wt{constructor(e,t,i,n){super(),this.id=e,this.pose=i,this.label=n?"(Me)":`(${this.id})`,this.setAvatarVideo(null),this.avatarImage=null,this.avatarEmoji=Dl,this.audioMuted=!1,this.videoMuted=!0,this.isMe=n,this.isActive=!1,this.stackUserCount=1,this.stackIndex=0,this.stackAvatarHeight=0,this.stackAvatarWidth=0,this.stackOffsetX=0,this.stackOffsetY=0,this.lastPositionRequestTime=performance.now()/1e3-If,this.visible=!0,this.userNameText=new Pf,this.userNameText.color="white",this.userNameText.fontSize=128,this._displayName=null,this.displayName=t,Object.seal(this)}get x(){return this.pose.current.p.x}get y(){return this.pose.current.p.z}get gridX(){return this.pose.end.p.x}get gridY(){return this.pose.end.p.z}deserialize(e){switch(e.avatarMode){case Ef.emoji:this.avatarEmoji=e.avatarID;break;case Ef.photo:this.avatarImage=e.avatarID}}serialize(){return{id:this.id,avatarMode:this.avatarMode,avatarID:this.avatarID}}get avatarVideo(){return this._avatarVideo}setAvatarVideo(e){e instanceof MediaStream?this._avatarVideo=new kf(e):this._avatarVideo=null}get avatarImage(){return this._avatarImage&&this._avatarImage.url||null}set avatarImage(e){a(e)&&e.length>0?this._avatarImage=new Sf(e):this._avatarImage=null}get avatarEmoji(){return this._avatarEmoji}set avatarEmoji(e){e&&e.value&&e.desc?this._avatarEmoji=new Mf(e):this._avatarEmoji=null}get avatarMode(){return this._avatarVideo?Ef.video:this._avatarImage?Ef.photo:this._avatarEmoji?Ef.emoji:Ef.none}get avatarID(){switch(this.avatarMode){case Ef.emoji:return{value:this.avatarEmoji.value,desc:this.avatarEmoji.desc};case Ef.photo:return this.avatarImage;default:return null}}get avatar(){switch(this.avatarMode){case Ef.emoji:return this._avatarEmoji;case Ef.photo:return this._avatarImage;case Ef.video:return this._avatarVideo;default:return null}}addEventListener(e,t,i){if(-1===Rf.indexOf(e))throw new Error("Unrecognized event type: "+e);super.addEventListener(e,t,i)}get displayName(){return this._displayName||this.label}set displayName(e){this._displayName=e,this.userNameText.value=this.displayName}moveTo(e,t){this.isMe&&(this.moveEvent.x=e,this.moveEvent.y=t,this.dispatchEvent(this.moveEvent))}update(e,t){performance.now();this.stackUserCount=0,this.stackIndex=0;for(let e of t.values())e.gridX===this.gridX&&e.gridY===this.gridY&&(e.id===this.id&&(this.stackIndex=this.stackUserCount),++this.stackUserCount);this.stackAvatarWidth=e.tileWidth-(this.stackUserCount-1)*Lf,this.stackAvatarHeight=e.tileHeight-(this.stackUserCount-1)*Of,this.stackOffsetX=this.stackIndex*Lf,this.stackOffsetY=this.stackIndex*Of}drawShadow(e,t){const i=st(e).a,n=this.x*t.tileWidth,s=this.y*t.tileHeight,a=st(e).transformPoint({x:n,y:s});this.visible=-t.tileWidth<=a.x&&a.x<e.canvas.width&&-t.tileHeight<=a.y&&a.y<e.canvas.height,this.visible&&(e.save(),e.shadowColor="rgba(0, 0, 0, 0.5)",e.shadowOffsetX=3*i,e.shadowOffsetY=3*i,e.shadowBlur=3*i,this.innerDraw(e,t),e.restore())}drawAvatar(e,t){if(this.visible){if(e.save(),this.innerDraw(e,t),this.isActive&&!this.audioMuted){const t=this.stackAvatarHeight/2,i=st(e).a;Hf.fontSize=t,Hf.scale=i,Hf.draw(e,this.stackAvatarWidth-Hf.width,0)}e.restore()}}innerDraw(e,t){if(e.translate(this.x*t.tileWidth+this.stackOffsetX,this.y*t.tileHeight+this.stackOffsetY),e.fillStyle="black",e.textBaseline="top",this.avatar&&this.avatar.draw(e,this.stackAvatarWidth,this.stackAvatarHeight,this.isMe),this.audioMuted||!this.videoMuted){const t=this.stackAvatarHeight/2,i=st(e).a;this.audioMuted&&(Nf.fontSize=t,Nf.scale=i,Nf.draw(e,this.stackAvatarWidth-Nf.width,0))}}drawName(e,t,i){if(this.visible){const n=st(e).a;e.save();{e.translate(this.x*t.tileWidth+this.stackOffsetX,this.y*t.tileHeight+this.stackOffsetY),e.shadowColor="black",e.shadowOffsetX=3*n,e.shadowOffsetY=3*n,e.shadowBlur=3*n;const s=i/this.userNameText.fontSize;e.scale(s,s),this.userNameText.draw(e,0,-this.userNameText.height)}e.restore()}}drawHearingTile(e,t,i,n,s){e.save(),e.translate((this.gridX+i)*t.tileWidth,(this.gridY+n)*t.tileHeight),e.strokeStyle=`rgba(0, 255, 0, ${(1-s)/2})`,e.strokeRect(0,0,t.tileWidth,t.tileHeight),e.restore()}drawHearingRange(e,t,i,n){const s=st(e).a,a=Math.min(n,Math.ceil(e.canvas.width/(2*t.tileWidth*s))),o=Math.min(n,Math.ceil(e.canvas.height/(2*t.tileHeight*s)));for(let s=0;s<o;++s)for(let o=0;o<a;++o){const a=p(Math.sqrt(o*o+s*s),i,n);a<=1&&(this.drawHearingTile(e,t,o,s,a),0!=s&&this.drawHearingTile(e,t,o,-s,a),0!=o&&this.drawHearingTile(e,t,-o,s,a),0!=o&&0!=s&&this.drawHearingTile(e,t,-o,-s,a))}}}const jf=new Event("inputBindingChanged");class zf extends wt{constructor(){super();const e=new Map([["keyButtonUp","ArrowUp"],["keyButtonDown","ArrowDown"],["keyButtonLeft","ArrowLeft"],["keyButtonRight","ArrowRight"],["keyButtonEmote","e"],["keyButtonToggleAudio","a"],["keyButtonZoomOut","["],["keyButtonZoomIn","]"],["gpAxisLeftRight",0],["gpAxisUpDown",1],["gpButtonEmote",0],["gpButtonToggleAudio",1],["gpButtonZoomIn",6],["gpButtonZoomOut",7],["gpButtonUp",12],["gpButtonDown",13],["gpButtonLeft",14],["gpButtonRight",15]]);for(let t of e.keys())Object.defineProperty(this,t,{get:()=>e.get(t),set:i=>{e.has(t)&&i!==e.get(t)&&(e.set(t,i),this.dispatchEvent(jf))}});this.clone=()=>{const t={};for(let i of e.entries())t[i[0]]=i[1];return t},Object.freeze(this)}}const Uf=Ee("7em"),Wf=Ee("3em"),Gf=new Event("avatarURLChanged"),Yf=new Event("gamepadChanged"),qf=new Event("selectAvatar"),Vf=new Event("fontSizeChanged"),Xf=new Event("inputBindingChanged"),Zf=new Event("audioPropertiesChanged"),Jf=new Event("toggleDrawHearing"),Kf=new Event("toggleVideo"),$f=Object.assign(new Event("gamepadbuttonup"),{button:0}),em=Object.assign(new Event("gamepadaxismaxed"),{axis:0}),tm=ie(!0),im=ie(!1),nm=new WeakMap;class sm{constructor(){this.inputBinding=new zf,this.pad=null}}class am extends nf{constructor(){super("options");const e=e=>()=>this.dispatchEvent(e),t=new sm;nm.set(this,t);const i=Te(e(Zf)),n=(e,i)=>{const n=it(e,"text",i,Uf,new Lg("keyup",i=>{"Tab"!==i.key&&"Shift"!==i.key&&(n.value=t.inputBinding[e]=i.key,this.dispatchEvent(Xf))},s));var s;return n.value=t.inputBinding[e],n},s=(e,i)=>{const n=it(e,"text",i,Wf);return this.addEventListener("gamepadbuttonup",i=>{document.activeElement===n.input&&(n.value=t.inputBinding[e]=i.button,this.dispatchEvent(Xf))}),n.value=t.inputBinding[e],n},a=(e,i)=>{const n=it(e,"text",i,Wf);return this.addEventListener("gamepadaxismaxed",i=>{document.activeElement===n.input&&(n.value=t.inputBinding[e]=i.axis,this.dispatchEvent(Xf))}),n.value=t.inputBinding[e],n},o=[nt("avatar","Avatar",Ne(Ue(ne("selectAvatarEmoji"),"Emoji: "),Oe(oe("selectAvatarEmoji"),"Select",Se(e(qf))))," or ",Ne(Ue(ne("setAvatarURL"),"Photo: "),this.avatarURLInput=ze(ue("https://example.com/me.png")),Oe(oe("setAvatarURL"),"Set",Se(()=>{this.avatarURL=this.avatarURLInput.value,this.dispatchEvent(Gf)})),this.clearAvatarURLButton=Oe(ie,"Clear",Se(()=>{this.avatarURL=null,this.dispatchEvent(Gf)})))," or ",Ne(Ue(ne("videoAvatarButton"),"Video: "),this.useVideoAvatarButton=Oe(oe("videoAvatarButton"),"Use video",Se(e(Kf)))),this.avatarPreview=Re(fe(256),se(256))),nt("interface","Interface",this.fontSizeInput=it("fontSize","number","Font size: ",ge(10),le(5),re(32),Wf,Te(e(Vf))),Ye(this.drawHearingCheck=it("drawHearing","checkbox","Draw hearing range: ",Te(()=>{this.drawHearing=!this.drawHearing,this.dispatchEvent(Jf)})),this.audioMinInput=it("minAudio","number","Min: ",ge(1),le(0),re(100),Wf,i),this.audioMaxInput=it("maxAudio","number","Min: ",ge(10),le(0),re(100),Wf,i),this.audioRolloffInput=it("rollof","number","Rollof: ",ge(1),le(.1),re(10),Ae(.1),Wf,i))),nt("keyboard","Keyboard",this.keyButtonUp=n("keyButtonUp","Up: "),this.keyButtonDown=n("keyButtonDown","Down: "),this.keyButtonLeft=n("keyButtonLeft","Left: "),this.keyButtonRight=n("keyButtonRight","Right: "),this.keyButtonEmote=n("keyButtonEmote","Emote: "),this.keyButtonToggleAudio=n("keyButtonToggleAudio","Toggle audio: ")),nt("gamepad","Gamepad",Ne(Ue(ne("gamepads"),"Use gamepad: "),this.gpSelect=Ke("gamepads","No gamepad",e=>e.id,e=>e.id,Te(e(Yf)))),this.gpAxisLeftRight=a("gpAxisLeftRight","Left/Right axis:"),this.gpAxisUpDown=a("gpAxisUpDown","Up/Down axis:"),this.gpButtonUp=s("gpButtonUp","Up button: "),this.gpButtonDown=s("gpButtonDown","Down button: "),this.gpButtonLeft=s("gpButtonLeft","Left button: "),this.gpButtonRight=s("gpButtonRight","Right button: "),this.gpButtonEmote=s("gpButtonEmote","Emote button: "),this.gpButtonToggleAudio=s("gpButtonToggleAudio","Toggle audio button: "))],r=[];for(let e=0;e<o.length;++e)r[e]="1fr",o[e].element.style.gridColumnStart=e+1;tt(...r).apply(this.header),this.header.append(...o.map(e=>e.button)),this.content.append(...o.map(e=>e.element));const l=e=>()=>{for(let t=0;t<o.length;++t)o[t].visible=t===e};for(let e=0;e<o.length;++e)o[e].visible=0===e,o[e].addEventListener("select",l(e));t.inputBinding.addEventListener("inputBindingChanged",()=>{for(let e of Object.getOwnPropertyNames(t.inputBinding))void 0!==ge[e]&&null!=this[e]&&(this[e].value=ge[e])}),this.gamepads=[],this._drawHearing=!1,this.user=null,this._avatarG=this.avatarPreview.getContext("2d"),Object.seal(this)}update(){if(me(this)){const e=this.currentGamepad;e&&(self.pad?self.pad.update(e):(self.pad=new Df(e),self.pad.addEventListener("gamepadbuttonup",e=>{$f.button=e.button,this.dispatchEvent($f)}),self.pad.addEventListener("gamepadaxismaxed",e=>{em.axis=e.axis,this.dispatchEvent(em)}))),this.user&&this.user.avatar&&(this._avatarG.clearRect(0,0,this.avatarPreview.width,this.avatarPreview.height),this.user.avatar.draw(this._avatarG,this.avatarPreview.width,this.avatarPreview.height,!0))}}get avatarURL(){return 0===this.avatarURLInput.value.length?null:this.avatarURLInput.value}set avatarURL(e){a(e)?(this.avatarURLInput.value=e,im.apply(this.clearAvatarURLButton)):(this.avatarURLInput.value="",tm.apply(this.clearAvatarURLButton))}setAvatarVideo(e){this.useVideoAvatarButton.innerHTML=null!==e?"Remove video":"Use video"}get inputBinding(){return nm.get(this).inputBinding.clone()}set inputBinding(e){const t=nm.get(this);for(let i of Object.getOwnPropertyNames(e))void 0!==t.inputBinding[i]&&void 0!==e[i]&&null!=this[i]&&(t.inputBinding[i]=this[i].value=e[i])}get gamepads(){return this.gpSelect.values}set gamepads(e){const t=0===e.length;this.gpSelect.values=e,xe(this.gpAxisLeftRight,t),xe(this.gpAxisUpDown,t),xe(this.gpButtonUp,t),xe(this.gpButtonDown,t),xe(this.gpButtonLeft,t),xe(this.gpButtonRight,t),xe(this.gpButtonEmote,t),xe(this.gpButtonToggleAudio,t)}get currentGamepadIndex(){return this.gpSelect.selectedIndex}get currentGamepad(){return this.currentGamepadIndex<0?null:navigator.getGamepads()[this.currentGamepadIndex]}get gamepadIndex(){return this.gpSelect.selectedIndex}set gamepadIndex(e){this.gpSelect.selectedIndex=e}get drawHearing(){return this._drawHearing}set drawHearing(e){this._drawHearing=e,this.drawHearingCheck.checked=e}get audioDistanceMin(){const e=parseFloat(this.audioMinInput.value);return r(e)?e:1}set audioDistanceMin(e){r(e)&&e>0&&(this.audioMinInput.value=e,this.audioDistanceMin>this.audioDistanceMax&&(this.audioDistanceMax=this.audioDistanceMin))}get audioDistanceMax(){const e=parseFloat(this.audioMaxInput.value);return r(e)?e:10}set audioDistanceMax(e){r(e)&&e>0&&(this.audioMaxInput.value=e,this.audioDistanceMin>this.audioDistanceMax&&(this.audioDistanceMin=this.audioDistanceMax))}get audioRolloff(){const e=parseFloat(this.audioRolloffInput.value);return r(e)?e:1}set audioRolloff(e){r(e)&&e>0&&(this.audioRolloffInput.value=e)}get fontSize(){const e=parseFloat(this.fontSizeInput.value);return r(e)?e:16}set fontSize(e){r(e)&&e>0&&(this.fontSizeInput.value=e)}}const om=Ce("lightgreen"),rm=Ce("rgba(65, 255, 202, 0.25)"),lm=Ce("transparent"),cm=Object.assign(new Event("warpTo"),{id:null}),um=new Event("chatFocusChanged"),hm=3e3;class Am extends nf{constructor(){super("users"),this.roomName=null,this.userName=null,this.chatFocused=!1,this.usersList=Ne(oe("chatUsers")),this.messages=Ne(oe("chatMessages")),this.rows=new Map,this.users=new Map,this.avatarGs=new Map;const e=async()=>{this.entry.value.length>0&&(this.send.disabled=this.entry.disabled=!0,this.entry.value="",this.entry.disabled=this.send.disabled=!1,this.entry.focus())},t=()=>this.dispatchEvent(um);var i;this.entry=je(oe("chatEntry"),ie,Fe(()=>this.chatFocused=!0),Fe(t),Me(()=>this.chatFocused=!1),Me(t),new Lg("keypress",t=>{"Enter"===t.key&&e()},i)),this.send=Oe(oe("chatSend"),ie,Se(e)),Object.seal(this)}async startAsync(e,t){this.roomName=e,this.userName=t,this.entry.disabled=this.send.disabled=!1}update(){if(me(this))for(let e of this.users.entries()){const[t,i]=e;if(this.avatarGs.has(t)&&i.avatar){const e=this.avatarGs.get(t);e.clearRect(0,0,e.canvas.width,e.canvas.height),i.avatar.draw(e,e.canvas.width,e.canvas.height)}}}set(e){const t=!this.rows.has(e.id);this.delete(e.id);const i=this.rows.size+1;if(t){const t=Ne($e(1,i,2,1),_e(-1),om);setTimeout(()=>{this.usersList.removeChild(t)},hm),this.usersList.append(t),this.users.set(e.id,e),this.avatarGs.set(e.id,Re(fe(32),se(32)).getContext("2d"))}const n=this.avatarGs.get(e.id).canvas,s=[Ne($e(1,i),_e(0),n),Ne($e(2,i),_e(0),e.displayName),Ne($e(1,i,2,1),_e(1),lm,(a=function(){rm.apply(this)},new Lg("mouseover",a,o)),ke((function(){lm.apply(this)})),Se(()=>{be(this),cm.id=e.id,this.dispatchEvent(cm)}))];var a,o;this.rows.set(e.id,s),this.usersList.append(...s)}delete(e){if(this.rows.has(e)){const t=this.rows.get(e);this.rows.delete(e);for(let e of t)this.usersList.removeChild(e);let i=1;for(let e of this.rows.values()){const t=et(i++);for(let i of e)t.apply(i)}}}clear(){for(let e of this.rows.keys())this.delete(e)}warn(...e){const t=Ne($e(1,this.rows.size+1,2,1),Ce("yellow"),...e.map(e=>e.toString()));this.usersList.append(t),setTimeout(()=>{this.usersList.removeChild(t)},5e3)}}function rt(e){for(var t=e,i=[];t.parent;)i.unshift(t),t=t.parent;return i}var lt={search:function(e,t,i,n){e.cleanDirty();var s=(n=n||{}).heuristic||lt.heuristics.manhattan,a=n.closest||!1,o=new ht((function(e){return e.f})),r=t;for(t.h=s(t,i),e.markDirty(t),o.push(t);o.size()>0;){var l=o.pop();if(l===i)return rt(l);l.closed=!0;for(var c=e.neighbors(l),u=0,h=c.length;u<h;++u){var A=c[u];if(!A.closed&&!A.isWall()){var d=l.g+A.getCost(l),p=A.visited;(!p||d<A.g)&&(A.visited=!0,A.parent=l,A.h=A.h||s(A,i),A.g=d,A.f=A.g+A.h,e.markDirty(A),a&&(A.h<r.h||A.h===r.h&&A.g<r.g)&&(r=A),p?o.rescoreElement(A):o.push(A))}}}return a?rt(r):[]},heuristics:{manhattan:function(e,t){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},diagonal:function(e,t){var i=Math.sqrt(2),n=Math.abs(t.x-e.x),s=Math.abs(t.y-e.y);return 1*(n+s)+(i-2)*Math.min(n,s)}},cleanNode:function(e){e.f=0,e.g=0,e.h=0,e.visited=!1,e.closed=!1,e.parent=null}};function ct(e,t){t=t||{},this.nodes=[],this.diagonal=!!t.diagonal,this.grid=[];for(var i=0;i<e.length;i++){this.grid[i]=[];for(var n=0,s=e[i];n<s.length;n++){var a=new ut(i,n,s[n]);this.grid[i][n]=a,this.nodes.push(a)}}this.init()}function ut(e,t,i){this.x=e,this.y=t,this.weight=i}function ht(e){this.content=[],this.scoreFunction=e}ct.prototype.init=function(){this.dirtyNodes=[];for(var e=0;e<this.nodes.length;e++)lt.cleanNode(this.nodes[e])},ct.prototype.cleanDirty=function(){for(var e=0;e<this.dirtyNodes.length;e++)lt.cleanNode(this.dirtyNodes[e]);this.dirtyNodes=[]},ct.prototype.markDirty=function(e){this.dirtyNodes.push(e)},ct.prototype.neighbors=function(e){var t=[],i=e.x,n=e.y,s=this.grid;return s[i-1]&&s[i-1][n]&&t.push(s[i-1][n]),s[i+1]&&s[i+1][n]&&t.push(s[i+1][n]),s[i]&&s[i][n-1]&&t.push(s[i][n-1]),s[i]&&s[i][n+1]&&t.push(s[i][n+1]),this.diagonal&&(s[i-1]&&s[i-1][n-1]&&t.push(s[i-1][n-1]),s[i+1]&&s[i+1][n-1]&&t.push(s[i+1][n-1]),s[i-1]&&s[i-1][n+1]&&t.push(s[i-1][n+1]),s[i+1]&&s[i+1][n+1]&&t.push(s[i+1][n+1])),t},ct.prototype.toString=function(){for(var e=[],t=this.grid,i=0;i<t.length;i++){for(var n=[],s=t[i],a=0;a<s.length;a++)n.push(s[a].weight);e.push(n.join(" "))}return e.join("\n")},ut.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},ut.prototype.getCost=function(e){return e&&e.x!=this.x&&e.y!=this.y?1.41421*this.weight:this.weight},ut.prototype.isWall=function(){return 0===this.weight},ht.prototype={push:function(e){this.content.push(e),this.sinkDown(this.content.length-1)},pop:function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.bubbleUp(0)),e},remove:function(e){var t=this.content.indexOf(e),i=this.content.pop();t!==this.content.length-1&&(this.content[t]=i,this.scoreFunction(i)<this.scoreFunction(e)?this.sinkDown(t):this.bubbleUp(t))},size:function(){return this.content.length},rescoreElement:function(e){this.sinkDown(this.content.indexOf(e))},sinkDown:function(e){for(var t=this.content[e];e>0;){var i=(e+1>>1)-1,n=this.content[i];if(!(this.scoreFunction(t)<this.scoreFunction(n)))break;this.content[i]=t,this.content[e]=n,e=i}},bubbleUp:function(e){for(var t=this.content.length,i=this.content[e],n=this.scoreFunction(i);;){var s,a=e+1<<1,o=a-1,r=null;if(o<t){var l=this.content[o];(s=this.scoreFunction(l))<n&&(r=o)}if(a<t){var c=this.content[a];this.scoreFunction(c)<(null===r?n:s)&&(r=a)}if(null===r)break;this.content[e]=this.content[r],this.content[r]=i,e=r}}};class dm{constructor(e){this.url=e,this.tileWidth=0,this.tileHeight=0,this.tilesPerRow=0,this.image=new Image,this.collision={}}async load(){const e=await fetch(this.url),t=await e.text(),i=(new DOMParser).parseFromString(t,"text/xml").documentElement,n=new Promise((e,t)=>{this.image.addEventListener("load",t=>{this.tilesPerRow=Math.floor(this.image.width/this.tileWidth),e()}),this.image.addEventListener("error",t)}),s=i.querySelector("image").getAttribute("source"),a=new URL(s,this.url),o=i.querySelectorAll("tile");for(let e of o){const t=1*e.getAttribute("id"),i=e.querySelector("properties > property[name='Collision']").getAttribute("value");this.collision[t]="true"===i}this.name=i.getAttribute("name"),this.tileWidth=1*i.getAttribute("tilewidth"),this.tileHeight=1*i.getAttribute("tileheight"),this.tileCount=1*i.getAttribute("tilecount"),this.image.src=a.href,await n}isClear(e){return!this.collision[e-1]}draw(e,t,i,n){if(t>0){const s=t-1,a=this.tileWidth*(s%this.tilesPerRow),o=this.tileHeight*Math.floor(s/this.tilesPerRow),r=i*this.tileWidth,l=n*this.tileHeight;e.drawImage(this.image,a,o,this.tileWidth,this.tileHeight,r,l,this.tileWidth,this.tileHeight)}}}const pm=new WeakMap;class gm{constructor(e){this.url=new URL(`data/tilemaps/${e}.tmx`,document.baseURI),this.tileWidth=0,this.tileHeight=0,this.layers=0,this.width=0,this.height=0,this.offsetX=0,this.offsetY=0,this.tileset=null,this.tiles=null,this.graph=null,this.layerImages=[],Object.seal(this)}}class fm{constructor(e){pm.set(this,new gm(e))}async load(){const e=pm.get(this),t=await fetch(e.url.href);if(!t.ok)throw new Error(`Failed to load TileMap from ${e.url.href}. Reason: [${t.status}] ${t.statusText}`);const i=await t.text(),n=(new DOMParser).parseFromString(i,"text/xml").documentElement,s=1*n.getAttribute("width"),a=1*n.getAttribute("height"),o=1*n.getAttribute("tilewidth"),r=1*n.getAttribute("tileheight"),l=n.querySelector("tileset").getAttribute("source"),c=n.querySelectorAll("layer > data");e.layers=c.length,e.width=s,e.height=a,e.offsetX=-Math.floor(s/2),e.offsetY=-Math.floor(a/2),e.tileWidth=o,e.tileHeight=r,e.tiles=[];for(let t of c){const i=t.innerHTML.replace(" ","").replace("\t","").replace("\n","").replace("\r","").split(",").map(e=>parseInt(e,10)),n=[];let a=[];for(let e of i)a.push(e),a.length===s&&(n.push(a),a=[]);a.length>0&&n.push(a),e.tiles.push(n)}e.tileset=new dm(new URL(l,e.url)),await e.tileset.load(),e.tileWidth=e.tileset.tileWidth,e.tileHeight=e.tileset.tileHeight;for(let t=0;t<e.layers;++t){const i=Xe(this.width*this.tileWidth,this.height*this.tileHeight);e.layerImages.push(i);const n=i.getContext("2d"),s=e.tiles[t];for(let t=0;t<this.height;++t){const i=s[t];for(let s=0;s<this.width;++s){const a=i[s];e.tileset.draw(n,a,s,t)}}}let u=[];for(let t of e.tiles[0]){let i=[];for(let n of t)e.tileset.isClear(n)?i.push(1):i.push(0);u.push(i)}e.graph=new ct(u,{diagonal:!0})}get width(){return pm.get(this).width}get height(){return pm.get(this).height}get tileWidth(){return pm.get(this).tileWidth}get tileHeight(){return pm.get(this).tileHeight}isInBounds(e,t){return 0<=e&&e<this.width&&0<=t&&t<this.height}getGridNode(e,t){const i=pm.get(this);return e-=i.offsetX,t-=i.offsetY,e=Math.round(e),t=Math.round(t),this.isInBounds(e,t)?i.graph.grid[t][e]:null}draw(e){const t=pm.get(this);e.save(),e.translate(t.offsetX*this.tileWidth,t.offsetY*this.tileHeight);for(let i of t.layerImages)e.drawImage(i,0,0);e.restore()}searchPath(e,t){const i=pm.get(this);return lt.search(i.graph,e,t).map(e=>({x:e.y+i.offsetX,y:e.x+i.offsetY}))}isClear(e,t,i){const n=pm.get(this);return e-=n.offsetX,t-=n.offsetY,e=Math.round(e),t=Math.round(t),e<0||this.width<=e||t<0||this.height<=t||n.tileset&&n.tileset.isClear(n.tiles[0][t][e])||i&&i.canSwim}getClearTile(e,t,i,n,s){const a=e+i,o=t+n,r=e<a?1:-1,l=t<o?1:-1;let c=((i=Math.abs(a-e))>(n=Math.abs(o-t))?i:-n)/2;for(;e!==a||t!==o;){const a=c;if(a>-i){if(!this.isClear(e+r,t,s))break;c-=n,e+=r}if(a<n){if(!this.isClear(e,t+l,s))break;c+=i,t+=l}}return{x:e,y:t}}getClearTileNear(e,t,i,n){for(let s=1;s<=i;++s)for(let i=-s;i<=s;++i){const a=s-Math.abs(i),o=e+i,r=t+a,l=t-a;if(this.isClear(o,r,n))return{x:o,y:r};if(this.isClear(o,l,n))return{x:o,y:l}}return{x:e,y:t}}}class mm extends Event{constructor(e){super(e),this.pointerType=null,this.pointerID=null,this.x=0,this.y=0,this.dx=0,this.dy=0,this.dz=0,this.u=0,this.v=0,this.du=0,this.dv=0,this.buttons=0,this.dragDistance=0,Object.seal(this)}}class vm extends Event{constructor(e){super("inputtypechanging"),this.newInputType=e,Object.freeze(this)}}class wm{constructor(e){this.type=e.pointerType,this.id=e.pointerId,this.buttons=e.buttons,this.moveDistance=0,this.dragDistance=0,this.x=e.offsetX,this.y=e.offsetY,this.dx=e.movementX,this.dy=e.movementY,Object.seal(this)}}const ym=5,Dm=new mm("pointerdown"),bm=new mm("pointerup"),xm=new mm("click"),Cm=new mm("move"),Bm=new mm("drag");class Pm extends wt{constructor(e){super(),this.pointers=new Map,this.currentInputType=null;let t=!0;const i=(t,i,n)=>{t.pointerType=i.type,t.pointerID=i.id,t.buttons=i.buttons,t.x=i.x,t.y=i.y,t.u=j(p(t.x,0,e.clientWidth),-1,1),t.v=j(p(t.y,0,e.clientHeight),-1,1),t.dx=i.dx,t.dy=i.dy,t.dz=n,t.du=2*t.dx/e.clientWidth,t.dv=2*t.dy/e.clientHeight,t.dragDistance=i.dragDistance,this.dispatchEvent(t)},n=e=>{const t=this.pointers.get(e.id);return t&&(e.dragDistance=t.dragDistance,document.pointerLockElement&&(e.x=t.x+e.dx,e.y=t.y+e.dy)),e.moveDistance=Math.sqrt(e.dx*e.dx+e.dy*e.dy),this.pointers.set(e.id,e),t};e.addEventListener("wheel",e=>{if(!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey)){e.preventDefault();const t=new wm(e),s=(n(t),-e.deltaY*(Ff?1:.02));i(Cm,t,s)}},{passive:!1}),e.addEventListener("pointerdown",e=>{const s=this.pressCount,a=new wm(e),o=(n(a),this.pressCount);a.type!==this.currentInputType&&(this.dispatchEvent(new vm(a.type)),this.currentInputType=a.type),i(Dm,a,0),t=0===s&&1===o});e.addEventListener("pointermove",e=>{const s=this.pinchDistance,a=new wm(e),o=n(a),r=this.pressCount,l=((e,i)=>{if(null!==e&&null!==i)return t=!1,(i-e)/10;return 0})(s,this.pinchDistance);i(Cm,a,l),1===r&&1===a.buttons&&o&&o.buttons===a.buttons&&(a.dragDistance+=a.moveDistance,a.dragDistance>ym&&(t=!1,i(Bm,a,0)))}),e.addEventListener("pointerup",e=>{const s=new wm(e),a=n(s);s.buttons=a.buttons,i(bm,s,0),t&&i(xm,s,0),s.dragDistance=0,"touch"===s.type&&this.pointers.delete(s.id)}),e.addEventListener("contextmenu",e=>{e.preventDefault()}),e.addEventListener("pointercancel",e=>{this.pointers.has(e.pointerId)&&this.pointers.delete(e.pointerId)})}get primaryPointer(){for(let e of this.pointers.values())return e}getPointerCount(e){let t=0;for(const i of this.pointers.values())i.type===e&&++t;return t}get pressCount(){let e=0;for(let t of this.pointers.values())t.buttons>0&&++e;return e}get pinchDistance(){if(2!==this.pressCount)return null;let e,t;for(let i of this.pointers.values())if(1===i.buttons)if(e){if(t)break;t=i}else e=i;const i=t.x-e.x,n=t.y-e.y;return Math.sqrt(i*i+n*n)}}const Em=3;class _m{constructor(e,t,i){this.emoji=e,this.x=t,this.y=i,this.dx=Math.random()-.5,this.dy=.5*-Math.random()-.5,this.life=1,this.width=-1,this.emoteText=new Pf,this.emoteText.fontFamily="Noto Color Emoji",this.emoteText.value=e.value}isDead(){return this.life<=.01}update(e){this.life-=e/Em,this.dx*=.99,this.dy*=.99,this.x+=this.dx*e,this.y+=this.dy*e}drawShadow(e,t){const i=st(e).a;e.save(),e.shadowColor="rgba(0, 0, 0, 0.5)",e.shadowOffsetX=3*i,e.shadowOffsetY=3*i,e.shadowBlur=3*i,this.drawEmote(e,t),e.restore()}drawEmote(e,t){const i=e.globalAlpha,n=st(e).a;e.globalAlpha=this.life,this.emoteText.fontSize=t.tileHeight/2,this.emoteText.scale=n,this.emoteText.draw(e,this.x*t.tileWidth-this.width/2,this.y*t.tileHeight),e.globalAlpha=i}}const Mm=.01,Sm=2,Fm=.125,Tm=new Event("gameStarted"),km=new Event("gameEnded"),Im=new Event("zoomChanged"),Lm=new Event("emojiNeeded"),Om=new Event("toggleAudio"),Rm=new Event("toggleVideo"),Nm=Object.assign(new Event("userMoved"),{x:0,y:0}),Hm=Object.assign(new Event("emote"),{emoji:null}),Qm=Object.assign(new Event("userJoined",{user:null})),jm=new Map;class zm extends wt{constructor(e,t){super(),this.zoomMin=e,this.zoomMax=t,this.element=Re(oe("frontBuffer")),this.gFront=this.element.getContext("2d"),this.me=null,this.map=null,this.waypoints=[],this.keys={},this.users=new Map,this.lastMove=Number.MAX_VALUE,this.lastWalk=Number.MAX_VALUE,this.gridOffsetX=0,this.gridOffsetY=0,this.cameraX=this.offsetCameraX=this.targetOffsetCameraX=0,this.cameraY=this.offsetCameraY=this.targetOffsetCameraY=0,this.cameraZ=this.targetCameraZ=1.5,this.currentRoomName=null,this.fontSize=10,this.drawHearing=!1,this.audioDistanceMin=2,this.audioDistanceMax=10,this.rolloff=5,this.currentEmoji=null,this.emotes=[],this.inputBinding={keyButtonUp:"ArrowUp",keyButtonDown:"ArrowDown",keyButtonLeft:"ArrowLeft",keyButtonRight:"ArrowRight",keyButtonEmote:"e",keyButtonToggleAudio:"a",keyButtonZoomOut:"[",keyButtonZoomIn:"]",gpAxisLeftRight:0,gpAxisUpDown:1,gpButtonEmote:0,gpButtonToggleAudio:1,gpButtonZoomIn:6,gpButtonZoomOut:7,gpButtonUp:12,gpButtonDown:13,gpButtonLeft:14,gpButtonRight:15},this.lastGamepadIndex=-1,this.gamepadIndex=-1,this.transitionSpeed=.125,this.keyboardEnabled=!0,addEventListener("keydown",e=>{this.keys[e.key]=e,!this.keyboardEnabled||e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||e.key!==this.inputBinding.keyButtonToggleAudio||!this.me||this.toggleMyAudio()}),addEventListener("keyup",e=>{this.keys[e.key]&&delete this.keys[e.key]}),this.screenControls=new Pm(this.element),H(this.screenControls,{move:e=>{Math.abs(e.dz)>0&&(this.zoom+=e.dz,this.dispatchEvent(Im))},drag:e=>{this.targetOffsetCameraX=this.offsetCameraX+=e.dx,this.targetOffsetCameraY=this.offsetCameraY+=e.dy},click:e=>{if(this.me){const t=this.getTileAt(e),i=t.x-this.me.gridX,n=t.y-this.me.gridY;this.moveMeByPath(i,n)}}})}get style(){return this.element.style}initializeUser(e,t){this.withUser("initialize user",e,e=>{e.deserialize(t)})}updateAudioActivity(e,t){this.withUser("update audio activity",e,e=>{e.isActive=t})}emote(e,t){if(this.users.has(e)){const i=this.users.get(e);i.isMe&&((t=t||this.currentEmoji)?(Hm.emoji=this.currentEmoji=t,this.dispatchEvent(Hm)):this.dispatchEvent(Lm)),t&&this.emotes.push(new _m(t,i.x,i.y))}}getTileAt(e){const t=e.x*devicePixelRatio-this.gridOffsetX-this.offsetCameraX,i=e.y*devicePixelRatio-this.gridOffsetY-this.offsetCameraY,n=t/this.cameraZ,s=i/this.cameraZ,a=n-this.cameraX,o=s-this.cameraY;return{x:a/this.map.tileWidth-.5,y:o/this.map.tileHeight-.5}}moveMeTo(e,t){this.map.isClear(e,t,this.me.avatar)&&(this.targetOffsetCameraX=0,this.targetOffsetCameraY=0,Nm.x=e,Nm.y=t,this.dispatchEvent(Nm))}moveMeBy(e,t){const i=this.map.getClearTile(this.me.gridX,this.me.gridY,e,t,this.me.avatar);this.moveMeTo(i.x,i.y)}moveMeByPath(e,i){t(this.waypoints);const n=this.me.gridX,s=this.me.gridY,a=this.map.getGridNode(n,s),o=n+e,r=s+i,l=o-Math.round(o),c=r-Math.round(r),u=this.map.getGridNode(o,r);if(a&&u){const e=this.map.searchPath(a,u);if(0===e.length)this.moveMeTo(o,r);else{for(let t of e)t.x+=l,t.y+=c;this.waypoints.push(...e)}}else this.moveMeTo(o,r)}warpMeTo(e,t){const i=this.map.getClearTileNear(e,t,3,this.me.avatar);this.moveMeTo(i.x,i.y)}visit(e){this.withUser("visit",e,e=>{this.warpMeTo(e.gridX,e.gridY)})}get zoom(){const e=p(this.targetCameraZ,this.zoomMin,this.zoomMax);return j(Math.pow(e,1/Sm),this.zoomMin,this.zoomMax)}set zoom(e){const t=p(e=A(e,this.zoomMin,this.zoomMax),this.zoomMin,this.zoomMax),i=j(Math.pow(t,Sm),this.zoomMin,this.zoomMax);this.targetCameraZ=i}addUser(e,t,i){this.users.has(e)&&this.removeUser(e);const n=new Qf(e,t,i,!1);this.users.set(e,n),Qm.user=n,this.dispatchEvent(Qm)}toggleMyAudio(){this.dispatchEvent(Om)}toggleMyVideo(){this.dispatchEvent(Rm)}muteUserAudio(e,t){this.withUser("mute audio",e,e=>{e.audioMuted=t})}muteUserVideo(e,t){this.withUser("mute video",e,e=>{e.videoMuted=t})}withUser(e,t,i,n){if(void 0===n&&(n=5e3),t)if(this.users.has(t)){i(this.users.get(t))}else console.warn(`No user "${t}" found to ${e}. Trying again in a quarter second.`),n>0&&setTimeout(this.withUser.bind(this,e,t,i,n-250),250)}changeUserName(e,t){this.withUser("change user name",e,e=>{e.displayName=t})}removeUser(e){this.users.has(e)&&this.users.delete(e)}setAvatarVideo(e,t){this.withUser("set avatar video",e,e=>{e.setAvatarVideo(t)})}setAvatarURL(e,t){this.withUser("set avatar image",e,e=>{e.avatarImage=t})}setAvatarEmoji(e,t){this.withUser("set avatar emoji",e,e=>{e.avatarEmoji=t})}async startAsync(e,t,i,n,s){this.currentRoomName=s.toLowerCase(),this.me=new Qf(e,t,i,!0),a(n)&&(this.me.avatarImage=n),this.users.set(e,this.me),this.map=new fm(this.currentRoomName);let o=!1;for(let e=0;e<2;++e)try{await this.map.load(),o=!0}catch(t){0===e?(console.warn(t),console.warn("Retrying with default map."),this.map=new fm("default")):console.error(t)}o||console.error("Couldn't load any maps!"),this.startLoop(),this.dispatchEvent(Im),this.dispatchEvent(Tm)}startLoop(){De(this),this.resize(),this.element.focus()}resize(){!function(e,t=1){at(e,e.clientWidth,e.clientHeight,t)}(this.element,window.devicePixelRatio)}end(){this.currentRoomName=null,this.map=null,this.users.clear(),this.me=null,be(this),this.dispatchEvent(km)}update(e){if(null!==this.currentRoomName){if(e/=1e3,this.gridOffsetX=Math.floor(.5*this.element.width/this.map.tileWidth)*this.map.tileWidth,this.gridOffsetY=Math.floor(.5*this.element.height/this.map.tileHeight)*this.map.tileHeight,this.lastMove+=e,this.lastMove>=Fm){let e=0,i=0,n=0;if(this.keyboardEnabled)for(let t of Object.values(this.keys))if(!(t.altKey||t.shiftKey||t.ctrlKey||t.metaKey))switch(t.key){case this.inputBinding.keyButtonUp:i--;break;case this.inputBinding.keyButtonDown:i++;break;case this.inputBinding.keyButtonLeft:e--;break;case this.inputBinding.keyButtonRight:e++;break;case this.inputBinding.keyButtonZoomIn:n++;break;case this.inputBinding.keyButtonZoomOut:n--;break;case this.inputBinding.keyButtonEmote:this.emote(this.me.id,this.currentEmoji)}const s=navigator.getGamepads()[this.gamepadIndex];if(s){jm.has(this)||jm.set(this,new Df(s));const t=jm.get(this);t.update(s),t.buttons[this.inputBinding.gpButtonEmote].pressed&&this.emote(this.me.id,this.currentEmoji),!t.lastButtons[this.inputBinding.gpButtonToggleAudio].pressed&&t.buttons[this.inputBinding.gpButtonToggleAudio].pressed&&this.toggleMyAudio(),t.buttons[this.inputBinding.gpButtonUp].pressed?--i:t.buttons[this.inputBinding.gpButtonDown].pressed&&++i,t.buttons[this.inputBinding.gpButtonLeft].pressed?--e:t.buttons[this.inputBinding.gpButtonRight].pressed&&++e,e+=Math.round(t.axes[this.inputBinding.gpAxisLeftRight]),i+=Math.round(t.axes[this.inputBinding.gpAxisUpDown]),n+=2*(t.buttons[this.inputBinding.gpButtonZoomIn].value-t.buttons[this.inputBinding.gpButtonZoomOut].value),this.targetOffsetCameraX+=-50*Math.round(2*t.axes[2]),this.targetOffsetCameraY+=-50*Math.round(2*t.axes[3]),this.dispatchEvent(Im)}e=A(e,-1,1),i=A(i,-1,1),0===e&&0===i||(this.moveMeBy(e,i),t(this.waypoints)),0!==n&&(this.zoom+=n,this.dispatchEvent(Im)),this.lastMove=0}if(this.lastWalk+=e,this.lastWalk>=this.transitionSpeed){if(this.waypoints.length>0){const e=this.waypoints.shift();this.moveMeTo(e.x,e.y)}this.lastWalk=0}for(let t of this.emotes)t.update(e);this.emotes=this.emotes.filter(e=>!e.isDead());for(let e of this.users.values())e.update(this.map,this.users);this.render()}}render(){const e=-this.me.x*this.map.tileWidth,t=-this.me.y*this.map.tileHeight;this.cameraZ=Q(this.cameraZ,this.targetCameraZ,Mm*this.cameraZ),this.cameraX=Q(this.cameraX,e,Mm*this.cameraZ),this.cameraY=Q(this.cameraY,t,Mm*this.cameraZ),this.offsetCameraX=Q(this.offsetCameraX,this.targetOffsetCameraX,Mm),this.offsetCameraY=Q(this.offsetCameraY,this.targetOffsetCameraY,Mm),this.gFront.resetTransform(),this.gFront.imageSmoothingEnabled=!1,this.gFront.clearRect(0,0,this.element.width,this.element.height),this.gFront.save(),this.gFront.translate(this.gridOffsetX+this.offsetCameraX,this.gridOffsetY+this.offsetCameraY),this.gFront.scale(this.cameraZ,this.cameraZ),this.gFront.translate(this.cameraX,this.cameraY),this.map.draw(this.gFront);for(let e of this.users.values())e.drawShadow(this.gFront,this.map);for(let e of this.emotes)e.drawShadow(this.gFront,this.map);for(let e of this.users.values())e.drawAvatar(this.gFront,this.map);this.drawCursor();for(let e of this.users.values())e.drawName(this.gFront,this.map,this.fontSize);this.drawHearing&&this.me.drawHearingRange(this.gFront,this.map,this.audioDistanceMin,this.audioDistanceMax);for(let e of this.emotes)e.drawEmote(this.gFront,this.map);this.gFront.restore()}drawCursor(){const e=this.screenControls.primaryPointer;if(e){const t=this.getTileAt(e);this.gFront.strokeStyle=this.map.isClear(t.x,t.y,this.me.avatar)?"green":"red",this.gFront.strokeRect(t.x*this.map.tileWidth,t.y*this.map.tileHeight,this.map.tileWidth,this.map.tileHeight)}}}const Um="CallaSettings",Wm=Object.freeze({keyButtonUp:"ArrowUp",keyButtonDown:"ArrowDown",keyButtonLeft:"ArrowLeft",keyButtonRight:"ArrowRight",keyButtonEmote:"e",keyButtonToggleAudio:"a",keyButtonZoomOut:"[",keyButtonZoomIn:"]",gpButtonEmote:0,gpButtonToggleAudio:1,gpButtonZoomIn:6,gpButtonZoomOut:7,gpButtonUp:12,gpButtonDown:13,gpButtonLeft:14,gpButtonRight:15}),Gm=new WeakMap;class Ym{constructor(){this.drawHearing=!1,this.audioDistanceMin=1,this.audioDistanceMax=10,this.audioRolloff=1,this.fontSize=12,this.transitionSpeed=1,this.zoom=1.5,this.roomName="calla",this.userName="",this.email="",this.avatarEmoji=null,this.avatarURL=null,this.gamepadIndex=0,this.preferredAudioOutputID=null,this.preferredAudioInputID=null,this.preferredVideoInputID=null,this.inputBinding=Wm;const e=localStorage.getItem(Um);for(var t in e&&Object.assign(this,JSON.parse(e)),Wm)void 0===this.inputBinding[t]&&(this.inputBinding[t]=Wm[t]);Object.seal(this)}commit(){localStorage.setItem(Um,JSON.stringify(this))}}class qm{constructor(){const e=new Ym;Gm.set(this,e),window.location.hash.length>0&&(e.roomName=window.location.hash.substring(1)),Object.seal(this)}get preferredAudioOutputID(){return Gm.get(this).preferredAudioOutputID}set preferredAudioOutputID(e){if(e!==this.preferredAudioOutputID){const t=Gm.get(this);t.preferredAudioOutputID=e,t.commit()}}get preferredAudioInputID(){return Gm.get(this).preferredAudioInputID}set preferredAudioInputID(e){if(e!==this.preferredAudioInputID){const t=Gm.get(this);t.preferredAudioInputID=e,t.commit()}}get preferredVideoInputID(){return Gm.get(this).preferredVideoInputID}set preferredVideoInputID(e){if(e!==this.preferredVideoInputID){const t=Gm.get(this);t.preferredVideoInputID=e,t.commit()}}get transitionSpeed(){return Gm.get(this).transitionSpeed}set transitionSpeed(e){if(e!==this.transitionSpeed){const t=Gm.get(this);t.transitionSpeed=e,t.commit()}}get drawHearing(){return Gm.get(this).drawHearing}set drawHearing(e){if(e!==this.drawHearing){const t=Gm.get(this);t.drawHearing=e,t.commit()}}get audioDistanceMin(){return Gm.get(this).audioDistanceMin}set audioDistanceMin(e){if(e!==this.audioDistanceMin){const t=Gm.get(this);t.audioDistanceMin=e,t.commit()}}get audioDistanceMax(){return Gm.get(this).audioDistanceMax}set audioDistanceMax(e){if(e!==this.audioDistanceMax){const t=Gm.get(this);t.audioDistanceMax=e,t.commit()}}get audioRolloff(){return Gm.get(this).audioRolloff}set audioRolloff(e){if(e!==this.audioRolloff){const t=Gm.get(this);t.audioRolloff=e,t.commit()}}get fontSize(){return Gm.get(this).fontSize}set fontSize(e){if(e!==this.fontSize){const t=Gm.get(this);t.fontSize=e,t.commit()}}get zoom(){return Gm.get(this).zoom}set zoom(e){if(e!==this.zoom){const t=Gm.get(this);t.zoom=e,t.commit()}}get userName(){return Gm.get(this).userName}set userName(e){if(e!==this.userName){const t=Gm.get(this);t.userName=e,t.commit()}}get email(){return Gm.get(this).email}set email(e){if(e!==this.email){const t=Gm.get(this);t.email=e,t.commit()}}get avatarEmoji(){return Gm.get(this).avatarEmoji}set avatarEmoji(e){if(e!==this.avatarEmoji){const t=Gm.get(this);t.avatarEmoji=e,t.commit()}}get avatarURL(){return Gm.get(this).avatarURL}set avatarURL(e){if(e!==this.avatarURL){const t=Gm.get(this);t.avatarURL=e,t.commit()}}get roomName(){return Gm.get(this).roomName}set roomName(e){if(e!==this.roomName){const t=Gm.get(this);t.roomName=e,t.commit()}}get gamepadIndex(){return Gm.get(this).gamepadIndex}set gamepadIndex(e){if(e!==this.gamepadIndex){const t=Gm.get(this);t.gamepadIndex=e,t.commit()}}get inputBinding(){return Gm.get(this).inputBinding}set inputBinding(e){if(e!==this.inputBinding){const t=Gm.get(this);for(let i in e)t.inputBinding[i]=e[i];t.commit()}}}const Vm=.5,Xm=20,Zm=new qm,Jm=new zm(Vm,Xm),Km=new ff,$m=new Am,ev=new Vg(Jm.element,Vm,Xm),tv=new rf,iv=new am,nv=new nf("instructions"),sv=new Af,av=new Mn(Sg,Fg,Tg),ov=new Mg,rv=ie(!0),lv=ie(!1);let cv=!1;async function At(e,t){const i=fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),n=await i;return n.ok&&console.log("Thanks!"),n}Object.assign(window,{settings:Zm,client:av,game:Jm,login:Km,directory:$m,controls:ev,devices:tv,options:iv,emoji:sv,instructions:nv});const uv=e=>()=>dt(e);function dt(e){cv||(be(Km),be($m),be(iv),be(tv),be(sv),be(nv),De(e))}async function pt(e){if(!me(sv)){cv=!0,rv.apply(ev.optionsButton),rv.apply(ev.instructionsButton),rv.apply(ev.changeDevicesButton),be(iv);const t=await sv.selectAsync();t&&e(t),lv.apply(ev.optionsButton),lv.apply(ev.instructionsButton),lv.apply(ev.changeDevicesButton),cv=!1}}async function gt(){await pt(e=>{Jm.emote(av.localUserID,e),ev.setEmojiButton(Zm.inputBinding.keyButtonEmote,e)})}function ft(){av.setAudioProperties(Zm.audioDistanceMin=Jm.audioDistanceMin=iv.audioDistanceMin,Zm.audioDistanceMax=Jm.audioDistanceMax=iv.audioDistanceMax,Zm.audioRolloff=iv.audioRolloff,Zm.transitionSpeed)}function mt(){iv.gamepads=navigator.getGamepads(),iv.gamepadIndex=Jm.gamepadIndex}function vt(e){Jm.withUser("list user in directory",e,e=>$m.set(e))}H(window,{gamepadconnected:mt,gamepaddisconnected:mt,resize:()=>{Jm.resize()}}),H(ev,{toggleOptions:uv(iv),toggleInstructions:uv(nv),toggleUserDirectory:uv($m),changeDevices:uv(tv),tweet:()=>{const e=encodeURIComponent("Join my #TeleParty "+document.location.href),t=new URL("https://twitter.com/intent/tweet?text="+e);window.open(t)},leave:async()=>{$m.clear(),await av.leaveAsync()},selectEmoji:gt,emote:()=>{Jm.emote(av.localUserID,Jm.currentEmoji)},toggleAudio:async()=>{await av.toggleAudioMutedAsync()},toggleVideo:async()=>{await av.toggleVideoMutedAsync()},zoomChanged:()=>{Zm.zoom=Jm.zoom=ev.zoom}}),H(Km,{login:async()=>{await av.audio.createClip("join",!1,!1,!0,null,"audio/door-open.ogg","audio/door-open.mp3","audio/door-open.wav"),await av.audio.createClip("leave",!1,!1,!0,null,"audio/door-close.ogg","audio/door-close.mp3","audio/door-close.wav"),ft();let e=Km.roomName;Km.roomSelectMode||(e=await async function(e){const t=await At("/Game/Rooms",e);return await t.text()}(e)),await async function(e,t,i){await At("/Contacts",{Name:e,Email:t,Room:i})}(Zm.userName=Km.userName,Zm.email=Km.email,Zm.roomName=e);const t="Calla - chatting in "+e,i=`${window.location.pathname}#${e}`;window.history.replaceState({},t,i),await $m.startAsync(e,Km.userName),await av.join(e,Km.userName)}}),H(iv,{audioPropertiesChanged:ft,selectAvatar:async()=>{await pt(e=>{Zm.avatarEmoji=av.avatarEmoji=Jm.me.avatarEmoji=e,vt(av.localUserID)})},avatarURLChanged:()=>{Zm.avatarURL=av.avatarURL=Jm.me.avatarImage=iv.avatarURL,vt(av.localUserID)},toggleDrawHearing:()=>{Zm.drawHearing=Jm.drawHearing=iv.drawHearing},fontSizeChanged:()=>{Zm.fontSize=Jm.fontSize=iv.fontSize},gamepadChanged:()=>{Zm.gamepadIndex=Jm.gamepadIndex=iv.gamepadIndex},inputBindingChanged:()=>{Zm.inputBinding=Jm.inputBinding=iv.inputBinding},toggleVideo:async()=>{await av.toggleVideoMutedAsync()}}),H(tv,{audioInputChanged:async()=>{const e=tv.currentAudioInputDevice;await av.setAudioInputDeviceAsync(e),Zm.preferredAudioInputID=av.preferredAudioInputID},audioOutputChanged:async()=>{const e=tv.currentAudioOutputDevice;await av.setAudioOutputDeviceAsync(e),Zm.preferredAudioOutputID=av.preferredAudioOutputID},videoInputChanged:async()=>{const e=tv.currentVideoInputDevice;await av.setVideoInputDeviceAsync(e),Zm.preferredVideoInputID=av.preferredVideoInputID}}),H(Jm,{emojiNeeded:gt,emote:e=>{av.emote(e.emoji)},userJoined:e=>{vt(e.user.id)},toggleAudio:async()=>{await av.toggleAudioMutedAsync(),Zm.preferredAudioInputID=av.preferredAudioInputID},toggleVideo:async()=>{await av.toggleVideoMutedAsync(),Zm.preferredVideoInputID=av.preferredVideoInputID},gameStarted:()=>{Jm.resize(),be(Km),De(ev),iv.user=Jm.me,ev.enabled=!0,Zm.avatarEmoji=av.avatarEmoji=Jm.me.avatarEmoji=Zm.avatarEmoji||Ao.random(),vt(av.localUserID)},userMoved:e=>{av.setLocalPosition(e.x,0,e.y)},gameEnded:()=>{Km.connected=!1,dt(Km)},zoomChanged:()=>{Zm.zoom=ev.zoom=Jm.zoom}}),H($m,{warpTo:e=>{Jm.visit(e.id)},chatFocusChanged:()=>{Jm.keyboardEnabled=!$m.chatFocused}}),H(av,{videoConferenceJoined:async e=>{Km.connected=!0,await Jm.startAsync(e.id,e.displayName,e.pose,e.avatarURL,e.roomName),av.avatarURL=Jm.me.avatarImage=iv.avatarURL=Zm.avatarURL,tv.audioInputDevices=await av.getAudioInputDevicesAsync(),tv.audioOutputDevices=await av.getAudioOutputDevicesAsync(),tv.videoInputDevices=await av.getVideoInputDevicesAsync(),Zm.preferredAudioInputID=av.preferredAudioInputID,Zm.preferredAudioOutputID=av.preferredAudioOutputID,Zm.preferredVideoInputID=av.preferredVideoInputID,tv.currentAudioInputDevice=await av.getCurrentAudioInputDeviceAsync(),tv.currentAudioOutputDevice=await av.getCurrentAudioOutputDeviceAsync(),tv.currentVideoInputDevice=await av.getCurrentVideoInputDeviceAsync();const t=av.isAudioMuted;Jm.muteUserAudio(av.localUserID,t),ev.audioEnabled=!t;const i=av.isVideoMuted;Jm.muteUserVideo(av.localUserID,i),ev.videoEnabled=!i},videoConferenceLeft:()=>{Jm.end()},participantJoined:e=>{av.audio.playClip("join",.5),Jm.addUser(e.id,e.displayName,e.pose)},participantLeft:e=>{av.audio.playClip("leave",.5),Jm.removeUser(e.id),$m.delete(e.id)},audioChanged:e=>{vt(e.id)},videoChanged:e=>{Jm.setAvatarVideo(e.id,e.stream),vt(e.id)},avatarChanged:e=>{Jm.setAvatarURL(e.id,e.url),vt(e.id)},displayNameChange:e=>{Jm.changeUserName(e.id,e.displayName),vt(e.id)},audioMuteStatusChanged:async e=>{Jm.muteUserAudio(e.id,e.muted)},localAudioMuteStatusChanged:async e=>{ev.audioEnabled=!e.muted,tv.currentAudioInputDevice=await av.getCurrentAudioInputDeviceAsync(),Zm.preferredAudioInputID=av.preferredAudioInputID},videoMuteStatusChanged:async e=>{Jm.muteUserVideo(e.id,e.muted),Zm.preferredVideoInputID=av.preferredVideoInputID},localVideoMuteStatusChanged:async e=>{ev.videoEnabled=!e.muted,e.muted?iv.setAvatarVideo(null):iv.setAvatarVideo(Jm.me.avatarVideo.element),tv.currentVideoInputDevice=await av.getCurrentVideoInputDeviceAsync()},userInitRequest:e=>{av.userInitResponse(e.id,Jm.me.serialize())},userInitResponse:e=>{Jm.initializeUser(e.id,e),vt(e.id)},emote:e=>{Jm.emote(e.id,e)},setAvatarEmoji:e=>{Jm.setAvatarEmoji(e.id,e),vt(e.id)},audioActivity:e=>{Jm.updateAudioActivity(e.id,e.isActive)}}),H(ov,{tick:e=>{av.update(),iv.update(),$m.update(),Jm.update(e.dt)}}),iv.drawHearing=Jm.drawHearing=Zm.drawHearing,iv.audioDistanceMin=Jm.audioDistanceMin=Zm.audioDistanceMin,iv.audioDistanceMax=Jm.audioDistanceMax=Zm.audioDistanceMax,iv.audioRolloff=Zm.audioRolloff,iv.fontSize=Jm.fontSize=Zm.fontSize,iv.gamepads=navigator.getGamepads(),iv.gamepadIndex=Jm.gamepadIndex=Zm.gamepadIndex,iv.inputBinding=Jm.inputBinding=Zm.inputBinding,ev.zoom=Jm.zoom=Zm.zoom,Jm.cameraZ=Jm.targetCameraZ,Jm.transitionSpeed=Zm.transitionSpeed=.5,Km.userName=Zm.userName,Km.roomName=Zm.roomName,Km.email=Zm.email,ev.enabled=!1,dt(Km),Km.ready=!0,ov.start(),$(K({fontFamily:"Noto Color Emoji",fontSize:100}))}catch(e){TraceKit.report(e)}
//# sourceMappingURL=game.min.js.map
